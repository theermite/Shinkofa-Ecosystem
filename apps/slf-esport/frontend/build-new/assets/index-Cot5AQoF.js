import{r as c,b as Yn,a as Jn,R as Pe,g as Xn,u as tt,L as xe,d as or,e as Kn,N as Ia,B as Zn,f as ei,h as De}from"./react-vendor-DwOmZ272.js";import{_ as Ce,a as Qt,c as ti,b as qa,R as kr,L as ri,C as Ua,X as Ha,Y as za,T as Sr,d as si,e as ai,f as ni,B as ii,g as li,P as Bs,h as Gs,i as Ws}from"./ui-vendor-Cw7YvO49.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();var Ba={exports:{}},zr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oi=c,ci=Symbol.for("react.element"),di=Symbol.for("react.fragment"),ui=Object.prototype.hasOwnProperty,mi=oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xi={key:!0,ref:!0,__self:!0,__source:!0};function Ga(t,r,s){var a,n={},i=null,l=null;s!==void 0&&(i=""+s),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(l=r.ref);for(a in r)ui.call(r,a)&&!xi.hasOwnProperty(a)&&(n[a]=r[a]);if(t&&t.defaultProps)for(a in r=t.defaultProps,r)n[a]===void 0&&(n[a]=r[a]);return{$$typeof:ci,type:t,key:i,ref:l,props:n,_owner:mi.current}}zr.Fragment=di;zr.jsx=Ga;zr.jsxs=Ga;Ba.exports=zr;var e=Ba.exports,xs={},Vs=Yn;xs.createRoot=Vs.createRoot,xs.hydrateRoot=Vs.hydrateRoot;var Yt=function(){function t(){this.listeners=[]}var r=t.prototype;return r.subscribe=function(a){var n=this,i=a||function(){};return this.listeners.push(i),this.onSubscribe(),function(){n.listeners=n.listeners.filter(function(l){return l!==i}),n.onUnsubscribe()}},r.hasListeners=function(){return this.listeners.length>0},r.onSubscribe=function(){},r.onUnsubscribe=function(){},t}(),Tr=typeof window>"u";function Be(){}function hi(t,r){return typeof t=="function"?t(r):t}function hs(t){return typeof t=="number"&&t>=0&&t!==1/0}function Pr(t){return Array.isArray(t)?t:[t]}function Wa(t,r){return Math.max(t+(r||0)-Date.now(),0)}function Cr(t,r,s){return cr(t)?typeof r=="function"?Ce({},s,{queryKey:t,queryFn:r}):Ce({},r,{queryKey:t}):t}function pi(t,r,s){return cr(t)?typeof r=="function"?Ce({},s,{mutationKey:t,mutationFn:r}):Ce({},r,{mutationKey:t}):typeof t=="function"?Ce({},r,{mutationFn:t}):Ce({},t)}function Ct(t,r,s){return cr(t)?[Ce({},r,{queryKey:t}),s]:[t||{},r]}function gi(t,r){if(t===!0&&r===!0||t==null&&r==null)return"all";if(t===!1&&r===!1)return"none";var s=t??!r;return s?"active":"inactive"}function Qs(t,r){var s=t.active,a=t.exact,n=t.fetching,i=t.inactive,l=t.predicate,o=t.queryKey,d=t.stale;if(cr(o)){if(a){if(r.queryHash!==_s(o,r.options))return!1}else if(!Fr(r.queryKey,o))return!1}var m=gi(s,i);if(m==="none")return!1;if(m!=="all"){var x=r.isActive();if(m==="active"&&!x||m==="inactive"&&x)return!1}return!(typeof d=="boolean"&&r.isStale()!==d||typeof n=="boolean"&&r.isFetching()!==n||l&&!l(r))}function Ys(t,r){var s=t.exact,a=t.fetching,n=t.predicate,i=t.mutationKey;if(cr(i)){if(!r.options.mutationKey)return!1;if(s){if(Pt(r.options.mutationKey)!==Pt(i))return!1}else if(!Fr(r.options.mutationKey,i))return!1}return!(typeof a=="boolean"&&r.state.status==="loading"!==a||n&&!n(r))}function _s(t,r){var s=(r==null?void 0:r.queryKeyHashFn)||Pt;return s(t)}function Pt(t){var r=Pr(t);return fi(r)}function fi(t){return JSON.stringify(t,function(r,s){return ps(s)?Object.keys(s).sort().reduce(function(a,n){return a[n]=s[n],a},{}):s})}function Fr(t,r){return Va(Pr(t),Pr(r))}function Va(t,r){return t===r?!0:typeof t!=typeof r?!1:t&&r&&typeof t=="object"&&typeof r=="object"?!Object.keys(r).some(function(s){return!Va(t[s],r[s])}):!1}function Dr(t,r){if(t===r)return t;var s=Array.isArray(t)&&Array.isArray(r);if(s||ps(t)&&ps(r)){for(var a=s?t.length:Object.keys(t).length,n=s?r:Object.keys(r),i=n.length,l=s?[]:{},o=0,d=0;d<i;d++){var m=s?d:n[d];l[m]=Dr(t[m],r[m]),l[m]===t[m]&&o++}return a===i&&o===a?t:l}return r}function bi(t,r){if(t&&!r||r&&!t)return!1;for(var s in t)if(t[s]!==r[s])return!1;return!0}function ps(t){if(!Js(t))return!1;var r=t.constructor;if(typeof r>"u")return!0;var s=r.prototype;return!(!Js(s)||!s.hasOwnProperty("isPrototypeOf"))}function Js(t){return Object.prototype.toString.call(t)==="[object Object]"}function cr(t){return typeof t=="string"||Array.isArray(t)}function yi(t){return new Promise(function(r){setTimeout(r,t)})}function Xs(t){Promise.resolve().then(t).catch(function(r){return setTimeout(function(){throw r})})}function Qa(){if(typeof AbortController=="function")return new AbortController}var vi=function(t){Qt(r,t);function r(){var a;return a=t.call(this)||this,a.setup=function(n){var i;if(!Tr&&((i=window)!=null&&i.addEventListener)){var l=function(){return n()};return window.addEventListener("visibilitychange",l,!1),window.addEventListener("focus",l,!1),function(){window.removeEventListener("visibilitychange",l),window.removeEventListener("focus",l)}}},a}var s=r.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}},s.setEventListener=function(n){var i,l=this;this.setup=n,(i=this.cleanup)==null||i.call(this),this.cleanup=n(function(o){typeof o=="boolean"?l.setFocused(o):l.onFocus()})},s.setFocused=function(n){this.focused=n,n&&this.onFocus()},s.onFocus=function(){this.listeners.forEach(function(n){n()})},s.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},r}(Yt),ir=new vi,ji=function(t){Qt(r,t);function r(){var a;return a=t.call(this)||this,a.setup=function(n){var i;if(!Tr&&((i=window)!=null&&i.addEventListener)){var l=function(){return n()};return window.addEventListener("online",l,!1),window.addEventListener("offline",l,!1),function(){window.removeEventListener("online",l),window.removeEventListener("offline",l)}}},a}var s=r.prototype;return s.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},s.onUnsubscribe=function(){if(!this.hasListeners()){var n;(n=this.cleanup)==null||n.call(this),this.cleanup=void 0}},s.setEventListener=function(n){var i,l=this;this.setup=n,(i=this.cleanup)==null||i.call(this),this.cleanup=n(function(o){typeof o=="boolean"?l.setOnline(o):l.onOnline()})},s.setOnline=function(n){this.online=n,n&&this.onOnline()},s.onOnline=function(){this.listeners.forEach(function(n){n()})},s.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},r}(Yt),Er=new ji;function Ni(t){return Math.min(1e3*Math.pow(2,t),3e4)}function Or(t){return typeof(t==null?void 0:t.cancel)=="function"}var Ya=function(r){this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent};function Mr(t){return t instanceof Ya}var Ja=function(r){var s=this,a=!1,n,i,l,o;this.abort=r.abort,this.cancel=function(p){return n==null?void 0:n(p)},this.cancelRetry=function(){a=!0},this.continueRetry=function(){a=!1},this.continue=function(){return i==null?void 0:i()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(p,g){l=p,o=g});var d=function(g){s.isResolved||(s.isResolved=!0,r.onSuccess==null||r.onSuccess(g),i==null||i(),l(g))},m=function(g){s.isResolved||(s.isResolved=!0,r.onError==null||r.onError(g),i==null||i(),o(g))},x=function(){return new Promise(function(g){i=g,s.isPaused=!0,r.onPause==null||r.onPause()}).then(function(){i=void 0,s.isPaused=!1,r.onContinue==null||r.onContinue()})},h=function p(){if(!s.isResolved){var g;try{g=r.fn()}catch(u){g=Promise.reject(u)}n=function(b){if(!s.isResolved&&(m(new Ya(b)),s.abort==null||s.abort(),Or(g)))try{g.cancel()}catch{}},s.isTransportCancelable=Or(g),Promise.resolve(g).then(d).catch(function(u){var b,j;if(!s.isResolved){var R=(b=r.retry)!=null?b:3,k=(j=r.retryDelay)!=null?j:Ni,S=typeof k=="function"?k(s.failureCount,u):k,$=R===!0||typeof R=="number"&&s.failureCount<R||typeof R=="function"&&R(s.failureCount,u);if(a||!$){m(u);return}s.failureCount++,r.onFail==null||r.onFail(s.failureCount,u),yi(S).then(function(){if(!ir.isFocused()||!Er.isOnline())return x()}).then(function(){a?m(u):p()})}})}};h()},wi=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(s){s()},this.batchNotifyFn=function(s){s()}}var r=t.prototype;return r.batch=function(a){var n;this.transactions++;try{n=a()}finally{this.transactions--,this.transactions||this.flush()}return n},r.schedule=function(a){var n=this;this.transactions?this.queue.push(a):Xs(function(){n.notifyFn(a)})},r.batchCalls=function(a){var n=this;return function(){for(var i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];n.schedule(function(){a.apply(void 0,l)})}},r.flush=function(){var a=this,n=this.queue;this.queue=[],n.length&&Xs(function(){a.batchNotifyFn(function(){n.forEach(function(i){a.notifyFn(i)})})})},r.setNotifyFunction=function(a){this.notifyFn=a},r.setBatchNotifyFunction=function(a){this.batchNotifyFn=a},t}(),$e=new wi,Xa=console;function $r(){return Xa}function ki(t){Xa=t}var Si=function(){function t(s){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.cache=s.cache,this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.initialState=s.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=s.meta,this.scheduleGc()}var r=t.prototype;return r.setOptions=function(a){var n;this.options=Ce({},this.defaultOptions,a),this.meta=a==null?void 0:a.meta,this.cacheTime=Math.max(this.cacheTime||0,(n=this.options.cacheTime)!=null?n:5*60*1e3)},r.setDefaultOptions=function(a){this.defaultOptions=a},r.scheduleGc=function(){var a=this;this.clearGcTimeout(),hs(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){a.optionalRemove()},this.cacheTime))},r.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},r.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},r.setData=function(a,n){var i,l,o=this.state.data,d=hi(a,o);return(i=(l=this.options).isDataEqual)!=null&&i.call(l,o,d)?d=o:this.options.structuralSharing!==!1&&(d=Dr(o,d)),this.dispatch({data:d,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt}),d},r.setState=function(a,n){this.dispatch({type:"setState",state:a,setStateOptions:n})},r.cancel=function(a){var n,i=this.promise;return(n=this.retryer)==null||n.cancel(a),i?i.then(Be).catch(Be):Promise.resolve()},r.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},r.reset=function(){this.destroy(),this.setState(this.initialState)},r.isActive=function(){return this.observers.some(function(a){return a.options.enabled!==!1})},r.isFetching=function(){return this.state.isFetching},r.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(a){return a.getCurrentResult().isStale})},r.isStaleByTime=function(a){return a===void 0&&(a=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Wa(this.state.dataUpdatedAt,a)},r.onFocus=function(){var a,n=this.observers.find(function(i){return i.shouldFetchOnWindowFocus()});n&&n.refetch(),(a=this.retryer)==null||a.continue()},r.onOnline=function(){var a,n=this.observers.find(function(i){return i.shouldFetchOnReconnect()});n&&n.refetch(),(a=this.retryer)==null||a.continue()},r.addObserver=function(a){this.observers.indexOf(a)===-1&&(this.observers.push(a),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:a}))},r.removeObserver=function(a){this.observers.indexOf(a)!==-1&&(this.observers=this.observers.filter(function(n){return n!==a}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:a}))},r.getObserversCount=function(){return this.observers.length},r.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},r.fetch=function(a,n){var i=this,l,o,d;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var m;return(m=this.retryer)==null||m.continueRetry(),this.promise}}if(a&&this.setOptions(a),!this.options.queryFn){var x=this.observers.find(function(k){return k.options.queryFn});x&&this.setOptions(x.options)}var h=Pr(this.queryKey),p=Qa(),g={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(g,"signal",{enumerable:!0,get:function(){if(p)return i.abortSignalConsumed=!0,p.signal}});var u=function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(g)):Promise.reject("Missing queryFn")},b={fetchOptions:n,options:this.options,queryKey:h,state:this.state,fetchFn:u,meta:this.meta};if((l=this.options.behavior)!=null&&l.onFetch){var j;(j=this.options.behavior)==null||j.onFetch(b)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((o=b.fetchOptions)==null?void 0:o.meta)){var R;this.dispatch({type:"fetch",meta:(R=b.fetchOptions)==null?void 0:R.meta})}return this.retryer=new Ja({fn:b.fetchFn,abort:p==null||(d=p.abort)==null?void 0:d.bind(p),onSuccess:function(S){i.setData(S),i.cache.config.onSuccess==null||i.cache.config.onSuccess(S,i),i.cacheTime===0&&i.optionalRemove()},onError:function(S){Mr(S)&&S.silent||i.dispatch({type:"error",error:S}),Mr(S)||(i.cache.config.onError==null||i.cache.config.onError(S,i),$r().error(S)),i.cacheTime===0&&i.optionalRemove()},onFail:function(){i.dispatch({type:"failed"})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:b.options.retry,retryDelay:b.options.retryDelay}),this.promise=this.retryer.promise,this.promise},r.dispatch=function(a){var n=this;this.state=this.reducer(this.state,a),$e.batch(function(){n.observers.forEach(function(i){i.onQueryUpdate(a)}),n.cache.notify({query:n,type:"queryUpdated",action:a})})},r.getDefaultState=function(a){var n=typeof a.initialData=="function"?a.initialData():a.initialData,i=typeof a.initialData<"u",l=i?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0,o=typeof n<"u";return{data:n,dataUpdateCount:0,dataUpdatedAt:o?l??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:o?"success":"idle"}},r.reducer=function(a,n){var i,l;switch(n.type){case"failed":return Ce({},a,{fetchFailureCount:a.fetchFailureCount+1});case"pause":return Ce({},a,{isPaused:!0});case"continue":return Ce({},a,{isPaused:!1});case"fetch":return Ce({},a,{fetchFailureCount:0,fetchMeta:(i=n.meta)!=null?i:null,isFetching:!0,isPaused:!1},!a.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Ce({},a,{data:n.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:(l=n.dataUpdatedAt)!=null?l:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var o=n.error;return Mr(o)&&o.revert&&this.revertState?Ce({},this.revertState):Ce({},a,{error:o,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Ce({},a,{isInvalidated:!0});case"setState":return Ce({},a,n.state);default:return a}},t}(),Ci=function(t){Qt(r,t);function r(a){var n;return n=t.call(this)||this,n.config=a||{},n.queries=[],n.queriesMap={},n}var s=r.prototype;return s.build=function(n,i,l){var o,d=i.queryKey,m=(o=i.queryHash)!=null?o:_s(d,i),x=this.get(m);return x||(x=new Si({cache:this,queryKey:d,queryHash:m,options:n.defaultQueryOptions(i),state:l,defaultOptions:n.getQueryDefaults(d),meta:i.meta}),this.add(x)),x},s.add=function(n){this.queriesMap[n.queryHash]||(this.queriesMap[n.queryHash]=n,this.queries.push(n),this.notify({type:"queryAdded",query:n}))},s.remove=function(n){var i=this.queriesMap[n.queryHash];i&&(n.destroy(),this.queries=this.queries.filter(function(l){return l!==n}),i===n&&delete this.queriesMap[n.queryHash],this.notify({type:"queryRemoved",query:n}))},s.clear=function(){var n=this;$e.batch(function(){n.queries.forEach(function(i){n.remove(i)})})},s.get=function(n){return this.queriesMap[n]},s.getAll=function(){return this.queries},s.find=function(n,i){var l=Ct(n,i),o=l[0];return typeof o.exact>"u"&&(o.exact=!0),this.queries.find(function(d){return Qs(o,d)})},s.findAll=function(n,i){var l=Ct(n,i),o=l[0];return Object.keys(o).length>0?this.queries.filter(function(d){return Qs(o,d)}):this.queries},s.notify=function(n){var i=this;$e.batch(function(){i.listeners.forEach(function(l){l(n)})})},s.onFocus=function(){var n=this;$e.batch(function(){n.queries.forEach(function(i){i.onFocus()})})},s.onOnline=function(){var n=this;$e.batch(function(){n.queries.forEach(function(i){i.onOnline()})})},r}(Yt),Ei=function(){function t(s){this.options=Ce({},s.defaultOptions,s.options),this.mutationId=s.mutationId,this.mutationCache=s.mutationCache,this.observers=[],this.state=s.state||Ka(),this.meta=s.meta}var r=t.prototype;return r.setState=function(a){this.dispatch({type:"setState",state:a})},r.addObserver=function(a){this.observers.indexOf(a)===-1&&this.observers.push(a)},r.removeObserver=function(a){this.observers=this.observers.filter(function(n){return n!==a})},r.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Be).catch(Be)):Promise.resolve()},r.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},r.execute=function(){var a=this,n,i=this.state.status==="loading",l=Promise.resolve();return i||(this.dispatch({type:"loading",variables:this.options.variables}),l=l.then(function(){a.mutationCache.config.onMutate==null||a.mutationCache.config.onMutate(a.state.variables,a)}).then(function(){return a.options.onMutate==null?void 0:a.options.onMutate(a.state.variables)}).then(function(o){o!==a.state.context&&a.dispatch({type:"loading",context:o,variables:a.state.variables})})),l.then(function(){return a.executeMutation()}).then(function(o){n=o,a.mutationCache.config.onSuccess==null||a.mutationCache.config.onSuccess(n,a.state.variables,a.state.context,a)}).then(function(){return a.options.onSuccess==null?void 0:a.options.onSuccess(n,a.state.variables,a.state.context)}).then(function(){return a.options.onSettled==null?void 0:a.options.onSettled(n,null,a.state.variables,a.state.context)}).then(function(){return a.dispatch({type:"success",data:n}),n}).catch(function(o){return a.mutationCache.config.onError==null||a.mutationCache.config.onError(o,a.state.variables,a.state.context,a),$r().error(o),Promise.resolve().then(function(){return a.options.onError==null?void 0:a.options.onError(o,a.state.variables,a.state.context)}).then(function(){return a.options.onSettled==null?void 0:a.options.onSettled(void 0,o,a.state.variables,a.state.context)}).then(function(){throw a.dispatch({type:"error",error:o}),o})})},r.executeMutation=function(){var a=this,n;return this.retryer=new Ja({fn:function(){return a.options.mutationFn?a.options.mutationFn(a.state.variables):Promise.reject("No mutationFn found")},onFail:function(){a.dispatch({type:"failed"})},onPause:function(){a.dispatch({type:"pause"})},onContinue:function(){a.dispatch({type:"continue"})},retry:(n=this.options.retry)!=null?n:0,retryDelay:this.options.retryDelay}),this.retryer.promise},r.dispatch=function(a){var n=this;this.state=Mi(this.state,a),$e.batch(function(){n.observers.forEach(function(i){i.onMutationUpdate(a)}),n.mutationCache.notify(n)})},t}();function Ka(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Mi(t,r){switch(r.type){case"failed":return Ce({},t,{failureCount:t.failureCount+1});case"pause":return Ce({},t,{isPaused:!0});case"continue":return Ce({},t,{isPaused:!1});case"loading":return Ce({},t,{context:r.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:r.variables});case"success":return Ce({},t,{data:r.data,error:null,status:"success",isPaused:!1});case"error":return Ce({},t,{data:void 0,error:r.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return Ce({},t,r.state);default:return t}}var Ri=function(t){Qt(r,t);function r(a){var n;return n=t.call(this)||this,n.config=a||{},n.mutations=[],n.mutationId=0,n}var s=r.prototype;return s.build=function(n,i,l){var o=new Ei({mutationCache:this,mutationId:++this.mutationId,options:n.defaultMutationOptions(i),state:l,defaultOptions:i.mutationKey?n.getMutationDefaults(i.mutationKey):void 0,meta:i.meta});return this.add(o),o},s.add=function(n){this.mutations.push(n),this.notify(n)},s.remove=function(n){this.mutations=this.mutations.filter(function(i){return i!==n}),n.cancel(),this.notify(n)},s.clear=function(){var n=this;$e.batch(function(){n.mutations.forEach(function(i){n.remove(i)})})},s.getAll=function(){return this.mutations},s.find=function(n){return typeof n.exact>"u"&&(n.exact=!0),this.mutations.find(function(i){return Ys(n,i)})},s.findAll=function(n){return this.mutations.filter(function(i){return Ys(n,i)})},s.notify=function(n){var i=this;$e.batch(function(){i.listeners.forEach(function(l){l(n)})})},s.onFocus=function(){this.resumePausedMutations()},s.onOnline=function(){this.resumePausedMutations()},s.resumePausedMutations=function(){var n=this.mutations.filter(function(i){return i.state.isPaused});return $e.batch(function(){return n.reduce(function(i,l){return i.then(function(){return l.continue().catch(Be)})},Promise.resolve())})},r}(Yt);function _i(){return{onFetch:function(r){r.fetchFn=function(){var s,a,n,i,l,o,d=(s=r.fetchOptions)==null||(a=s.meta)==null?void 0:a.refetchPage,m=(n=r.fetchOptions)==null||(i=n.meta)==null?void 0:i.fetchMore,x=m==null?void 0:m.pageParam,h=(m==null?void 0:m.direction)==="forward",p=(m==null?void 0:m.direction)==="backward",g=((l=r.state.data)==null?void 0:l.pages)||[],u=((o=r.state.data)==null?void 0:o.pageParams)||[],b=Qa(),j=b==null?void 0:b.signal,R=u,k=!1,S=r.options.queryFn||function(){return Promise.reject("Missing queryFn")},$=function(I,J,V,O){return R=O?[J].concat(R):[].concat(R,[J]),O?[V].concat(I):[].concat(I,[V])},q=function(I,J,V,O){if(k)return Promise.reject("Cancelled");if(typeof V>"u"&&!J&&I.length)return Promise.resolve(I);var F={queryKey:r.queryKey,signal:j,pageParam:V,meta:r.meta},A=S(F),U=Promise.resolve(A).then(function(z){return $(I,V,z,O)});if(Or(A)){var T=U;T.cancel=A.cancel}return U},C;if(!g.length)C=q([]);else if(h){var P=typeof x<"u",y=P?x:Ks(r.options,g);C=q(g,P,y)}else if(p){var v=typeof x<"u",N=v?x:Ai(r.options,g);C=q(g,v,N,!0)}else(function(){R=[];var E=typeof r.options.getNextPageParam>"u",I=d&&g[0]?d(g[0],0,g):!0;C=I?q([],E,u[0]):Promise.resolve($([],u[0],g[0]));for(var J=function(F){C=C.then(function(A){var U=d&&g[F]?d(g[F],F,g):!0;if(U){var T=E?u[F]:Ks(r.options,A);return q(A,E,T)}return Promise.resolve($(A,u[F],g[F]))})},V=1;V<g.length;V++)J(V)})();var _=C.then(function(E){return{pages:E,pageParams:R}}),w=_;return w.cancel=function(){k=!0,b==null||b.abort(),Or(C)&&C.cancel()},_}}}}function Ks(t,r){return t.getNextPageParam==null?void 0:t.getNextPageParam(r[r.length-1],r)}function Ai(t,r){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(r[0],r)}var Ti=function(){function t(s){s===void 0&&(s={}),this.queryCache=s.queryCache||new Ci,this.mutationCache=s.mutationCache||new Ri,this.defaultOptions=s.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var r=t.prototype;return r.mount=function(){var a=this;this.unsubscribeFocus=ir.subscribe(function(){ir.isFocused()&&Er.isOnline()&&(a.mutationCache.onFocus(),a.queryCache.onFocus())}),this.unsubscribeOnline=Er.subscribe(function(){ir.isFocused()&&Er.isOnline()&&(a.mutationCache.onOnline(),a.queryCache.onOnline())})},r.unmount=function(){var a,n;(a=this.unsubscribeFocus)==null||a.call(this),(n=this.unsubscribeOnline)==null||n.call(this)},r.isFetching=function(a,n){var i=Ct(a,n),l=i[0];return l.fetching=!0,this.queryCache.findAll(l).length},r.isMutating=function(a){return this.mutationCache.findAll(Ce({},a,{fetching:!0})).length},r.getQueryData=function(a,n){var i;return(i=this.queryCache.find(a,n))==null?void 0:i.state.data},r.getQueriesData=function(a){return this.getQueryCache().findAll(a).map(function(n){var i=n.queryKey,l=n.state,o=l.data;return[i,o]})},r.setQueryData=function(a,n,i){var l=Cr(a),o=this.defaultQueryOptions(l);return this.queryCache.build(this,o).setData(n,i)},r.setQueriesData=function(a,n,i){var l=this;return $e.batch(function(){return l.getQueryCache().findAll(a).map(function(o){var d=o.queryKey;return[d,l.setQueryData(d,n,i)]})})},r.getQueryState=function(a,n){var i;return(i=this.queryCache.find(a,n))==null?void 0:i.state},r.removeQueries=function(a,n){var i=Ct(a,n),l=i[0],o=this.queryCache;$e.batch(function(){o.findAll(l).forEach(function(d){o.remove(d)})})},r.resetQueries=function(a,n,i){var l=this,o=Ct(a,n,i),d=o[0],m=o[1],x=this.queryCache,h=Ce({},d,{active:!0});return $e.batch(function(){return x.findAll(d).forEach(function(p){p.reset()}),l.refetchQueries(h,m)})},r.cancelQueries=function(a,n,i){var l=this,o=Ct(a,n,i),d=o[0],m=o[1],x=m===void 0?{}:m;typeof x.revert>"u"&&(x.revert=!0);var h=$e.batch(function(){return l.queryCache.findAll(d).map(function(p){return p.cancel(x)})});return Promise.all(h).then(Be).catch(Be)},r.invalidateQueries=function(a,n,i){var l,o,d,m=this,x=Ct(a,n,i),h=x[0],p=x[1],g=Ce({},h,{active:(l=(o=h.refetchActive)!=null?o:h.active)!=null?l:!0,inactive:(d=h.refetchInactive)!=null?d:!1});return $e.batch(function(){return m.queryCache.findAll(h).forEach(function(u){u.invalidate()}),m.refetchQueries(g,p)})},r.refetchQueries=function(a,n,i){var l=this,o=Ct(a,n,i),d=o[0],m=o[1],x=$e.batch(function(){return l.queryCache.findAll(d).map(function(p){return p.fetch(void 0,Ce({},m,{meta:{refetchPage:d==null?void 0:d.refetchPage}}))})}),h=Promise.all(x).then(Be);return m!=null&&m.throwOnError||(h=h.catch(Be)),h},r.fetchQuery=function(a,n,i){var l=Cr(a,n,i),o=this.defaultQueryOptions(l);typeof o.retry>"u"&&(o.retry=!1);var d=this.queryCache.build(this,o);return d.isStaleByTime(o.staleTime)?d.fetch(o):Promise.resolve(d.state.data)},r.prefetchQuery=function(a,n,i){return this.fetchQuery(a,n,i).then(Be).catch(Be)},r.fetchInfiniteQuery=function(a,n,i){var l=Cr(a,n,i);return l.behavior=_i(),this.fetchQuery(l)},r.prefetchInfiniteQuery=function(a,n,i){return this.fetchInfiniteQuery(a,n,i).then(Be).catch(Be)},r.cancelMutations=function(){var a=this,n=$e.batch(function(){return a.mutationCache.getAll().map(function(i){return i.cancel()})});return Promise.all(n).then(Be).catch(Be)},r.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},r.executeMutation=function(a){return this.mutationCache.build(this,a).execute()},r.getQueryCache=function(){return this.queryCache},r.getMutationCache=function(){return this.mutationCache},r.getDefaultOptions=function(){return this.defaultOptions},r.setDefaultOptions=function(a){this.defaultOptions=a},r.setQueryDefaults=function(a,n){var i=this.queryDefaults.find(function(l){return Pt(a)===Pt(l.queryKey)});i?i.defaultOptions=n:this.queryDefaults.push({queryKey:a,defaultOptions:n})},r.getQueryDefaults=function(a){var n;return a?(n=this.queryDefaults.find(function(i){return Fr(a,i.queryKey)}))==null?void 0:n.defaultOptions:void 0},r.setMutationDefaults=function(a,n){var i=this.mutationDefaults.find(function(l){return Pt(a)===Pt(l.mutationKey)});i?i.defaultOptions=n:this.mutationDefaults.push({mutationKey:a,defaultOptions:n})},r.getMutationDefaults=function(a){var n;return a?(n=this.mutationDefaults.find(function(i){return Fr(a,i.mutationKey)}))==null?void 0:n.defaultOptions:void 0},r.defaultQueryOptions=function(a){if(a!=null&&a._defaulted)return a;var n=Ce({},this.defaultOptions.queries,this.getQueryDefaults(a==null?void 0:a.queryKey),a,{_defaulted:!0});return!n.queryHash&&n.queryKey&&(n.queryHash=_s(n.queryKey,n)),n},r.defaultQueryObserverOptions=function(a){return this.defaultQueryOptions(a)},r.defaultMutationOptions=function(a){return a!=null&&a._defaulted?a:Ce({},this.defaultOptions.mutations,this.getMutationDefaults(a==null?void 0:a.mutationKey),a,{_defaulted:!0})},r.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),Pi=function(t){Qt(r,t);function r(a,n){var i;return i=t.call(this)||this,i.client=a,i.options=n,i.trackedProps=[],i.selectError=null,i.bindMethods(),i.setOptions(n),i}var s=r.prototype;return s.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},s.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Zs(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},s.onUnsubscribe=function(){this.listeners.length||this.destroy()},s.shouldFetchOnReconnect=function(){return gs(this.currentQuery,this.options,this.options.refetchOnReconnect)},s.shouldFetchOnWindowFocus=function(){return gs(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},s.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},s.setOptions=function(n,i){var l=this.options,o=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(n),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=l.queryKey),this.updateQuery();var d=this.hasListeners();d&&ea(this.currentQuery,o,this.options,l)&&this.executeFetch(),this.updateResult(i),d&&(this.currentQuery!==o||this.options.enabled!==l.enabled||this.options.staleTime!==l.staleTime)&&this.updateStaleTimeout();var m=this.computeRefetchInterval();d&&(this.currentQuery!==o||this.options.enabled!==l.enabled||m!==this.currentRefetchInterval)&&this.updateRefetchInterval(m)},s.getOptimisticResult=function(n){var i=this.client.defaultQueryObserverOptions(n),l=this.client.getQueryCache().build(this.client,i);return this.createResult(l,i)},s.getCurrentResult=function(){return this.currentResult},s.trackResult=function(n,i){var l=this,o={},d=function(x){l.trackedProps.includes(x)||l.trackedProps.push(x)};return Object.keys(n).forEach(function(m){Object.defineProperty(o,m,{configurable:!1,enumerable:!0,get:function(){return d(m),n[m]}})}),(i.useErrorBoundary||i.suspense)&&d("error"),o},s.getNextResult=function(n){var i=this;return new Promise(function(l,o){var d=i.subscribe(function(m){m.isFetching||(d(),m.isError&&(n!=null&&n.throwOnError)?o(m.error):l(m))})})},s.getCurrentQuery=function(){return this.currentQuery},s.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},s.refetch=function(n){return this.fetch(Ce({},n,{meta:{refetchPage:n==null?void 0:n.refetchPage}}))},s.fetchOptimistic=function(n){var i=this,l=this.client.defaultQueryObserverOptions(n),o=this.client.getQueryCache().build(this.client,l);return o.fetch().then(function(){return i.createResult(o,l)})},s.fetch=function(n){var i=this;return this.executeFetch(n).then(function(){return i.updateResult(),i.currentResult})},s.executeFetch=function(n){this.updateQuery();var i=this.currentQuery.fetch(this.options,n);return n!=null&&n.throwOnError||(i=i.catch(Be)),i},s.updateStaleTimeout=function(){var n=this;if(this.clearStaleTimeout(),!(Tr||this.currentResult.isStale||!hs(this.options.staleTime))){var i=Wa(this.currentResult.dataUpdatedAt,this.options.staleTime),l=i+1;this.staleTimeoutId=setTimeout(function(){n.currentResult.isStale||n.updateResult()},l)}},s.computeRefetchInterval=function(){var n;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(n=this.options.refetchInterval)!=null?n:!1},s.updateRefetchInterval=function(n){var i=this;this.clearRefetchInterval(),this.currentRefetchInterval=n,!(Tr||this.options.enabled===!1||!hs(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(i.options.refetchIntervalInBackground||ir.isFocused())&&i.executeFetch()},this.currentRefetchInterval))},s.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},s.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},s.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},s.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},s.createResult=function(n,i){var l=this.currentQuery,o=this.options,d=this.currentResult,m=this.currentResultState,x=this.currentResultOptions,h=n!==l,p=h?n.state:this.currentQueryInitialState,g=h?this.currentResult:this.previousQueryResult,u=n.state,b=u.dataUpdatedAt,j=u.error,R=u.errorUpdatedAt,k=u.isFetching,S=u.status,$=!1,q=!1,C;if(i.optimisticResults){var P=this.hasListeners(),y=!P&&Zs(n,i),v=P&&ea(n,l,i,o);(y||v)&&(k=!0,b||(S="loading"))}if(i.keepPreviousData&&!u.dataUpdateCount&&(g!=null&&g.isSuccess)&&S!=="error")C=g.data,b=g.dataUpdatedAt,S=g.status,$=!0;else if(i.select&&typeof u.data<"u")if(d&&u.data===(m==null?void 0:m.data)&&i.select===this.selectFn)C=this.selectResult;else try{this.selectFn=i.select,C=i.select(u.data),i.structuralSharing!==!1&&(C=Dr(d==null?void 0:d.data,C)),this.selectResult=C,this.selectError=null}catch(w){$r().error(w),this.selectError=w}else C=u.data;if(typeof i.placeholderData<"u"&&typeof C>"u"&&(S==="loading"||S==="idle")){var N;if(d!=null&&d.isPlaceholderData&&i.placeholderData===(x==null?void 0:x.placeholderData))N=d.data;else if(N=typeof i.placeholderData=="function"?i.placeholderData():i.placeholderData,i.select&&typeof N<"u")try{N=i.select(N),i.structuralSharing!==!1&&(N=Dr(d==null?void 0:d.data,N)),this.selectError=null}catch(w){$r().error(w),this.selectError=w}typeof N<"u"&&(S="success",C=N,q=!0)}this.selectError&&(j=this.selectError,C=this.selectResult,R=Date.now(),S="error");var _={status:S,isLoading:S==="loading",isSuccess:S==="success",isError:S==="error",isIdle:S==="idle",data:C,dataUpdatedAt:b,error:j,errorUpdatedAt:R,failureCount:u.fetchFailureCount,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>p.dataUpdateCount||u.errorUpdateCount>p.errorUpdateCount,isFetching:k,isRefetching:k&&S!=="loading",isLoadingError:S==="error"&&u.dataUpdatedAt===0,isPlaceholderData:q,isPreviousData:$,isRefetchError:S==="error"&&u.dataUpdatedAt!==0,isStale:As(n,i),refetch:this.refetch,remove:this.remove};return _},s.shouldNotifyListeners=function(n,i){if(!i)return!0;var l=this.options,o=l.notifyOnChangeProps,d=l.notifyOnChangePropsExclusions;if(!o&&!d||o==="tracked"&&!this.trackedProps.length)return!0;var m=o==="tracked"?this.trackedProps:o;return Object.keys(n).some(function(x){var h=x,p=n[h]!==i[h],g=m==null?void 0:m.some(function(b){return b===x}),u=d==null?void 0:d.some(function(b){return b===x});return p&&!u&&(!m||g)})},s.updateResult=function(n){var i=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!bi(this.currentResult,i)){var l={cache:!0};(n==null?void 0:n.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,i)&&(l.listeners=!0),this.notify(Ce({},l,n))}},s.updateQuery=function(){var n=this.client.getQueryCache().build(this.client,this.options);if(n!==this.currentQuery){var i=this.currentQuery;this.currentQuery=n,this.currentQueryInitialState=n.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(i==null||i.removeObserver(this),n.addObserver(this))}},s.onQueryUpdate=function(n){var i={};n.type==="success"?i.onSuccess=!0:n.type==="error"&&!Mr(n.error)&&(i.onError=!0),this.updateResult(i),this.hasListeners()&&this.updateTimers()},s.notify=function(n){var i=this;$e.batch(function(){n.onSuccess?(i.options.onSuccess==null||i.options.onSuccess(i.currentResult.data),i.options.onSettled==null||i.options.onSettled(i.currentResult.data,null)):n.onError&&(i.options.onError==null||i.options.onError(i.currentResult.error),i.options.onSettled==null||i.options.onSettled(void 0,i.currentResult.error)),n.listeners&&i.listeners.forEach(function(l){l(i.currentResult)}),n.cache&&i.client.getQueryCache().notify({query:i.currentQuery,type:"observerResultsUpdated"})})},r}(Yt);function Fi(t,r){return r.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&r.retryOnMount===!1)}function Zs(t,r){return Fi(t,r)||t.state.dataUpdatedAt>0&&gs(t,r,r.refetchOnMount)}function gs(t,r,s){if(r.enabled!==!1){var a=typeof s=="function"?s(t):s;return a==="always"||a!==!1&&As(t,r)}return!1}function ea(t,r,s,a){return s.enabled!==!1&&(t!==r||a.enabled===!1)&&(!s.suspense||t.state.status!=="error")&&As(t,s)}function As(t,r){return t.isStaleByTime(r.staleTime)}var Di=function(t){Qt(r,t);function r(a,n){var i;return i=t.call(this)||this,i.client=a,i.setOptions(n),i.bindMethods(),i.updateResult(),i}var s=r.prototype;return s.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},s.setOptions=function(n){this.options=this.client.defaultMutationOptions(n)},s.onUnsubscribe=function(){if(!this.listeners.length){var n;(n=this.currentMutation)==null||n.removeObserver(this)}},s.onMutationUpdate=function(n){this.updateResult();var i={listeners:!0};n.type==="success"?i.onSuccess=!0:n.type==="error"&&(i.onError=!0),this.notify(i)},s.getCurrentResult=function(){return this.currentResult},s.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},s.mutate=function(n,i){return this.mutateOptions=i,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,Ce({},this.options,{variables:typeof n<"u"?n:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},s.updateResult=function(){var n=this.currentMutation?this.currentMutation.state:Ka(),i=Ce({},n,{isLoading:n.status==="loading",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=i},s.notify=function(n){var i=this;$e.batch(function(){i.mutateOptions&&(n.onSuccess?(i.mutateOptions.onSuccess==null||i.mutateOptions.onSuccess(i.currentResult.data,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(i.currentResult.data,null,i.currentResult.variables,i.currentResult.context)):n.onError&&(i.mutateOptions.onError==null||i.mutateOptions.onError(i.currentResult.error,i.currentResult.variables,i.currentResult.context),i.mutateOptions.onSettled==null||i.mutateOptions.onSettled(void 0,i.currentResult.error,i.currentResult.variables,i.currentResult.context))),n.listeners&&i.listeners.forEach(function(l){l(i.currentResult)})})},r}(Yt),Oi=Jn.unstable_batchedUpdates;$e.setBatchNotifyFunction(Oi);var $i=console;ki($i);var ta=Pe.createContext(void 0),Za=Pe.createContext(!1);function en(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=ta),window.ReactQueryClientContext):ta}var Br=function(){var r=Pe.useContext(en(Pe.useContext(Za)));if(!r)throw new Error("No QueryClient set, use QueryClientProvider to set one");return r},Li=function(r){var s=r.client,a=r.contextSharing,n=a===void 0?!1:a,i=r.children;Pe.useEffect(function(){return s.mount(),function(){s.unmount()}},[s]);var l=en(n);return Pe.createElement(Za.Provider,{value:n},Pe.createElement(l.Provider,{value:s},i))};function Ii(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var qi=Pe.createContext(Ii()),Ui=function(){return Pe.useContext(qi)};function tn(t,r,s){return typeof r=="function"?r.apply(void 0,s):typeof r=="boolean"?r:!!t}function Hi(t,r,s){var a=Pe.useRef(!1),n=Pe.useState(0),i=n[1],l=pi(t,r,s),o=Br(),d=Pe.useRef();d.current?d.current.setOptions(l):d.current=new Di(o,l);var m=d.current.getCurrentResult();Pe.useEffect(function(){a.current=!0;var h=d.current.subscribe($e.batchCalls(function(){a.current&&i(function(p){return p+1})}));return function(){a.current=!1,h()}},[]);var x=Pe.useCallback(function(h,p){d.current.mutate(h,p).catch(Be)},[]);if(m.error&&tn(void 0,d.current.options.useErrorBoundary,[m.error]))throw m.error;return Ce({},m,{mutate:x,mutateAsync:m.mutate})}function zi(t,r){var s=Pe.useRef(!1),a=Pe.useState(0),n=a[1],i=Br(),l=Ui(),o=i.defaultQueryObserverOptions(t);o.optimisticResults=!0,o.onError&&(o.onError=$e.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=$e.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=$e.batchCalls(o.onSettled)),o.suspense&&(typeof o.staleTime!="number"&&(o.staleTime=1e3),o.cacheTime===0&&(o.cacheTime=1)),(o.suspense||o.useErrorBoundary)&&(l.isReset()||(o.retryOnMount=!1));var d=Pe.useState(function(){return new r(i,o)}),m=d[0],x=m.getOptimisticResult(o);if(Pe.useEffect(function(){s.current=!0,l.clearReset();var h=m.subscribe($e.batchCalls(function(){s.current&&n(function(p){return p+1})}));return m.updateResult(),function(){s.current=!1,h()}},[l,m]),Pe.useEffect(function(){m.setOptions(o,{listeners:!1})},[o,m]),o.suspense&&x.isLoading)throw m.fetchOptimistic(o).then(function(h){var p=h.data;o.onSuccess==null||o.onSuccess(p),o.onSettled==null||o.onSettled(p,null)}).catch(function(h){l.clearReset(),o.onError==null||o.onError(h),o.onSettled==null||o.onSettled(void 0,h)});if(x.isError&&!l.isReset()&&!x.isFetching&&tn(o.suspense,o.useErrorBoundary,[x.error,m.getCurrentQuery()]))throw x.error;return o.notifyOnChangeProps==="tracked"&&(x=m.trackResult(x,o)),x}function Tt(t,r,s){var a=Cr(t,r,s);return zi(a,Pi)}const Bi={},ra=t=>{let r;const s=new Set,a=(x,h)=>{const p=typeof x=="function"?x(r):x;if(!Object.is(p,r)){const g=r;r=h??(typeof p!="object"||p===null)?p:Object.assign({},r,p),s.forEach(u=>u(r,g))}},n=()=>r,d={setState:a,getState:n,getInitialState:()=>m,subscribe:x=>(s.add(x),()=>s.delete(x)),destroy:()=>{(Bi?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},m=r=t(a,n,d);return d},Gi=t=>t?ra(t):ra;var rn={exports:{}},sn={},an={exports:{}},nn={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wt=c;function Wi(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Vi=typeof Object.is=="function"?Object.is:Wi,Qi=Wt.useState,Yi=Wt.useEffect,Ji=Wt.useLayoutEffect,Xi=Wt.useDebugValue;function Ki(t,r){var s=r(),a=Qi({inst:{value:s,getSnapshot:r}}),n=a[0].inst,i=a[1];return Ji(function(){n.value=s,n.getSnapshot=r,rs(n)&&i({inst:n})},[t,s,r]),Yi(function(){return rs(n)&&i({inst:n}),t(function(){rs(n)&&i({inst:n})})},[t]),Xi(s),s}function rs(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!Vi(t,s)}catch{return!0}}function Zi(t,r){return r()}var el=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Zi:Ki;nn.useSyncExternalStore=Wt.useSyncExternalStore!==void 0?Wt.useSyncExternalStore:el;an.exports=nn;var tl=an.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=c,rl=tl;function sl(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var al=typeof Object.is=="function"?Object.is:sl,nl=rl.useSyncExternalStore,il=Gr.useRef,ll=Gr.useEffect,ol=Gr.useMemo,cl=Gr.useDebugValue;sn.useSyncExternalStoreWithSelector=function(t,r,s,a,n){var i=il(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=ol(function(){function d(g){if(!m){if(m=!0,x=g,g=a(g),n!==void 0&&l.hasValue){var u=l.value;if(n(u,g))return h=u}return h=g}if(u=h,al(x,g))return u;var b=a(g);return n!==void 0&&n(u,b)?(x=g,u):(x=g,h=b)}var m=!1,x,h,p=s===void 0?null:s;return[function(){return d(r())},p===null?void 0:function(){return d(p())}]},[r,s,a,n]);var o=nl(t,i[0],i[1]);return ll(function(){l.hasValue=!0,l.value=o},[o]),cl(o),o};rn.exports=sn;var dl=rn.exports;const ul=Xn(dl),ln={},{useDebugValue:ml}=Pe,{useSyncExternalStoreWithSelector:xl}=ul;let sa=!1;const hl=t=>t;function pl(t,r=hl,s){(ln?"production":void 0)!=="production"&&s&&!sa&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),sa=!0);const a=xl(t.subscribe,t.getState,t.getServerState||t.getInitialState,r,s);return ml(a),a}const aa=t=>{(ln?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const r=typeof t=="function"?Gi(t):t,s=(a,n)=>pl(r,a,n);return Object.assign(s,r),s},gl=t=>t?aa(t):aa;function on(t,r){return function(){return t.apply(r,arguments)}}const{toString:fl}=Object.prototype,{getPrototypeOf:Ts}=Object,{iterator:Wr,toStringTag:cn}=Symbol,Vr=(t=>r=>{const s=fl.call(r);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ot=t=>(t=t.toLowerCase(),r=>Vr(r)===t),Qr=t=>r=>typeof r===t,{isArray:Jt}=Array,Vt=Qr("undefined");function dr(t){return t!==null&&!Vt(t)&&t.constructor!==null&&!Vt(t.constructor)&&Ze(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const dn=ot("ArrayBuffer");function bl(t){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&dn(t.buffer),r}const yl=Qr("string"),Ze=Qr("function"),un=Qr("number"),ur=t=>t!==null&&typeof t=="object",vl=t=>t===!0||t===!1,Rr=t=>{if(Vr(t)!=="object")return!1;const r=Ts(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(cn in t)&&!(Wr in t)},jl=t=>{if(!ur(t)||dr(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Nl=ot("Date"),wl=ot("File"),kl=ot("Blob"),Sl=ot("FileList"),Cl=t=>ur(t)&&Ze(t.pipe),El=t=>{let r;return t&&(typeof FormData=="function"&&t instanceof FormData||Ze(t.append)&&((r=Vr(t))==="formdata"||r==="object"&&Ze(t.toString)&&t.toString()==="[object FormData]"))},Ml=ot("URLSearchParams"),[Rl,_l,Al,Tl]=["ReadableStream","Request","Response","Headers"].map(ot),Pl=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function mr(t,r,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let a,n;if(typeof t!="object"&&(t=[t]),Jt(t))for(a=0,n=t.length;a<n;a++)r.call(null,t[a],a,t);else{if(dr(t))return;const i=s?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let o;for(a=0;a<l;a++)o=i[a],r.call(null,t[o],o,t)}}function mn(t,r){if(dr(t))return null;r=r.toLowerCase();const s=Object.keys(t);let a=s.length,n;for(;a-- >0;)if(n=s[a],r===n.toLowerCase())return n;return null}const Ft=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xn=t=>!Vt(t)&&t!==Ft;function fs(){const{caseless:t,skipUndefined:r}=xn(this)&&this||{},s={},a=(n,i)=>{const l=t&&mn(s,i)||i;Rr(s[l])&&Rr(n)?s[l]=fs(s[l],n):Rr(n)?s[l]=fs({},n):Jt(n)?s[l]=n.slice():(!r||!Vt(n))&&(s[l]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&mr(arguments[n],a);return s}const Fl=(t,r,s,{allOwnKeys:a}={})=>(mr(r,(n,i)=>{s&&Ze(n)?t[i]=on(n,s):t[i]=n},{allOwnKeys:a}),t),Dl=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ol=(t,r,s,a)=>{t.prototype=Object.create(r.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:r.prototype}),s&&Object.assign(t.prototype,s)},$l=(t,r,s,a)=>{let n,i,l;const o={};if(r=r||{},t==null)return r;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)l=n[i],(!a||a(l,t,r))&&!o[l]&&(r[l]=t[l],o[l]=!0);t=s!==!1&&Ts(t)}while(t&&(!s||s(t,r))&&t!==Object.prototype);return r},Ll=(t,r,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=r.length;const a=t.indexOf(r,s);return a!==-1&&a===s},Il=t=>{if(!t)return null;if(Jt(t))return t;let r=t.length;if(!un(r))return null;const s=new Array(r);for(;r-- >0;)s[r]=t[r];return s},ql=(t=>r=>t&&r instanceof t)(typeof Uint8Array<"u"&&Ts(Uint8Array)),Ul=(t,r)=>{const a=(t&&t[Wr]).call(t);let n;for(;(n=a.next())&&!n.done;){const i=n.value;r.call(t,i[0],i[1])}},Hl=(t,r)=>{let s;const a=[];for(;(s=t.exec(r))!==null;)a.push(s);return a},zl=ot("HTMLFormElement"),Bl=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,a,n){return a.toUpperCase()+n}),na=(({hasOwnProperty:t})=>(r,s)=>t.call(r,s))(Object.prototype),Gl=ot("RegExp"),hn=(t,r)=>{const s=Object.getOwnPropertyDescriptors(t),a={};mr(s,(n,i)=>{let l;(l=r(n,i,t))!==!1&&(a[i]=l||n)}),Object.defineProperties(t,a)},Wl=t=>{hn(t,(r,s)=>{if(Ze(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const a=t[s];if(Ze(a)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Vl=(t,r)=>{const s={},a=n=>{n.forEach(i=>{s[i]=!0})};return Jt(t)?a(t):a(String(t).split(r)),s},Ql=()=>{},Yl=(t,r)=>t!=null&&Number.isFinite(t=+t)?t:r;function Jl(t){return!!(t&&Ze(t.append)&&t[cn]==="FormData"&&t[Wr])}const Xl=t=>{const r=new Array(10),s=(a,n)=>{if(ur(a)){if(r.indexOf(a)>=0)return;if(dr(a))return a;if(!("toJSON"in a)){r[n]=a;const i=Jt(a)?[]:{};return mr(a,(l,o)=>{const d=s(l,n+1);!Vt(d)&&(i[o]=d)}),r[n]=void 0,i}}return a};return s(t,0)},Kl=ot("AsyncFunction"),Zl=t=>t&&(ur(t)||Ze(t))&&Ze(t.then)&&Ze(t.catch),pn=((t,r)=>t?setImmediate:r?((s,a)=>(Ft.addEventListener("message",({source:n,data:i})=>{n===Ft&&i===s&&a.length&&a.shift()()},!1),n=>{a.push(n),Ft.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",Ze(Ft.postMessage)),eo=typeof queueMicrotask<"u"?queueMicrotask.bind(Ft):typeof process<"u"&&process.nextTick||pn,to=t=>t!=null&&Ze(t[Wr]),H={isArray:Jt,isArrayBuffer:dn,isBuffer:dr,isFormData:El,isArrayBufferView:bl,isString:yl,isNumber:un,isBoolean:vl,isObject:ur,isPlainObject:Rr,isEmptyObject:jl,isReadableStream:Rl,isRequest:_l,isResponse:Al,isHeaders:Tl,isUndefined:Vt,isDate:Nl,isFile:wl,isBlob:kl,isRegExp:Gl,isFunction:Ze,isStream:Cl,isURLSearchParams:Ml,isTypedArray:ql,isFileList:Sl,forEach:mr,merge:fs,extend:Fl,trim:Pl,stripBOM:Dl,inherits:Ol,toFlatObject:$l,kindOf:Vr,kindOfTest:ot,endsWith:Ll,toArray:Il,forEachEntry:Ul,matchAll:Hl,isHTMLForm:zl,hasOwnProperty:na,hasOwnProp:na,reduceDescriptors:hn,freezeMethods:Wl,toObjectSet:Vl,toCamelCase:Bl,noop:Ql,toFiniteNumber:Yl,findKey:mn,global:Ft,isContextDefined:xn,isSpecCompliantForm:Jl,toJSONObject:Xl,isAsyncFn:Kl,isThenable:Zl,setImmediate:pn,asap:eo,isIterable:to};function je(t,r,s,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",r&&(this.code=r),s&&(this.config=s),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}H.inherits(je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const gn=je.prototype,fn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{fn[t]={value:t}});Object.defineProperties(je,fn);Object.defineProperty(gn,"isAxiosError",{value:!0});je.from=(t,r,s,a,n,i)=>{const l=Object.create(gn);H.toFlatObject(t,l,function(x){return x!==Error.prototype},m=>m!=="isAxiosError");const o=t&&t.message?t.message:"Error",d=r==null&&t?t.code:r;return je.call(l,o,d,s,a,n),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",i&&Object.assign(l,i),l};const ro=null;function bs(t){return H.isPlainObject(t)||H.isArray(t)}function bn(t){return H.endsWith(t,"[]")?t.slice(0,-2):t}function ia(t,r,s){return t?t.concat(r).map(function(n,i){return n=bn(n),!s&&i?"["+n+"]":n}).join(s?".":""):r}function so(t){return H.isArray(t)&&!t.some(bs)}const ao=H.toFlatObject(H,{},null,function(r){return/^is[A-Z]/.test(r)});function Yr(t,r,s){if(!H.isObject(t))throw new TypeError("target must be an object");r=r||new FormData,s=H.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,j){return!H.isUndefined(j[b])});const a=s.metaTokens,n=s.visitor||x,i=s.dots,l=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(r);if(!H.isFunction(n))throw new TypeError("visitor must be a function");function m(u){if(u===null)return"";if(H.isDate(u))return u.toISOString();if(H.isBoolean(u))return u.toString();if(!d&&H.isBlob(u))throw new je("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(u)||H.isTypedArray(u)?d&&typeof Blob=="function"?new Blob([u]):Buffer.from(u):u}function x(u,b,j){let R=u;if(u&&!j&&typeof u=="object"){if(H.endsWith(b,"{}"))b=a?b:b.slice(0,-2),u=JSON.stringify(u);else if(H.isArray(u)&&so(u)||(H.isFileList(u)||H.endsWith(b,"[]"))&&(R=H.toArray(u)))return b=bn(b),R.forEach(function(S,$){!(H.isUndefined(S)||S===null)&&r.append(l===!0?ia([b],$,i):l===null?b:b+"[]",m(S))}),!1}return bs(u)?!0:(r.append(ia(j,b,i),m(u)),!1)}const h=[],p=Object.assign(ao,{defaultVisitor:x,convertValue:m,isVisitable:bs});function g(u,b){if(!H.isUndefined(u)){if(h.indexOf(u)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(u),H.forEach(u,function(R,k){(!(H.isUndefined(R)||R===null)&&n.call(r,R,H.isString(k)?k.trim():k,b,p))===!0&&g(R,b?b.concat(k):[k])}),h.pop()}}if(!H.isObject(t))throw new TypeError("data must be an object");return g(t),r}function la(t){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return r[a]})}function Ps(t,r){this._pairs=[],t&&Yr(t,this,r)}const yn=Ps.prototype;yn.append=function(r,s){this._pairs.push([r,s])};yn.toString=function(r){const s=r?function(a){return r.call(this,a,la)}:la;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function no(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vn(t,r,s){if(!r)return t;const a=s&&s.encode||no;H.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(r,s):i=H.isURLSearchParams(r)?r.toString():new Ps(r,s).toString(a),i){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class oa{constructor(){this.handlers=[]}use(r,s,a){return this.handlers.push({fulfilled:r,rejected:s,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){H.forEach(this.handlers,function(a){a!==null&&r(a)})}}const jn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},io=typeof URLSearchParams<"u"?URLSearchParams:Ps,lo=typeof FormData<"u"?FormData:null,oo=typeof Blob<"u"?Blob:null,co={isBrowser:!0,classes:{URLSearchParams:io,FormData:lo,Blob:oo},protocols:["http","https","file","blob","url","data"]},Fs=typeof window<"u"&&typeof document<"u",ys=typeof navigator=="object"&&navigator||void 0,uo=Fs&&(!ys||["ReactNative","NativeScript","NS"].indexOf(ys.product)<0),mo=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",xo=Fs&&window.location.href||"http://localhost",ho=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fs,hasStandardBrowserEnv:uo,hasStandardBrowserWebWorkerEnv:mo,navigator:ys,origin:xo},Symbol.toStringTag,{value:"Module"})),Qe={...ho,...co};function po(t,r){return Yr(t,new Qe.classes.URLSearchParams,{visitor:function(s,a,n,i){return Qe.isNode&&H.isBuffer(s)?(this.append(a,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...r})}function go(t){return H.matchAll(/\w+|\[(\w*)]/g,t).map(r=>r[0]==="[]"?"":r[1]||r[0])}function fo(t){const r={},s=Object.keys(t);let a;const n=s.length;let i;for(a=0;a<n;a++)i=s[a],r[i]=t[i];return r}function Nn(t){function r(s,a,n,i){let l=s[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),d=i>=s.length;return l=!l&&H.isArray(n)?n.length:l,d?(H.hasOwnProp(n,l)?n[l]=[n[l],a]:n[l]=a,!o):((!n[l]||!H.isObject(n[l]))&&(n[l]=[]),r(s,a,n[l],i)&&H.isArray(n[l])&&(n[l]=fo(n[l])),!o)}if(H.isFormData(t)&&H.isFunction(t.entries)){const s={};return H.forEachEntry(t,(a,n)=>{r(go(a),n,s,0)}),s}return null}function bo(t,r,s){if(H.isString(t))try{return(r||JSON.parse)(t),H.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(s||JSON.stringify)(t)}const xr={transitional:jn,adapter:["xhr","http","fetch"],transformRequest:[function(r,s){const a=s.getContentType()||"",n=a.indexOf("application/json")>-1,i=H.isObject(r);if(i&&H.isHTMLForm(r)&&(r=new FormData(r)),H.isFormData(r))return n?JSON.stringify(Nn(r)):r;if(H.isArrayBuffer(r)||H.isBuffer(r)||H.isStream(r)||H.isFile(r)||H.isBlob(r)||H.isReadableStream(r))return r;if(H.isArrayBufferView(r))return r.buffer;if(H.isURLSearchParams(r))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let o;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return po(r,this.formSerializer).toString();if((o=H.isFileList(r))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Yr(o?{"files[]":r}:r,d&&new d,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),bo(r)):r}],transformResponse:[function(r){const s=this.transitional||xr.transitional,a=s&&s.forcedJSONParsing,n=this.responseType==="json";if(H.isResponse(r)||H.isReadableStream(r))return r;if(r&&H.isString(r)&&(a&&!this.responseType||n)){const l=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(r,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?je.from(o,je.ERR_BAD_RESPONSE,this,null,this.response):o}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Qe.classes.FormData,Blob:Qe.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],t=>{xr.headers[t]={}});const yo=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vo=t=>{const r={};let s,a,n;return t&&t.split(`
`).forEach(function(l){n=l.indexOf(":"),s=l.substring(0,n).trim().toLowerCase(),a=l.substring(n+1).trim(),!(!s||r[s]&&yo[s])&&(s==="set-cookie"?r[s]?r[s].push(a):r[s]=[a]:r[s]=r[s]?r[s]+", "+a:a)}),r},ca=Symbol("internals");function Zt(t){return t&&String(t).trim().toLowerCase()}function _r(t){return t===!1||t==null?t:H.isArray(t)?t.map(_r):String(t)}function jo(t){const r=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=s.exec(t);)r[a[1]]=a[2];return r}const No=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ss(t,r,s,a,n){if(H.isFunction(a))return a.call(this,r,s);if(n&&(r=s),!!H.isString(r)){if(H.isString(a))return r.indexOf(a)!==-1;if(H.isRegExp(a))return a.test(r)}}function wo(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,s,a)=>s.toUpperCase()+a)}function ko(t,r){const s=H.toCamelCase(" "+r);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+s,{value:function(n,i,l){return this[a].call(this,r,n,i,l)},configurable:!0})})}let et=class{constructor(r){r&&this.set(r)}set(r,s,a){const n=this;function i(o,d,m){const x=Zt(d);if(!x)throw new Error("header name must be a non-empty string");const h=H.findKey(n,x);(!h||n[h]===void 0||m===!0||m===void 0&&n[h]!==!1)&&(n[h||d]=_r(o))}const l=(o,d)=>H.forEach(o,(m,x)=>i(m,x,d));if(H.isPlainObject(r)||r instanceof this.constructor)l(r,s);else if(H.isString(r)&&(r=r.trim())&&!No(r))l(vo(r),s);else if(H.isObject(r)&&H.isIterable(r)){let o={},d,m;for(const x of r){if(!H.isArray(x))throw TypeError("Object iterator must return a key-value pair");o[m=x[0]]=(d=o[m])?H.isArray(d)?[...d,x[1]]:[d,x[1]]:x[1]}l(o,s)}else r!=null&&i(s,r,a);return this}get(r,s){if(r=Zt(r),r){const a=H.findKey(this,r);if(a){const n=this[a];if(!s)return n;if(s===!0)return jo(n);if(H.isFunction(s))return s.call(this,n,a);if(H.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,s){if(r=Zt(r),r){const a=H.findKey(this,r);return!!(a&&this[a]!==void 0&&(!s||ss(this,this[a],a,s)))}return!1}delete(r,s){const a=this;let n=!1;function i(l){if(l=Zt(l),l){const o=H.findKey(a,l);o&&(!s||ss(a,a[o],o,s))&&(delete a[o],n=!0)}}return H.isArray(r)?r.forEach(i):i(r),n}clear(r){const s=Object.keys(this);let a=s.length,n=!1;for(;a--;){const i=s[a];(!r||ss(this,this[i],i,r,!0))&&(delete this[i],n=!0)}return n}normalize(r){const s=this,a={};return H.forEach(this,(n,i)=>{const l=H.findKey(a,i);if(l){s[l]=_r(n),delete s[i];return}const o=r?wo(i):String(i).trim();o!==i&&delete s[i],s[o]=_r(n),a[o]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const s=Object.create(null);return H.forEach(this,(a,n)=>{a!=null&&a!==!1&&(s[n]=r&&H.isArray(a)?a.join(", "):a)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,s])=>r+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...s){const a=new this(r);return s.forEach(n=>a.set(n)),a}static accessor(r){const a=(this[ca]=this[ca]={accessors:{}}).accessors,n=this.prototype;function i(l){const o=Zt(l);a[o]||(ko(n,l),a[o]=!0)}return H.isArray(r)?r.forEach(i):i(r),this}};et.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(et.prototype,({value:t},r)=>{let s=r[0].toUpperCase()+r.slice(1);return{get:()=>t,set(a){this[s]=a}}});H.freezeMethods(et);function as(t,r){const s=this||xr,a=r||s,n=et.from(a.headers);let i=a.data;return H.forEach(t,function(o){i=o.call(s,i,n.normalize(),r?r.status:void 0)}),n.normalize(),i}function wn(t){return!!(t&&t.__CANCEL__)}function Xt(t,r,s){je.call(this,t??"canceled",je.ERR_CANCELED,r,s),this.name="CanceledError"}H.inherits(Xt,je,{__CANCEL__:!0});function kn(t,r,s){const a=s.config.validateStatus;!s.status||!a||a(s.status)?t(s):r(new je("Request failed with status code "+s.status,[je.ERR_BAD_REQUEST,je.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function So(t){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return r&&r[1]||""}function Co(t,r){t=t||10;const s=new Array(t),a=new Array(t);let n=0,i=0,l;return r=r!==void 0?r:1e3,function(d){const m=Date.now(),x=a[i];l||(l=m),s[n]=d,a[n]=m;let h=i,p=0;for(;h!==n;)p+=s[h++],h=h%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),m-l<r)return;const g=x&&m-x;return g?Math.round(p*1e3/g):void 0}}function Eo(t,r){let s=0,a=1e3/r,n,i;const l=(m,x=Date.now())=>{s=x,n=null,i&&(clearTimeout(i),i=null),t(...m)};return[(...m)=>{const x=Date.now(),h=x-s;h>=a?l(m,x):(n=m,i||(i=setTimeout(()=>{i=null,l(n)},a-h)))},()=>n&&l(n)]}const Lr=(t,r,s=3)=>{let a=0;const n=Co(50,250);return Eo(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,d=l-a,m=n(d),x=l<=o;a=l;const h={loaded:l,total:o,progress:o?l/o:void 0,bytes:d,rate:m||void 0,estimated:m&&o&&x?(o-l)/m:void 0,event:i,lengthComputable:o!=null,[r?"download":"upload"]:!0};t(h)},s)},da=(t,r)=>{const s=t!=null;return[a=>r[0]({lengthComputable:s,total:t,loaded:a}),r[1]]},ua=t=>(...r)=>H.asap(()=>t(...r)),Mo=Qe.hasStandardBrowserEnv?((t,r)=>s=>(s=new URL(s,Qe.origin),t.protocol===s.protocol&&t.host===s.host&&(r||t.port===s.port)))(new URL(Qe.origin),Qe.navigator&&/(msie|trident)/i.test(Qe.navigator.userAgent)):()=>!0,Ro=Qe.hasStandardBrowserEnv?{write(t,r,s,a,n,i,l){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(r)}`];H.isNumber(s)&&o.push(`expires=${new Date(s).toUTCString()}`),H.isString(a)&&o.push(`path=${a}`),H.isString(n)&&o.push(`domain=${n}`),i===!0&&o.push("secure"),H.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function _o(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ao(t,r){return r?t.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):t}function Sn(t,r,s){let a=!_o(r);return t&&(a||s==!1)?Ao(t,r):r}const ma=t=>t instanceof et?{...t}:t;function $t(t,r){r=r||{};const s={};function a(m,x,h,p){return H.isPlainObject(m)&&H.isPlainObject(x)?H.merge.call({caseless:p},m,x):H.isPlainObject(x)?H.merge({},x):H.isArray(x)?x.slice():x}function n(m,x,h,p){if(H.isUndefined(x)){if(!H.isUndefined(m))return a(void 0,m,h,p)}else return a(m,x,h,p)}function i(m,x){if(!H.isUndefined(x))return a(void 0,x)}function l(m,x){if(H.isUndefined(x)){if(!H.isUndefined(m))return a(void 0,m)}else return a(void 0,x)}function o(m,x,h){if(h in r)return a(m,x);if(h in t)return a(void 0,m)}const d={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(m,x,h)=>n(ma(m),ma(x),h,!0)};return H.forEach(Object.keys({...t,...r}),function(x){const h=d[x]||n,p=h(t[x],r[x],x);H.isUndefined(p)&&h!==o||(s[x]=p)}),s}const Cn=t=>{const r=$t({},t);let{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=r;if(r.headers=l=et.from(l),r.url=vn(Sn(r.baseURL,r.url,r.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),H.isFormData(s)){if(Qe.hasStandardBrowserEnv||Qe.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(H.isFunction(s.getHeaders)){const d=s.getHeaders(),m=["content-type","content-length"];Object.entries(d).forEach(([x,h])=>{m.includes(x.toLowerCase())&&l.set(x,h)})}}if(Qe.hasStandardBrowserEnv&&(a&&H.isFunction(a)&&(a=a(r)),a||a!==!1&&Mo(r.url))){const d=n&&i&&Ro.read(i);d&&l.set(n,d)}return r},To=typeof XMLHttpRequest<"u",Po=To&&function(t){return new Promise(function(s,a){const n=Cn(t);let i=n.data;const l=et.from(n.headers).normalize();let{responseType:o,onUploadProgress:d,onDownloadProgress:m}=n,x,h,p,g,u;function b(){g&&g(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(x),n.signal&&n.signal.removeEventListener("abort",x)}let j=new XMLHttpRequest;j.open(n.method.toUpperCase(),n.url,!0),j.timeout=n.timeout;function R(){if(!j)return;const S=et.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),q={data:!o||o==="text"||o==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:S,config:t,request:j};kn(function(P){s(P),b()},function(P){a(P),b()},q),j=null}"onloadend"in j?j.onloadend=R:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(R)},j.onabort=function(){j&&(a(new je("Request aborted",je.ECONNABORTED,t,j)),j=null)},j.onerror=function($){const q=$&&$.message?$.message:"Network Error",C=new je(q,je.ERR_NETWORK,t,j);C.event=$||null,a(C),j=null},j.ontimeout=function(){let $=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const q=n.transitional||jn;n.timeoutErrorMessage&&($=n.timeoutErrorMessage),a(new je($,q.clarifyTimeoutError?je.ETIMEDOUT:je.ECONNABORTED,t,j)),j=null},i===void 0&&l.setContentType(null),"setRequestHeader"in j&&H.forEach(l.toJSON(),function($,q){j.setRequestHeader(q,$)}),H.isUndefined(n.withCredentials)||(j.withCredentials=!!n.withCredentials),o&&o!=="json"&&(j.responseType=n.responseType),m&&([p,u]=Lr(m,!0),j.addEventListener("progress",p)),d&&j.upload&&([h,g]=Lr(d),j.upload.addEventListener("progress",h),j.upload.addEventListener("loadend",g)),(n.cancelToken||n.signal)&&(x=S=>{j&&(a(!S||S.type?new Xt(null,t,j):S),j.abort(),j=null)},n.cancelToken&&n.cancelToken.subscribe(x),n.signal&&(n.signal.aborted?x():n.signal.addEventListener("abort",x)));const k=So(n.url);if(k&&Qe.protocols.indexOf(k)===-1){a(new je("Unsupported protocol "+k+":",je.ERR_BAD_REQUEST,t));return}j.send(i||null)})},Fo=(t,r)=>{const{length:s}=t=t?t.filter(Boolean):[];if(r||s){let a=new AbortController,n;const i=function(m){if(!n){n=!0,o();const x=m instanceof Error?m:this.reason;a.abort(x instanceof je?x:new Xt(x instanceof Error?x.message:x))}};let l=r&&setTimeout(()=>{l=null,i(new je(`timeout ${r} of ms exceeded`,je.ETIMEDOUT))},r);const o=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(i):m.removeEventListener("abort",i)}),t=null)};t.forEach(m=>m.addEventListener("abort",i));const{signal:d}=a;return d.unsubscribe=()=>H.asap(o),d}},Do=function*(t,r){let s=t.byteLength;if(s<r){yield t;return}let a=0,n;for(;a<s;)n=a+r,yield t.slice(a,n),a=n},Oo=async function*(t,r){for await(const s of $o(t))yield*Do(s,r)},$o=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const r=t.getReader();try{for(;;){const{done:s,value:a}=await r.read();if(s)break;yield a}}finally{await r.cancel()}},xa=(t,r,s,a)=>{const n=Oo(t,r);let i=0,l,o=d=>{l||(l=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:m,value:x}=await n.next();if(m){o(),d.close();return}let h=x.byteLength;if(s){let p=i+=h;s(p)}d.enqueue(new Uint8Array(x))}catch(m){throw o(m),m}},cancel(d){return o(d),n.return()}},{highWaterMark:2})},ha=64*1024,{isFunction:pr}=H,Lo=(({Request:t,Response:r})=>({Request:t,Response:r}))(H.global),{ReadableStream:pa,TextEncoder:ga}=H.global,fa=(t,...r)=>{try{return!!t(...r)}catch{return!1}},Io=t=>{t=H.merge.call({skipUndefined:!0},Lo,t);const{fetch:r,Request:s,Response:a}=t,n=r?pr(r):typeof fetch=="function",i=pr(s),l=pr(a);if(!n)return!1;const o=n&&pr(pa),d=n&&(typeof ga=="function"?(u=>b=>u.encode(b))(new ga):async u=>new Uint8Array(await new s(u).arrayBuffer())),m=i&&o&&fa(()=>{let u=!1;const b=new s(Qe.origin,{body:new pa,method:"POST",get duplex(){return u=!0,"half"}}).headers.has("Content-Type");return u&&!b}),x=l&&o&&fa(()=>H.isReadableStream(new a("").body)),h={stream:x&&(u=>u.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(u=>{!h[u]&&(h[u]=(b,j)=>{let R=b&&b[u];if(R)return R.call(b);throw new je(`Response type '${u}' is not supported`,je.ERR_NOT_SUPPORT,j)})});const p=async u=>{if(u==null)return 0;if(H.isBlob(u))return u.size;if(H.isSpecCompliantForm(u))return(await new s(Qe.origin,{method:"POST",body:u}).arrayBuffer()).byteLength;if(H.isArrayBufferView(u)||H.isArrayBuffer(u))return u.byteLength;if(H.isURLSearchParams(u)&&(u=u+""),H.isString(u))return(await d(u)).byteLength},g=async(u,b)=>{const j=H.toFiniteNumber(u.getContentLength());return j??p(b)};return async u=>{let{url:b,method:j,data:R,signal:k,cancelToken:S,timeout:$,onDownloadProgress:q,onUploadProgress:C,responseType:P,headers:y,withCredentials:v="same-origin",fetchOptions:N}=Cn(u),_=r||fetch;P=P?(P+"").toLowerCase():"text";let w=Fo([k,S&&S.toAbortSignal()],$),E=null;const I=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let J;try{if(C&&m&&j!=="get"&&j!=="head"&&(J=await g(y,R))!==0){let T=new s(b,{method:"POST",body:R,duplex:"half"}),z;if(H.isFormData(R)&&(z=T.headers.get("content-type"))&&y.setContentType(z),T.body){const[L,Z]=da(J,Lr(ua(C)));R=xa(T.body,ha,L,Z)}}H.isString(v)||(v=v?"include":"omit");const V=i&&"credentials"in s.prototype,O={...N,signal:w,method:j.toUpperCase(),headers:y.normalize().toJSON(),body:R,duplex:"half",credentials:V?v:void 0};E=i&&new s(b,O);let F=await(i?_(E,N):_(b,O));const A=x&&(P==="stream"||P==="response");if(x&&(q||A&&I)){const T={};["status","statusText","headers"].forEach(D=>{T[D]=F[D]});const z=H.toFiniteNumber(F.headers.get("content-length")),[L,Z]=q&&da(z,Lr(ua(q),!0))||[];F=new a(xa(F.body,ha,L,()=>{Z&&Z(),I&&I()}),T)}P=P||"text";let U=await h[H.findKey(h,P)||"text"](F,u);return!A&&I&&I(),await new Promise((T,z)=>{kn(T,z,{data:U,headers:et.from(F.headers),status:F.status,statusText:F.statusText,config:u,request:E})})}catch(V){throw I&&I(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new je("Network Error",je.ERR_NETWORK,u,E),{cause:V.cause||V}):je.from(V,V&&V.code,u,E)}}},qo=new Map,En=t=>{let r=t&&t.env||{};const{fetch:s,Request:a,Response:n}=r,i=[a,n,s];let l=i.length,o=l,d,m,x=qo;for(;o--;)d=i[o],m=x.get(d),m===void 0&&x.set(d,m=o?new Map:Io(r)),x=m;return m};En();const Ds={http:ro,xhr:Po,fetch:{get:En}};H.forEach(Ds,(t,r)=>{if(t){try{Object.defineProperty(t,"name",{value:r})}catch{}Object.defineProperty(t,"adapterName",{value:r})}});const ba=t=>`- ${t}`,Uo=t=>H.isFunction(t)||t===null||t===!1;function Ho(t,r){t=H.isArray(t)?t:[t];const{length:s}=t;let a,n;const i={};for(let l=0;l<s;l++){a=t[l];let o;if(n=a,!Uo(a)&&(n=Ds[(o=String(a)).toLowerCase()],n===void 0))throw new je(`Unknown adapter '${o}'`);if(n&&(H.isFunction(n)||(n=n.get(r))))break;i[o||"#"+l]=n}if(!n){const l=Object.entries(i).map(([d,m])=>`adapter ${d} `+(m===!1?"is not supported by the environment":"is not available in the build"));let o=s?l.length>1?`since :
`+l.map(ba).join(`
`):" "+ba(l[0]):"as no adapter specified";throw new je("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n}const Mn={getAdapter:Ho,adapters:Ds};function ns(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Xt(null,t)}function ya(t){return ns(t),t.headers=et.from(t.headers),t.data=as.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Mn.getAdapter(t.adapter||xr.adapter,t)(t).then(function(a){return ns(t),a.data=as.call(t,t.transformResponse,a),a.headers=et.from(a.headers),a},function(a){return wn(a)||(ns(t),a&&a.response&&(a.response.data=as.call(t,t.transformResponse,a.response),a.response.headers=et.from(a.response.headers))),Promise.reject(a)})}const Rn="1.13.2",Jr={};["object","boolean","number","function","string","symbol"].forEach((t,r)=>{Jr[t]=function(a){return typeof a===t||"a"+(r<1?"n ":" ")+t}});const va={};Jr.transitional=function(r,s,a){function n(i,l){return"[Axios v"+Rn+"] Transitional option '"+i+"'"+l+(a?". "+a:"")}return(i,l,o)=>{if(r===!1)throw new je(n(l," has been removed"+(s?" in "+s:"")),je.ERR_DEPRECATED);return s&&!va[l]&&(va[l]=!0,console.warn(n(l," has been deprecated since v"+s+" and will be removed in the near future"))),r?r(i,l,o):!0}};Jr.spelling=function(r){return(s,a)=>(console.warn(`${a} is likely a misspelling of ${r}`),!0)};function zo(t,r,s){if(typeof t!="object")throw new je("options must be an object",je.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let n=a.length;for(;n-- >0;){const i=a[n],l=r[i];if(l){const o=t[i],d=o===void 0||l(o,i,t);if(d!==!0)throw new je("option "+i+" must be "+d,je.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new je("Unknown option "+i,je.ERR_BAD_OPTION)}}const Ar={assertOptions:zo,validators:Jr},mt=Ar.validators;let Dt=class{constructor(r){this.defaults=r||{},this.interceptors={request:new oa,response:new oa}}async request(r,s){try{return await this._request(r,s)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(r,s){typeof r=="string"?(s=s||{},s.url=r):s=r||{},s=$t(this.defaults,s);const{transitional:a,paramsSerializer:n,headers:i}=s;a!==void 0&&Ar.assertOptions(a,{silentJSONParsing:mt.transitional(mt.boolean),forcedJSONParsing:mt.transitional(mt.boolean),clarifyTimeoutError:mt.transitional(mt.boolean)},!1),n!=null&&(H.isFunction(n)?s.paramsSerializer={serialize:n}:Ar.assertOptions(n,{encode:mt.function,serialize:mt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Ar.assertOptions(s,{baseUrl:mt.spelling("baseURL"),withXsrfToken:mt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let l=i&&H.merge(i.common,i[s.method]);i&&H.forEach(["delete","get","head","post","put","patch","common"],u=>{delete i[u]}),s.headers=et.concat(l,i);const o=[];let d=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(s)===!1||(d=d&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const m=[];this.interceptors.response.forEach(function(b){m.push(b.fulfilled,b.rejected)});let x,h=0,p;if(!d){const u=[ya.bind(this),void 0];for(u.unshift(...o),u.push(...m),p=u.length,x=Promise.resolve(s);h<p;)x=x.then(u[h++],u[h++]);return x}p=o.length;let g=s;for(;h<p;){const u=o[h++],b=o[h++];try{g=u(g)}catch(j){b.call(this,j);break}}try{x=ya.call(this,g)}catch(u){return Promise.reject(u)}for(h=0,p=m.length;h<p;)x=x.then(m[h++],m[h++]);return x}getUri(r){r=$t(this.defaults,r);const s=Sn(r.baseURL,r.url,r.allowAbsoluteUrls);return vn(s,r.params,r.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(r){Dt.prototype[r]=function(s,a){return this.request($t(a||{},{method:r,url:s,data:(a||{}).data}))}});H.forEach(["post","put","patch"],function(r){function s(a){return function(i,l,o){return this.request($t(o||{},{method:r,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Dt.prototype[r]=s(),Dt.prototype[r+"Form"]=s(!0)});let Bo=class _n{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const a=this;this.promise.then(n=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](n);a._listeners=null}),this.promise.then=n=>{let i;const l=new Promise(o=>{a.subscribe(o),i=o}).then(n);return l.cancel=function(){a.unsubscribe(i)},l},r(function(i,l,o){a.reason||(a.reason=new Xt(i,l,o),s(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const s=this._listeners.indexOf(r);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const r=new AbortController,s=a=>{r.abort(a)};return this.subscribe(s),r.signal.unsubscribe=()=>this.unsubscribe(s),r.signal}static source(){let r;return{token:new _n(function(n){r=n}),cancel:r}}};function Go(t){return function(s){return t.apply(null,s)}}function Wo(t){return H.isObject(t)&&t.isAxiosError===!0}const vs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(vs).forEach(([t,r])=>{vs[r]=t});function An(t){const r=new Dt(t),s=on(Dt.prototype.request,r);return H.extend(s,Dt.prototype,r,{allOwnKeys:!0}),H.extend(s,r,null,{allOwnKeys:!0}),s.create=function(n){return An($t(t,n))},s}const Le=An(xr);Le.Axios=Dt;Le.CanceledError=Xt;Le.CancelToken=Bo;Le.isCancel=wn;Le.VERSION=Rn;Le.toFormData=Yr;Le.AxiosError=je;Le.Cancel=Le.CanceledError;Le.all=function(r){return Promise.all(r)};Le.spread=Go;Le.isAxiosError=Wo;Le.mergeConfig=$t;Le.AxiosHeaders=et;Le.formToJSON=t=>Nn(H.isHTMLForm(t)?new FormData(t):t);Le.getAdapter=Mn.getAdapter;Le.HttpStatusCode=vs;Le.default=Le;const{Axios:rx,AxiosError:sx,CanceledError:ax,isCancel:nx,CancelToken:ix,VERSION:lx,all:ox,Cancel:cx,isAxiosError:dx,spread:ux,toFormData:mx,AxiosHeaders:xx,HttpStatusCode:hx,formToJSON:px,getAdapter:gx,mergeConfig:fx}=Le,Os={apiUrl:"https://lslf.shinkofa.com",isDevelopment:!1};console.log("[API] env.apiUrl:",Os.apiUrl);console.log("[API] env.isDevelopment:",Os.isDevelopment);const Tn=`${Os.apiUrl}/api/v1`;console.log("[API] Final baseURL:",Tn);const ae=Le.create({baseURL:Tn,timeout:3e4,headers:{"Content-Type":"application/json"}});ae.interceptors.request.use(t=>{var s;let r=localStorage.getItem("access_token");return r||(r=sessionStorage.getItem("access_token")),r&&t.headers&&(t.headers.Authorization=`Bearer ${r}`),console.log("[API] Request:",(s=t.method)==null?void 0:s.toUpperCase(),t.baseURL+t.url),t},t=>Promise.reject(t));ae.interceptors.response.use(t=>t,async t=>{var s;const r=t.config;return((s=t.response)==null?void 0:s.status)===401&&r&&(localStorage.removeItem("access_token"),localStorage.removeItem("user"),localStorage.removeItem("token_expiration"),sessionStorage.removeItem("access_token"),sessionStorage.removeItem("user"),sessionStorage.removeItem("token_expiration"),window.location.href="/login"),t.response||console.error("Network error:",t.message),Promise.reject(t)});class Vo{async register(r){return(await ae.post("/auth/register",r)).data}async login(r){const s=await ae.post("/auth/login",r),{access_token:a,token_type:n,expires_in:i}=s.data,l=localStorage.getItem("rememberMe")==="true",o=l?localStorage:sessionStorage;o.setItem("access_token",a);const d=Date.now()+i*1e3;return o.setItem("token_expiration",d.toString()),l&&(localStorage.setItem("access_token",a),localStorage.setItem("token_expiration",d.toString())),s.data}async logout(){try{await ae.post("/auth/logout")}catch(r){console.error("Logout error:",r)}finally{localStorage.removeItem("access_token"),localStorage.removeItem("token_expiration"),localStorage.removeItem("user"),localStorage.removeItem("rememberMe"),sessionStorage.removeItem("access_token"),sessionStorage.removeItem("token_expiration"),sessionStorage.removeItem("user")}}async getCurrentUser(){const r=await ae.get("/auth/me"),s=localStorage.getItem("rememberMe")==="true";return(s?localStorage:sessionStorage).setItem("user",JSON.stringify(r.data)),s&&localStorage.setItem("user",JSON.stringify(r.data)),r.data}isAuthenticated(){let r=localStorage.getItem("access_token"),s=localStorage.getItem("token_expiration");return(!r||!s)&&(r=sessionStorage.getItem("access_token"),s=sessionStorage.getItem("token_expiration")),!r||!s?!1:Date.now()>=parseInt(s)?(this.logout(),!1):!0}getStoredUser(){let r=localStorage.getItem("user");if(r||(r=sessionStorage.getItem("user")),!r)return null;try{return JSON.parse(r)}catch{return null}}}const Ve=new Vo,ze=gl(t=>({user:Ve.getStoredUser(),isAuthenticated:Ve.isAuthenticated(),isLoading:!1,error:null,login:async r=>{var s,a;t({isLoading:!0,error:null});try{await Ve.login(r);const n=await Ve.getCurrentUser();t({user:n,isAuthenticated:!0,isLoading:!1,error:null})}catch(n){const i=((a=(s=n.response)==null?void 0:s.data)==null?void 0:a.detail)||"Login failed";throw t({user:null,isAuthenticated:!1,isLoading:!1,error:i}),n}},register:async r=>{var s,a;t({isLoading:!0,error:null});try{await Ve.register(r),await Ve.login({username:r.username,password:r.password});const n=await Ve.getCurrentUser();t({user:n,isAuthenticated:!0,isLoading:!1,error:null})}catch(n){const i=((a=(s=n.response)==null?void 0:s.data)==null?void 0:a.detail)||"Registration failed";throw t({user:null,isAuthenticated:!1,isLoading:!1,error:i}),n}},logout:async()=>{t({isLoading:!0});try{await Ve.logout()}finally{t({user:null,isAuthenticated:!1,isLoading:!1,error:null})}},fetchCurrentUser:async()=>{if(!Ve.isAuthenticated()){t({user:null,isAuthenticated:!1});return}t({isLoading:!0});try{const r=await Ve.getCurrentUser();t({user:r,isAuthenticated:!0,isLoading:!1,error:null})}catch{t({user:null,isAuthenticated:!1,isLoading:!1,error:"Failed to fetch user"})}},initialize:()=>{const r=Ve.isAuthenticated(),s=Ve.getStoredUser();t({user:s,isAuthenticated:r,isLoading:!1,error:null})},clearError:()=>{t({error:null})}})),$s="-",Qo=t=>{const r=Jo(t),{conflictingClassGroups:s,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:l=>{const o=l.split($s);return o[0]===""&&o.length!==1&&o.shift(),Pn(o,r)||Yo(l)},getConflictingClassGroupIds:(l,o)=>{const d=s[l]||[];return o&&a[l]?[...d,...a[l]]:d}}},Pn=(t,r)=>{var l;if(t.length===0)return r.classGroupId;const s=t[0],a=r.nextPart.get(s),n=a?Pn(t.slice(1),a):void 0;if(n)return n;if(r.validators.length===0)return;const i=t.join($s);return(l=r.validators.find(({validator:o})=>o(i)))==null?void 0:l.classGroupId},ja=/^\[(.+)\]$/,Yo=t=>{if(ja.test(t)){const r=ja.exec(t)[1],s=r==null?void 0:r.substring(0,r.indexOf(":"));if(s)return"arbitrary.."+s}},Jo=t=>{const{theme:r,prefix:s}=t,a={nextPart:new Map,validators:[]};return Ko(Object.entries(t.classGroups),s).forEach(([i,l])=>{js(l,a,i,r)}),a},js=(t,r,s,a)=>{t.forEach(n=>{if(typeof n=="string"){const i=n===""?r:Na(r,n);i.classGroupId=s;return}if(typeof n=="function"){if(Xo(n)){js(n(a),r,s,a);return}r.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(([i,l])=>{js(l,Na(r,i),s,a)})})},Na=(t,r)=>{let s=t;return r.split($s).forEach(a=>{s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s},Xo=t=>t.isThemeGetter,Ko=(t,r)=>r?t.map(([s,a])=>{const n=a.map(i=>typeof i=="string"?r+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([l,o])=>[r+l,o])):i);return[s,n]}):t,Zo=t=>{if(t<1)return{get:()=>{},set:()=>{}};let r=0,s=new Map,a=new Map;const n=(i,l)=>{s.set(i,l),r++,r>t&&(r=0,a=s,s=new Map)};return{get(i){let l=s.get(i);if(l!==void 0)return l;if((l=a.get(i))!==void 0)return n(i,l),l},set(i,l){s.has(i)?s.set(i,l):n(i,l)}}},Fn="!",ec=t=>{const{separator:r,experimentalParseClassName:s}=t,a=r.length===1,n=r[0],i=r.length,l=o=>{const d=[];let m=0,x=0,h;for(let j=0;j<o.length;j++){let R=o[j];if(m===0){if(R===n&&(a||o.slice(j,j+i)===r)){d.push(o.slice(x,j)),x=j+i;continue}if(R==="/"){h=j;continue}}R==="["?m++:R==="]"&&m--}const p=d.length===0?o:o.substring(x),g=p.startsWith(Fn),u=g?p.substring(1):p,b=h&&h>x?h-x:void 0;return{modifiers:d,hasImportantModifier:g,baseClassName:u,maybePostfixModifierPosition:b}};return s?o=>s({className:o,parseClassName:l}):l},tc=t=>{if(t.length<=1)return t;const r=[];let s=[];return t.forEach(a=>{a[0]==="["?(r.push(...s.sort(),a),s=[]):s.push(a)}),r.push(...s.sort()),r},rc=t=>({cache:Zo(t.cacheSize),parseClassName:ec(t),...Qo(t)}),sc=/\s+/,ac=(t,r)=>{const{parseClassName:s,getClassGroupId:a,getConflictingClassGroupIds:n}=r,i=[],l=t.trim().split(sc);let o="";for(let d=l.length-1;d>=0;d-=1){const m=l[d],{modifiers:x,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:g}=s(m);let u=!!g,b=a(u?p.substring(0,g):p);if(!b){if(!u){o=m+(o.length>0?" "+o:o);continue}if(b=a(p),!b){o=m+(o.length>0?" "+o:o);continue}u=!1}const j=tc(x).join(":"),R=h?j+Fn:j,k=R+b;if(i.includes(k))continue;i.push(k);const S=n(b,u);for(let $=0;$<S.length;++$){const q=S[$];i.push(R+q)}o=m+(o.length>0?" "+o:o)}return o};function nc(){let t=0,r,s,a="";for(;t<arguments.length;)(r=arguments[t++])&&(s=Dn(r))&&(a&&(a+=" "),a+=s);return a}const Dn=t=>{if(typeof t=="string")return t;let r,s="";for(let a=0;a<t.length;a++)t[a]&&(r=Dn(t[a]))&&(s&&(s+=" "),s+=r);return s};function ic(t,...r){let s,a,n,i=l;function l(d){const m=r.reduce((x,h)=>h(x),t());return s=rc(m),a=s.cache.get,n=s.cache.set,i=o,o(d)}function o(d){const m=a(d);if(m)return m;const x=ac(d,s);return n(d,x),x}return function(){return i(nc.apply(null,arguments))}}const Oe=t=>{const r=s=>s[t]||[];return r.isThemeGetter=!0,r},On=/^\[(?:([a-z-]+):)?(.+)\]$/i,lc=/^\d+\/\d+$/,oc=new Set(["px","full","screen"]),cc=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ft=t=>zt(t)||oc.has(t)||lc.test(t),Nt=t=>Kt(t,"length",jc),zt=t=>!!t&&!Number.isNaN(Number(t)),is=t=>Kt(t,"number",zt),er=t=>!!t&&Number.isInteger(Number(t)),hc=t=>t.endsWith("%")&&zt(t.slice(0,-1)),we=t=>On.test(t),wt=t=>cc.test(t),pc=new Set(["length","size","percentage"]),gc=t=>Kt(t,pc,$n),fc=t=>Kt(t,"position",$n),bc=new Set(["image","url"]),yc=t=>Kt(t,bc,wc),vc=t=>Kt(t,"",Nc),tr=()=>!0,Kt=(t,r,s)=>{const a=On.exec(t);return a?a[1]?typeof r=="string"?a[1]===r:r.has(a[1]):s(a[2]):!1},jc=t=>dc.test(t)&&!uc.test(t),$n=()=>!1,Nc=t=>mc.test(t),wc=t=>xc.test(t),kc=()=>{const t=Oe("colors"),r=Oe("spacing"),s=Oe("blur"),a=Oe("brightness"),n=Oe("borderColor"),i=Oe("borderRadius"),l=Oe("borderSpacing"),o=Oe("borderWidth"),d=Oe("contrast"),m=Oe("grayscale"),x=Oe("hueRotate"),h=Oe("invert"),p=Oe("gap"),g=Oe("gradientColorStops"),u=Oe("gradientColorStopPositions"),b=Oe("inset"),j=Oe("margin"),R=Oe("opacity"),k=Oe("padding"),S=Oe("saturate"),$=Oe("scale"),q=Oe("sepia"),C=Oe("skew"),P=Oe("space"),y=Oe("translate"),v=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto",we,r],w=()=>[we,r],E=()=>["",ft,Nt],I=()=>["auto",zt,we],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",we],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>[zt,we];return{cacheSize:500,separator:":",theme:{colors:[tr],spacing:[ft,Nt],blur:["none","",wt,we],brightness:T(),borderColor:[t],borderRadius:["none","","full",wt,we],borderSpacing:w(),borderWidth:E(),contrast:T(),grayscale:A(),hueRotate:T(),invert:A(),gap:w(),gradientColorStops:[t],gradientColorStopPositions:[hc,Nt],inset:_(),margin:_(),opacity:T(),padding:w(),saturate:T(),scale:T(),sepia:A(),skew:T(),space:w(),translate:w()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[wt]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),we]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:v()}],"overscroll-x":[{"overscroll-x":v()}],"overscroll-y":[{"overscroll-y":v()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",er,we]}],basis:[{basis:_()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",er,we]}],"grid-cols":[{"grid-cols":[tr]}],"col-start-end":[{col:["auto",{span:["full",er,we]},we]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[tr]}],"row-start-end":[{row:["auto",{span:[er,we]},we]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[k]}],px:[{px:[k]}],py:[{py:[k]}],ps:[{ps:[k]}],pe:[{pe:[k]}],pt:[{pt:[k]}],pr:[{pr:[k]}],pb:[{pb:[k]}],pl:[{pl:[k]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",we,r]}],"min-w":[{"min-w":[we,r,"min","max","fit"]}],"max-w":[{"max-w":[we,r,"none","full","min","max","fit","prose",{screen:[wt]},wt]}],h:[{h:[we,r,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[we,r,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[we,r,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[we,r,"auto","min","max","fit"]}],"font-size":[{text:["base",wt,Nt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",is]}],"font-family":[{font:[tr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",zt,is]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ft,we]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ft,Nt]}],"underline-offset":[{"underline-offset":["auto",ft,we]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),fc]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gc]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yc]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[u]}],"gradient-via-pos":[{via:[u]}],"gradient-to-pos":[{to:[u]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:V()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[ft,we]}],"outline-w":[{outline:[ft,Nt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[ft,Nt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",wt,vc]}],"shadow-color":[{shadow:[tr]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",wt,we]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[h]}],saturate:[{saturate:[S]}],sepia:[{sepia:[q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:T()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:T()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[$]}],"scale-x":[{"scale-x":[$]}],"scale-y":[{"scale-y":[$]}],rotate:[{rotate:[er,we]}],"translate-x":[{"translate-x":[y]}],"translate-y":[{"translate-y":[y]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ft,Nt,is]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Sc=ic(kc);function Lt(...t){return Sc(ti(t))}const G=c.forwardRef(({className:t,variant:r="primary",size:s="md",isLoading:a=!1,fullWidth:n=!1,disabled:i,children:l,...o},d)=>{const m="btn inline-flex items-center justify-center gap-2 transition-all duration-200",x={primary:"btn-primary",secondary:"btn-secondary",accent:"btn-accent",outline:"btn-outline",ghost:"btn-ghost",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},h={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return e.jsxs("button",{ref:d,className:Lt(m,x[r],h[s],n&&"w-full",(a||i)&&"opacity-50 cursor-not-allowed",t),disabled:i||a,...o,children:[a&&e.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l]})});G.displayName="Button";const ke=c.forwardRef(({className:t,label:r,error:s,helperText:a,suffix:n,id:i,...l},o)=>{const d=i||`input-${Math.random().toString(36).substr(2,9)}`;return e.jsxs("div",{className:"w-full",children:[r&&e.jsxs("label",{htmlFor:d,className:"label",children:[r,l.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:d,ref:o,className:Lt("input",s&&"input-error",n&&"pr-10",t),"aria-invalid":!!s,"aria-describedby":s?`${d}-error`:a?`${d}-helper`:void 0,...l}),n&&e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:n})]}),s&&e.jsx("p",{id:`${d}-error`,className:"mt-1 text-sm text-red-600 dark:text-red-400",role:"alert",children:s}),!s&&a&&e.jsx("p",{id:`${d}-helper`,className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:a})]})});ke.displayName="Input";const X=c.forwardRef(({className:t,hover:r=!1,children:s,...a},n)=>e.jsx("div",{ref:n,className:Lt("card",r&&"card-hover",t),...a,children:s}));X.displayName="Card";const ce=c.forwardRef(({className:t,title:r,subtitle:s,children:a,...n},i)=>e.jsxs("div",{ref:i,className:Lt("mb-4",t),...n,children:[r&&e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:r}),s&&e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:s}),a]}));ce.displayName="CardHeader";const K=c.forwardRef(({className:t,children:r,...s},a)=>e.jsx("div",{ref:a,className:Lt("",t),...s,children:r}));K.displayName="CardBody";const Cc=c.forwardRef(({className:t,children:r,...s},a)=>e.jsx("div",{ref:a,className:Lt("mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",t),...s,children:r}));Cc.displayName="CardFooter";const Ee=c.forwardRef(({className:t,variant:r="primary",size:s="md",children:a,...n},i)=>{const l={primary:"badge-primary",secondary:"badge-secondary",success:"badge-success",warning:"badge-warning",danger:"badge-danger",info:"bg-blue-100 text-blue-800 dark:bg-blue-800 dark:text-blue-100"},o={sm:"text-xs px-2 py-0.5",md:"text-sm px-3 py-1",lg:"text-base px-4 py-1.5"};return e.jsx("span",{ref:i,className:Lt("badge",l[r],o[s],t),...n,children:a})});Ee.displayName="Badge";function Ns(){const[t,r]=c.useState(!1);c.useEffect(()=>{const a=localStorage.getItem("theme"),n=window.matchMedia("(prefers-color-scheme: dark)").matches;a==="dark"||!a&&n?(r(!0),document.documentElement.classList.add("dark")):(r(!1),document.documentElement.classList.remove("dark"))},[]);const s=()=>{const a=!t;r(a),a?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))};return e.jsx("button",{onClick:s,className:"p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":t?"Activer le mode clair":"Activer le mode sombre",title:t?"Mode clair":"Mode sombre",children:t?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})})}function Ln(){const[t,r]=c.useState(!1);c.useEffect(()=>{const a=()=>{window.pageYOffset>300?r(!0):r(!1)};return window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)}},[]);const s=()=>{window.scrollTo({top:0,behavior:"smooth"})};return t?e.jsx("button",{onClick:s,className:"fixed bottom-8 right-8 z-50 p-3 bg-primary-600 text-white rounded-full shadow-strong hover:bg-primary-700 transition-all duration-300 hover:scale-110 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2","aria-label":"Retour en haut de page",title:"Retour en haut",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})}):null}function Ec({currentAvatar:t,onUploadSuccess:r,onUploadError:s}){const[a,n]=c.useState(t||null),[i,l]=c.useState(!1),[o,d]=c.useState(null),m=c.useRef(null),x=async g=>{var k;const u=(k=g.target.files)==null?void 0:k[0];if(!u)return;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(u.type)){const S="Format non support. Utilisez JPG, PNG ou WebP.";d(S),s&&s(S);return}const j=10*1024*1024;if(u.size>j){const S="Fichier trop volumineux. Taille maximum : 10MB";d(S),s&&s(S);return}const R=new FileReader;R.onloadend=()=>{n(R.result)},R.readAsDataURL(u),await h(u)},h=async g=>{var u,b;l(!0),d(null);try{const j=new FormData;j.append("file",g);const k=(await ae.post("/upload/avatar",j,{headers:{"Content-Type":"multipart/form-data"}})).data.avatar_url;r(k)}catch(j){const R=((b=(u=j.response)==null?void 0:u.data)==null?void 0:b.detail)||"Erreur lors de l'upload";d(R),s&&s(R),n(t||null)}finally{l(!1)}},p=async()=>{var g,u;if(confirm("tes-vous sr de vouloir supprimer votre photo de profil ?")){l(!0),d(null);try{await ae.delete("/upload/avatar"),n(null),r("")}catch(b){const j=((u=(g=b.response)==null?void 0:g.data)==null?void 0:u.detail)||"Erreur lors de la suppression";d(j),s&&s(j)}finally{l(!1)}}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"relative",children:[a?e.jsx("img",{src:(a.startsWith("data:")||a.startsWith("http"),a),alt:"Avatar",className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200 dark:border-gray-600"}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center border-4 border-gray-200 dark:border-gray-600",children:e.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),i&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})})]}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("input",{ref:m,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:x,className:"hidden"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(G,{type:"button",variant:"outline",size:"sm",onClick:()=>{var g;return(g=m.current)==null?void 0:g.click()},disabled:i,children:[" ",a?"Changer":"Tlcharger"," la photo"]}),a&&e.jsx(G,{type:"button",variant:"ghost",size:"sm",onClick:p,disabled:i,className:"text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:" Supprimer"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"JPG, PNG ou WebP. Maximum 10MB."})]})]}),o&&e.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:o})})]})}function Mc({isOpen:t,onClose:r,title:s,icon:a,description:n,methods:i,details:l}){return c.useEffect(()=>{const o=d=>{d.key==="Escape"&&t&&r()};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[t,r]),c.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 animate-fade-in",onClick:r,"aria-hidden":"true"}),e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 sm:p-6 lg:p-8",children:e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-strong max-w-3xl w-full animate-slide-up",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[e.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Fermer",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-7xl mb-4",children:a}),e.jsx("h2",{id:"modal-title",className:"text-3xl sm:text-4xl font-bold text-primary-900 dark:text-white mb-4",children:s})]}),e.jsx("div",{className:"mb-8",children:e.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 leading-relaxed whitespace-pre-line",children:n})}),l&&l.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900 dark:text-white mb-4",children:"En dtail"}),e.jsx("ul",{className:"space-y-3 text-gray-700 dark:text-gray-300",children:l.map((o,d)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 dark:text-primary-400 mr-3 mt-1",children:""}),e.jsx("span",{children:o})]},d))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-primary-50 to-accent-50 dark:from-primary-900/20 dark:to-accent-900/20 rounded-xl p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-primary-900 dark:text-white mb-4",children:"Mthodes & Outils"}),e.jsx("ul",{className:"space-y-3",children:i.map((o,d)=>e.jsxs("li",{className:"flex items-start text-gray-700 dark:text-gray-300",children:[e.jsx("span",{className:"text-primary-600 dark:text-primary-400 mr-3",children:""}),e.jsx("span",{children:o})]},d))})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(G,{variant:"primary",onClick:r,size:"lg",children:"Compris !"})})]})]})})})]}):null}function Rc({isOpen:t,onClose:r,name:s,role:a,nickname:n,photo:i,fruit:l,animal:o,quote:d,vision:m,expertise:x,roleInTeam:h,funFact:p}){return c.useEffect(()=>{const g=u=>{u.key==="Escape"&&t&&r()};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[t,r]),c.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 animate-fade-in",onClick:r,"aria-hidden":"true"}),e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 sm:p-6 lg:p-8",children:e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-strong max-w-4xl w-full animate-slide-up",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[e.jsx("button",{onClick:r,className:"absolute top-4 right-4 p-2 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors z-10","aria-label":"Fermer",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 mb-8",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:i,alt:s,className:"w-48 h-48 rounded-xl object-cover shadow-medium mx-auto md:mx-0"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{id:"modal-title",className:"text-3xl sm:text-4xl font-bold text-primary-900 dark:text-white mb-2",children:s}),e.jsx("p",{className:"text-xl text-secondary-600 dark:text-secondary-400 font-semibold mb-2",children:a}),e.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400 italic mb-4",children:['"',n,'"']}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[e.jsx("div",{className:"bg-primary-50 dark:bg-primary-900/20 px-4 py-2 rounded-lg",children:e.jsxs("span",{className:"text-sm font-medium text-primary-800 dark:text-primary-300",children:["Fruit : ",l]})}),e.jsx("div",{className:"bg-secondary-50 dark:bg-secondary-900/20 px-4 py-2 rounded-lg",children:e.jsxs("span",{className:"text-sm font-medium text-secondary-800 dark:text-secondary-300",children:["Animal : ",o]})})]}),e.jsxs("blockquote",{className:"border-l-4 border-primary-600 pl-4 italic text-gray-700 dark:text-gray-300",children:['"',d,'"']})]})]}),e.jsxs("div",{className:"space-y-6",children:[m&&e.jsxs("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-800/20 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-primary-900 dark:text-white mb-3 flex items-center",children:[e.jsx("span",{className:"mr-2",children:""})," Vision"]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:m})]}),x&&e.jsxs("div",{className:"bg-gradient-to-br from-accent-50 to-accent-100 dark:from-accent-900/20 dark:to-accent-800/20 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx("span",{className:"mr-2",children:""})," Expertise"]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:x})]}),e.jsxs("div",{className:"bg-gradient-to-br from-secondary-50 to-secondary-100 dark:from-secondary-900/20 dark:to-secondary-800/20 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 flex items-center",children:[e.jsx("span",{className:"mr-2",children:""})," Rle dans l'quipe"]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:h})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-purple-900 dark:text-purple-200 mb-3 flex items-center",children:[e.jsx("span",{className:"mr-2",children:""})," Fun Fact"]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:p})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(G,{variant:"primary",onClick:r,size:"lg",children:"Fermer"})})]})]})})})]}):null}const wa=[{icon:"",title:"Excellence Comptitive",summary:"Entranement structur et coaching professionnel pour atteindre le plus haut niveau sur Honor of Kings.",description:`Nous visons l'excellence comptitive  travers un entranement rigoureux et structur.

Notre quipe s'engage dans des sessions d'entranement intensives 4-5 fois par semaine, analyse approfondie de replays et dveloppement de stratgies d'quipe sophistiques.

Avec un coaching professionnel individualis et collectif, nous participons activement aux tournois officiels Honor of Kings avec un objectif clair : intgrer le Top 10 France, puis viser les comptitions internationales.`,methods:["Sessions d'entranement intensives (macro/micro gameplay)","Drills mcaniques et exercices de raction","Scrims contre quipes comptitives","Feedback vido dtaill post-match","Coaching individuel et stratgies d'quipe"],details:["Entranement structur 4-5x par semaine","Analyse de replays et stratgies d'quipe","Coaching professionnel individuel et collectif","Participation aux tournois Honor of Kings officiels","Objectif : Top 10 France, puis comptitions internationales"]},{icon:"",title:"Dveloppement Holistique",summary:"Coaching mental, gestion du stress, exercices cognitifs et bien-tre pour des performances optimales.",description:`Le dveloppement holistique est au cur de notre philosophie.

Nous croyons qu'un joueur performant est un joueur quilibr. Notre approche intgre le coaching mental pour grer le stress et dvelopper la confiance, des exercices cognitifs cibls pour amliorer les rflexes et la mmoire de travail, ainsi qu'un accompagnement sur le bien-tre physique (nutrition, sommeil, pauses actives).

Nous aidons chaque joueur  trouver son quilibre entre vie personnelle (tudes/travail) et e-sport, en respectant les rythmes et la neurodiversit de chacun.`,methods:["Mini-jeux cognitifs (vision priphrique, multitche)","Sessions de respiration et gestion motionnelle","Suivi progression personnalis","Bibliothque d'exercices sur plateforme","Coaching adapt aux neurodiversits (TDAH, HPI)"],details:["Coaching mental : gestion du stress, confiance, mindset","Exercices cognitifs : rflexes, mmoire de travail, attention","Bien-tre physique : nutrition, sommeil, pauses actives","quilibre vie-gaming : tudes/travail + e-sport"]},{icon:"",title:"Esprit d'quipe",summary:"Communication, cohsion et soutien mutuel pour crer une quipe soude et performante.",description:`L'esprit d'quipe est notre fondation.

Nous cultivons une communication efficace in-game et hors-game, organisons des activits de team-building et crons un environnement de soutien mutuel o chaque victoire est clbre ensemble et chaque dfaite devient une opportunit d'apprentissage.

Notre culture valorise le respect, l'inclusion de toutes les neurodiversits et rythmes personnels, la progression collective plutt que la performance individuelle, et le feedback constructif dans la transparence.`,methods:["Communication in-game optimise","Team-building rguliers","Feedback constructif et transparent","Sessions de cohsion d'quipe","Culture positive et bienveillante"],details:["Respect et inclusion (neurodiversit, rythmes varis)","Progression collective > performances individuelles","Feedback constructif et transparent","Engagement et discipline partags"]}],ka=[{name:"Gautier-Landry Sodart",role:"Manager & Crateur",nickname:"Le-Blond",photo:"/team-gautier.png",fruit:"Kiwi  (Petit mais puissant !)",animal:"Loup ",quote:"Btir une quipe, c'est cultiver un jardin de talents",vision:"Crer une quipe e-sport ambitieuse et bienveillante qui respecte l'quilibre de vie de chaque joueur tout en visant l'excellence comptitive.",roleInTeam:"Gestion administrative, logistique, budget, communication externe, et dveloppement de la marque LSLF. Je m'assure que l'quipe dispose de toutes les ressources ncessaires pour performer.",funFact:"Adore les kiwis (d'o le fruit totem) et les stratgies  long terme. Fan de sries fantastiques et amateur de cuisine fruite !"},{name:"Jaypee Goncalves",role:"Coach Principal",nickname:"The-Ermite",photo:"/team-jay.png",fruit:"Mangue  (Doux mais structur !)",animal:"Tortue ",quote:"La performance nat de l'quilibre entre intensit et repos",expertise:"Coaching holistique, Design Humain, accompagnement des neurodiversits (TDAH/HPI). Spcialis dans le dveloppement de routines adaptes et l'optimisation des performances en respectant les rythmes naturels.",roleInTeam:"Coaching mental et stratgique, dveloppement d'exercices cognitifs, suivi de progression individualis, et cration de plans d'entranement adapts. J'accompagne chaque joueur dans son dveloppement personnel et comptitif.",funFact:"Passionn de pop culture, jeux vido, et stratgie. Expert en coaching et amlioration continue, toujours  la recherche de la meilleure optimisation pour performer ! Adepte de la philosophie Shinkofa."}],_c=[{name:"Andreas",nickname:"Meruem D. ",role:"Roam/Support",icon:"",photo:"/team-andreas.png",fruit:"Fruit de la Passion ",animal:"Lynx ",bio:"Stratge patient avec une vision d'quipe exceptionnelle. Matre du peel et des engages calculs."},{name:"Fantantenana",nickname:"Karma D. ",role:"ADC",icon:"",photo:"/team-karma.png",fruit:"Litchi ",animal:"Faucon ",bio:"Prcision chirurgicale et rflexes fulgurants. Expert du positionnement et du DPS optimal."},{name:"Enzo",nickname:"Soulz D. ",role:"Jungle",icon:"",photo:"/team-enzo.png",fruit:"Prune Noire ",animal:"Tigre Blanc ",bio:"Agressif et mthodique, contrle absolu de la map. Spcialiste des ganks imprvisibles."},{name:"Omar",nickname:"Tempest D. ",role:"Clash Lane",icon:"",photo:"/team-omar.png",fruit:"Yuzu ",animal:"Aigle ",bio:"Pression constante et mcanique irrprochable. Dominant en 1v1 et expert du split-push."}];function Ac(){const[t,r]=c.useState({firstName:"",lastName:"",pseudo:"",age:"",country:"",languages:"",motivation:"",availability:"",status:"",interviewAvailability:""}),[s,a]=c.useState(!1),[n,i]=c.useState(""),[l,o]=c.useState(null),[d,m]=c.useState(null),x=async h=>{h.preventDefault(),a(!0),i(""),setTimeout(()=>{i(" Candidature envoye ! Nous te contacterons bientt sur Discord."),r({firstName:"",lastName:"",pseudo:"",age:"",country:"",languages:"",motivation:"",availability:"",status:"",interviewAvailability:""}),a(!1)},1500)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-gray-50 dark:from-gray-900 dark:to-gray-800",children:[e.jsx("nav",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-lg border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50",children:e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("a",{href:"#hero",className:"flex items-center gap-3 flex-shrink-0",children:[e.jsx("img",{src:"/logo-lslf-sigle.png",alt:"LSLF",className:"h-12 w-auto"}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("h1",{className:"text-lg font-bold text-primary-900 dark:text-white font-sans",children:"La Salade de Fruits"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"E-Sport Team"})]})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-6 flex-1 justify-center",children:[e.jsx("a",{href:"#about",className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors font-medium",children:" propos"}),e.jsx("a",{href:"#esport",className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors font-medium",children:"eSport"}),e.jsx("a",{href:"#vision",className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors font-medium",children:"Vision"}),e.jsx("a",{href:"#team",className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors font-medium",children:"quipe"}),e.jsx("a",{href:"#recruit",className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors font-medium",children:"Nous rejoindre"})]}),e.jsx("div",{className:"flex items-center gap-3 flex-shrink-0",children:e.jsx(Ns,{})})]})})}),e.jsxs("section",{id:"hero",className:"relative overflow-hidden py-20 lg:py-32",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-50 to-accent-50 dark:from-primary-900/20 dark:to-accent-900/20"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("img",{src:"/logo-lslf-full.png",alt:"La Salade de Fruits E-Sport",className:"h-48 mx-auto mb-8 drop-shadow-2xl"}),e.jsx("h1",{className:"text-5xl lg:text-7xl font-bold text-primary-900 dark:text-white mb-6 font-sans",children:"La Salade de Fruits"}),e.jsx("p",{className:"text-2xl lg:text-3xl text-gray-700 dark:text-gray-300 mb-4",children:"quipe E-Sport Honor of Kings "}),e.jsxs("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto mb-8",children:["Une quipe ddie  l'excellence comptitive, au dveloppement holistique des joueurs et  la passion du gaming. ",e.jsx("span",{className:"font-semibold text-primary-600 dark:text-primary-400",children:"Une recette gagnante de talents frais ! "})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("a",{href:"#recruit",children:e.jsx(G,{variant:"primary",size:"lg",children:" Nous rejoindre"})}),e.jsx("a",{href:"#team",children:e.jsx(G,{variant:"outline",size:"lg",children:" Dcouvrir l'quipe"})})]})]})]}),e.jsx("section",{id:"esport",className:"py-20 bg-gradient-to-br from-primary-900 to-primary-700 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4",children:" Qu'est-ce que l'eSport ?"}),e.jsx("p",{className:"text-xl text-primary-100 max-w-3xl mx-auto",children:"Bienvenue dans l'univers de la comptition gaming professionnelle"}),e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx("img",{src:"/hok-logo.png",alt:"Honor of Kings",className:"h-20 w-auto drop-shadow-lg opacity-90 hover:opacity-100 transition-opacity"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-8",children:[e.jsx("div",{className:"text-5xl mb-4",children:""}),e.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Comptition de Haut Niveau"}),e.jsx("p",{className:"text-primary-100 leading-relaxed",children:"L'eSport (sport lectronique) dsigne la pratique comptitive de jeux vido, organise en tournois professionnels avec quipes, entraneurs, et stratgies labores. Comme dans le sport traditionnel, l'excellence requiert entranement, discipline et esprit d'quipe."})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-8",children:[e.jsx("div",{className:"text-5xl mb-4",children:""}),e.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Un Phnomne Mondial"}),e.jsx("p",{className:"text-primary-100 leading-relaxed",children:"L'eSport rassemble des millions de fans  travers le monde, avec des comptitions diffuses en streaming et des prize pools impressionnants. En France, l'industrie est en plein essor avec des structures professionnelles reconnues."})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-8",children:[e.jsx("div",{className:"text-5xl mb-4",children:""}),e.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Honor of Kings : Notre Jeu"}),e.jsx("p",{className:"text-primary-100 leading-relaxed",children:"Honor of Kings est un MOBA 5v5 stratgique mobile, l'un des jeux les plus jous au monde. Il combine rflexes, stratgie d'quipe, et mcanique individuelle. Chaque rle (Support, ADC, Jungle, Lane) est crucial pour la victoire."})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-xl p-8",children:[e.jsx("div",{className:"text-5xl mb-4",children:""}),e.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Entranement Structur"}),e.jsx("p",{className:"text-primary-100 leading-relaxed",children:"Comme tout sport, l'eSport exige un entranement rgulier : drills mcaniques, analyse de replays, coaching mental, exercices cognitifs, et scrims contre d'autres quipes. La performance optimale nat de l'quilibre entre intensit et rcupration."})]})]}),e.jsx("div",{className:"mb-12",children:e.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl",children:[e.jsx("img",{src:"/hok-esport.jpg",alt:"Honor of Kings eSport Competition",className:"w-full h-64 md:h-96 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary-900/80 to-transparent flex items-end",children:e.jsxs("div",{className:"p-8 w-full",children:[e.jsx("h3",{className:"text-3xl font-bold text-white mb-2",children:"L'Excellence Comptitive Honor of Kings"}),e.jsx("p",{className:"text-xl text-primary-100",children:"Rejoignez l'arne et crivez votre lgende avec La Salade de Fruits"})]})})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-xl text-primary-100 mb-6",children:[e.jsx("span",{className:"font-semibold",children:"La Salade de Fruits"})," cultive ces principes pour devenir une rfrence de l'eSport franais sur Honor of Kings "]})})]})}),e.jsx("section",{id:"vision",className:"py-20 bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-primary-900 dark:text-white mb-4",children:" Notre Vision"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto",children:"Dvelopper les talents, cultiver l'excellence comme on cultive un verger "})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:wa.map((h,p)=>e.jsxs("button",{onClick:()=>o(p),className:"bg-gradient-to-br from-primary-50 to-primary-100 dark:from-primary-900/20 dark:to-primary-800/20 rounded-xl p-8 text-center transition-all hover:shadow-xl hover:scale-105 cursor-pointer",children:[e.jsx("div",{className:"text-6xl mb-4",children:h.icon}),e.jsx("h3",{className:"text-2xl font-bold text-primary-900 dark:text-white mb-3",children:h.title}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:h.summary}),e.jsx("span",{className:"text-primary-600 dark:text-primary-400 font-semibold text-sm",children:"Cliquer pour en savoir plus "})]},p))})]})}),e.jsx("section",{id:"team",className:"py-20 bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-primary-900 dark:text-white mb-4",children:" Notre quipe"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Les fruits qui composent notre salade gagnante "})]}),e.jsxs("div",{className:"mb-16",children:[e.jsx("h3",{className:"text-3xl font-bold text-primary-900 dark:text-white text-center mb-8",children:" Le Staff"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:ka.map((h,p)=>e.jsx("button",{onClick:()=>m(p),className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all hover:scale-105 cursor-pointer text-left",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 items-center sm:items-start",children:[e.jsx("img",{src:h.photo,alt:h.name,className:"w-32 h-32 rounded-xl object-cover shadow-medium"}),e.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[e.jsx("h4",{className:"text-2xl font-bold text-primary-900 dark:text-white mb-1",children:h.name}),e.jsx("p",{className:"text-lg text-secondary-600 dark:text-secondary-400 font-semibold mb-1",children:h.role}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 italic mb-3",children:['"',h.nickname,'"']}),e.jsxs("div",{className:"flex flex-wrap gap-2 justify-center sm:justify-start mb-3",children:[e.jsx("span",{className:"text-xs bg-primary-100 dark:bg-primary-900/30 text-primary-800 dark:text-primary-300 px-3 py-1 rounded-full",children:h.fruit}),e.jsx("span",{className:"text-xs bg-secondary-100 dark:bg-secondary-900/30 text-secondary-800 dark:text-secondary-300 px-3 py-1 rounded-full",children:h.animal})]}),e.jsx("span",{className:"text-primary-600 dark:text-primary-400 font-semibold text-sm",children:"Cliquer pour en savoir plus "})]})]})},p))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-primary-900 dark:text-white text-center mb-8",children:" Les Joueurs"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:_c.map((h,p)=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg hover:shadow-xl transition-all hover:scale-105 group",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("img",{src:h.photo,alt:h.name,className:"w-32 h-32 rounded-xl object-cover shadow-medium mx-auto mb-4"}),e.jsx("div",{className:"text-5xl mb-3",children:h.icon}),e.jsx("h4",{className:"text-xl font-bold text-primary-900 dark:text-white mb-1",children:h.name}),e.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 font-semibold mb-1",children:h.role}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 italic mb-3",children:['"',h.nickname,'"']}),e.jsxs("div",{className:"space-y-1 mb-3",children:[e.jsx("p",{className:"text-xs text-primary-700 dark:text-primary-300",children:h.fruit}),e.jsx("p",{className:"text-xs text-secondary-700 dark:text-secondary-300",children:h.animal})]})]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 text-center opacity-0 group-hover:opacity-100 transition-opacity",children:h.bio})]},p))})]})]})}),e.jsx("section",{id:"recruit",className:"py-20 bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-4xl font-bold text-primary-900 dark:text-white mb-4",children:" Nous Rejoindre"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"Tu es passionn par Honor of Kings ? Ajoute ta touche fruite  notre quipe ! "})]}),e.jsxs("div",{className:"bg-gradient-to-r from-[#5865F2] to-[#7289DA] rounded-xl p-8 mb-8 text-center text-white shadow-lg",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:" Rejoins la Salade de Fruits sur Discord !"}),e.jsx("p",{className:"text-lg mb-6 text-blue-50",children:"Dcouvre notre philosophie Shinkofa, change avec l'quipe, et participe  nos vnements communautaires."}),e.jsx("a",{href:"https://discord.gg/fBdqpKZUht",target:"_blank",rel:"noopener noreferrer",className:"inline-block",children:e.jsx(G,{size:"lg",className:"bg-white text-[#5865F2] hover:bg-gray-100 font-bold",children:" Rejoindre le Discord LSLF"})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-primary-50 to-accent-50 dark:from-primary-900/20 dark:to-accent-900/20 rounded-xl p-8 mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-primary-900 dark:text-white mb-4",children:"Ce que nous recherchons"}),e.jsxs("ul",{className:"space-y-3 text-gray-700 dark:text-gray-300",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 dark:text-primary-400 mr-3",children:""}),e.jsx("span",{children:"Passion pour Honor of Kings et l'e-sport comptitif"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 dark:text-primary-400 mr-3",children:""}),e.jsx("span",{children:"Motivation pour progresser et s'entraner rgulirement"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 dark:text-primary-400 mr-3",children:""}),e.jsx("span",{children:"Esprit d'quipe et communication positive"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-primary-600 dark:text-primary-400 mr-3",children:""}),e.jsx("span",{children:"Disponibilit pour les sessions d'entranement et comptitions"})]})]})]}),e.jsxs("form",{onSubmit:x,className:"bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("h3",{className:"text-2xl font-bold text-primary-900 dark:text-white mb-6",children:"Formulaire de candidature"}),n&&e.jsx("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-600 dark:text-green-400",children:n}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prnom *"}),e.jsx("input",{type:"text",required:!0,value:t.firstName,onChange:h=>r({...t,firstName:h.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Ton prnom"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nom *"}),e.jsx("input",{type:"text",required:!0,value:t.lastName,onChange:h=>r({...t,lastName:h.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Ton nom"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Pseudo (in-game) *"}),e.jsx("input",{type:"text",required:!0,value:t.pseudo,onChange:h=>r({...t,pseudo:h.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Ton pseudo de jeu"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ge *"}),e.jsx("input",{type:"number",required:!0,min:"13",max:"99",value:t.age,onChange:h=>r({...t,age:h.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"18"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Pays de rsidence *"}),e.jsx("input",{type:"text",required:!0,value:t.country,onChange:h=>r({...t,country:h.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"France"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Langues parles *"}),e.jsx("input",{type:"text",required:!0,value:t.languages,onChange:h=>r({...t,languages:h.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Ex: Franais, Anglais, Espagnol..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Motivation & Objectifs (perso/jeu) *"}),e.jsx("textarea",{required:!0,value:t.motivation,onChange:h=>r({...t,motivation:h.target.value}),rows:4,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Pourquoi veux-tu rejoindre la team ? Quels sont tes objectifs personnels et dans le jeu ?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Disponibilits entranement *"}),e.jsx("textarea",{required:!0,value:t.availability,onChange:h=>r({...t,availability:h.target.value}),rows:3,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Ex: Lundi-Vendredi 18h-22h, Week-end flexible..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Statut *"}),e.jsxs("select",{required:!0,value:t.status,onChange:h=>r({...t,status:h.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Slectionner ton statut"}),e.jsx("option",{value:"tudiant",children:"tudiant"}),e.jsx("option",{value:"Salari",children:"Salari"}),e.jsx("option",{value:"Entrepreneur",children:"Entrepreneur"}),e.jsx("option",{value:"Autre",children:"Autre"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Disponibilits entretien *"}),e.jsx("textarea",{required:!0,value:t.interviewAvailability,onChange:h=>r({...t,interviewAvailability:h.target.value}),rows:2,className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Ex: Disponible cette semaine en soire, ou week-end..."})]}),e.jsx(G,{type:"submit",variant:"primary",fullWidth:!0,isLoading:s,children:"Envoyer ma candidature "})]})]})]})}),e.jsx("footer",{className:"bg-primary-900 text-white py-12",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-4 font-sans",children:"La Salade de Fruits"}),e.jsx("p",{className:"text-primary-200",children:"quipe E-Sport Honor of Kings ddie  l'excellence et au dveloppement des talents. Cultivons la victoire ensemble ! "})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Navigation"}),e.jsxs("ul",{className:"space-y-2 text-primary-200",children:[e.jsx("li",{children:e.jsx("a",{href:"#about",className:"hover:text-white transition-colors",children:" propos"})}),e.jsx("li",{children:e.jsx("a",{href:"#esport",className:"hover:text-white transition-colors",children:"eSport"})}),e.jsx("li",{children:e.jsx("a",{href:"#vision",className:"hover:text-white transition-colors",children:"Vision"})}),e.jsx("li",{children:e.jsx("a",{href:"#team",className:"hover:text-white transition-colors",children:"quipe"})}),e.jsx("li",{children:e.jsx("a",{href:"#recruit",className:"hover:text-white transition-colors",children:"Nous rejoindre"})}),e.jsx("li",{children:e.jsx("a",{href:"/login",className:"hover:text-white transition-colors font-semibold text-accent-400",children:" Accs Plateforme"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Contact"}),e.jsxs("div",{className:"space-y-3 text-primary-200",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white mb-1",children:"Manager"}),e.jsx("p",{className:"text-sm",children:"Gautier - Le Blond"}),e.jsxs("p",{className:"text-sm",children:["Discord: ",e.jsx("span",{className:"text-accent-500",children:"@the_ermite_bagh"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white mb-1",children:"Coach"}),e.jsx("p",{className:"text-sm",children:"Jay - The Ermite"}),e.jsxs("p",{className:"text-sm",children:["Discord: ",e.jsx("span",{className:"text-accent-500",children:"@theermite"})]})]})]})]})]}),e.jsxs("div",{className:"border-t border-primary-700 mt-8 pt-8 text-center text-primary-300",children:[e.jsx("p",{children:" 2025 La Salade de Fruits E-Sport. Tous droits rservs. "}),e.jsx("p",{className:"text-sm mt-2",children:"Cultivons l'excellence, rcoltons les victoires "})]})]})}),e.jsx(Ln,{}),wa.map((h,p)=>e.jsx(Mc,{isOpen:l===p,onClose:()=>o(null),title:h.title,icon:h.icon,description:h.description,methods:h.methods,details:h.details},p)),ka.map((h,p)=>e.jsx(Rc,{isOpen:d===p,onClose:()=>m(null),...h},p))]})}var In={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Sa=Pe.createContext&&Pe.createContext(In),Et=function(){return Et=Object.assign||function(t){for(var r,s=1,a=arguments.length;s<a;s++){r=arguments[s];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Et.apply(this,arguments)},Tc=function(t,r){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(t);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(t,a[n])&&(s[a[n]]=t[a[n]]);return s};function qn(t){return t&&t.map(function(r,s){return Pe.createElement(r.tag,Et({key:s},r.attr),qn(r.child))})}function Un(t){return function(r){return Pe.createElement(Pc,Et({attr:Et({},t.attr)},r),qn(t.child))}}function Pc(t){var r=function(s){var a=t.attr,n=t.size,i=t.title,l=Tc(t,["attr","size","title"]),o=n||s.size||"1em",d;return s.className&&(d=s.className),t.className&&(d=(d?d+" ":"")+t.className),Pe.createElement("svg",Et({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,a,l,{className:d,style:Et(Et({color:t.color||s.color},s.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&Pe.createElement("title",null,i),t.children)};return Sa!==void 0?Pe.createElement(Sa.Consumer,null,function(s){return r(s)}):r(In)}function Fc(t){return Un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"}}]})(t)}function Dc(t){return Un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(t)}function Oc(){const t=tt(),{login:r,error:s,isLoading:a,clearError:n}=ze(),[i,l]=c.useState({username:"",password:""}),[o,d]=c.useState(!1),[m,x]=c.useState(!1),h=async g=>{g.preventDefault(),n();try{localStorage.setItem("rememberMe",m.toString()),await r(i),t("/dashboard")}catch(u){console.error("Login failed:",u)}},p=g=>{l({...i,[g.target.name]:g.target.value})};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-900 via-primary-800 to-primary-700 px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("img",{src:"/logo-lslf-fnl.png",alt:"La Salade de Fruits E-Sport",className:"h-32 w-auto mx-auto mb-4 drop-shadow-2xl"}),e.jsx("p",{className:"text-primary-100 text-lg font-semibold",children:"Plateforme d'entranement holistique"})]}),e.jsxs(X,{className:"animate-fade-in",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Connexion"}),s&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:s})}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsx(ke,{label:"Nom d'utilisateur",name:"username",type:"text",value:i.username,onChange:p,placeholder:"votre-pseudo",required:!0,autoComplete:"username"}),e.jsx(ke,{label:"Mot de passe",name:"password",type:o?"text":"password",value:i.password,onChange:p,placeholder:"",required:!0,autoComplete:"current-password",suffix:e.jsx("button",{type:"button",onClick:()=>d(!o),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 focus:outline-none transition-colors","aria-label":o?"Masquer le mot de passe":"Afficher le mot de passe",children:o?e.jsx(Fc,{size:20}):e.jsx(Dc,{size:20})})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:m,onChange:g=>x(g.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"Se souvenir de moi"})]}),e.jsx(xe,{to:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400",children:"Mot de passe oubli ?"})]}),e.jsx(G,{type:"submit",variant:"primary",fullWidth:!0,isLoading:a,className:"mt-6",children:"Se connecter"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Pas encore de compte ?"," ",e.jsx(xe,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-700 dark:text-primary-400",children:"S'inscrire"})]})})]}),e.jsx("p",{className:"mt-8 text-center text-sm text-primary-200",children:" 2024 La Voie Shinkofa - Tous droits rservs"})]})})}function $c(){const[t,r]=c.useState(""),[s,a]=c.useState(!1),[n,i]=c.useState(null),[l,o]=c.useState(!1),d=async m=>{var x,h;m.preventDefault(),a(!0),i(null);try{await ae.post("/password-reset/request",{email:t}),o(!0),i({type:"success",text:"Si cet email existe dans notre systme, vous recevrez un lien de rinitialisation sous peu."})}catch(p){i({type:"error",text:((h=(x=p.response)==null?void 0:x.data)==null?void 0:h.detail)||"Une erreur est survenue. Veuillez ressayer."})}finally{a(!1)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-accent-50 dark:from-gray-900 dark:to-gray-800 px-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-100 dark:bg-primary-900/30 rounded-full mb-4",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Mot de passe oubli ?"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Entrez votre email et nous vous enverrons un lien pour rinitialiser votre mot de passe."})]}),n&&e.jsx("div",{className:`mb-6 p-4 rounded-lg ${n.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-600 dark:text-green-400":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400"}`,children:e.jsx("p",{className:"text-sm font-medium",children:n.text})}),l?e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full mb-4",children:e.jsx("span",{className:"text-4xl",children:""})}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300 mb-6",children:["Vrifiez votre bote mail (",e.jsx("strong",{children:t}),") pour le lien de rinitialisation."]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 text-sm text-blue-600 dark:text-blue-400",children:[e.jsx("p",{className:"font-medium",children:" Conseils :"}),e.jsxs("ul",{className:"mt-2 space-y-1 text-left",children:[e.jsx("li",{children:" Vrifiez vos spams si vous ne voyez rien"}),e.jsx("li",{children:" Le lien expire dans 1 heure"}),e.jsx("li",{children:" Vous pouvez redemander un lien si ncessaire"})]})]}),e.jsx(G,{variant:"outline",onClick:()=>{o(!1),r(""),i(null)},fullWidth:!0,children:"Envoyer un autre email"}),e.jsx(xe,{to:"/login",className:"block text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium",children:" Retour  la connexion"})]}):e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsx(ke,{label:"Adresse email",type:"email",value:t,onChange:m=>r(m.target.value),placeholder:"votre@email.com",required:!0,disabled:s}),e.jsx(G,{type:"submit",variant:"primary",fullWidth:!0,isLoading:s,children:"Envoyer le lien de rinitialisation"}),e.jsx("div",{className:"text-center",children:e.jsx(xe,{to:"/login",className:"text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium",children:" Retour  la connexion"})})]})]}),e.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400 mt-6",children:" 2025 SLF Esport - La Salade de Fruits"})]})})}function Lc(){const{token:t}=or(),r=tt(),[s,a]=c.useState(""),[n,i]=c.useState(""),[l,o]=c.useState(!1),[d,m]=c.useState(!0),[x,h]=c.useState(!1),[p,g]=c.useState(null),[u,b]=c.useState(!1);c.useEffect(()=>{(async()=>{var k,S;if(!t){g({type:"error",text:"Token de rinitialisation manquant"}),m(!1);return}try{await ae.get(`/password-reset/verify/${t}`),h(!0)}catch($){g({type:"error",text:((S=(k=$.response)==null?void 0:k.data)==null?void 0:S.detail)||"Token invalide ou expir"}),h(!1)}finally{m(!1)}})()},[t]);const j=async R=>{var k,S;if(R.preventDefault(),g(null),s!==n){g({type:"error",text:"Les mots de passe ne correspondent pas"});return}if(s.length<8){g({type:"error",text:"Le mot de passe doit contenir au moins 8 caractres"});return}if(!/\d/.test(s)){g({type:"error",text:"Le mot de passe doit contenir au moins 1 chiffre"});return}if(!/[A-Z]/.test(s)){g({type:"error",text:"Le mot de passe doit contenir au moins 1 majuscule"});return}o(!0);try{await ae.post("/password-reset/confirm",{token:t,new_password:s}),b(!0),g({type:"success",text:"Votre mot de passe a t rinitialis avec succs !"}),setTimeout(()=>{r("/login")},3e3)}catch($){g({type:"error",text:((S=(k=$.response)==null?void 0:k.data)==null?void 0:S.detail)||"Erreur lors de la rinitialisation du mot de passe"})}finally{o(!1)}};return d?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-accent-50 dark:from-gray-900 dark:to-gray-800",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-primary-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Vrification du lien..."})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-accent-50 dark:from-gray-900 dark:to-gray-800 px-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:`inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 ${x?"bg-primary-100 dark:bg-primary-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:e.jsx("span",{className:"text-3xl",children:x?"":""})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:x?"Nouveau mot de passe":"Lien invalide"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:x?"Choisissez un nouveau mot de passe scuris pour votre compte.":"Ce lien de rinitialisation est invalide ou a expir."})]}),p&&e.jsx("div",{className:`mb-6 p-4 rounded-lg ${p.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-600 dark:text-green-400":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400"}`,children:e.jsx("p",{className:"text-sm font-medium",children:p.text})}),x&&!u?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6 text-sm text-blue-600 dark:text-blue-400",children:[e.jsx("p",{className:"font-medium",children:"Exigences du mot de passe :"}),e.jsxs("ul",{className:"mt-2 space-y-1",children:[e.jsx("li",{children:" Au moins 8 caractres"}),e.jsx("li",{children:" Au moins 1 chiffre"}),e.jsx("li",{children:" Au moins 1 lettre majuscule"})]})]}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsx(ke,{label:"Nouveau mot de passe",type:"password",value:s,onChange:R=>a(R.target.value),placeholder:"",required:!0,disabled:l}),e.jsx(ke,{label:"Confirmer le mot de passe",type:"password",value:n,onChange:R=>i(R.target.value),placeholder:"",required:!0,disabled:l}),e.jsx(G,{type:"submit",variant:"primary",fullWidth:!0,isLoading:l,children:"Rinitialiser le mot de passe"}),e.jsx("div",{className:"text-center",children:e.jsx(xe,{to:"/login",className:"text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium",children:" Retour  la connexion"})})]})]}):u?e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full mb-4",children:e.jsx("span",{className:"text-4xl",children:""})}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg font-medium",children:"Mot de passe rinitialis !"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Vous allez tre redirig vers la page de connexion..."}),e.jsx("div",{className:"pt-4",children:e.jsx(xe,{to:"/login",children:e.jsx(G,{variant:"primary",fullWidth:!0,children:"Se connecter maintenant"})})})]}):e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Ce lien a peut-tre dj t utilis ou est expir."}),e.jsx(xe,{to:"/forgot-password",children:e.jsx(G,{variant:"primary",fullWidth:!0,children:"Demander un nouveau lien"})}),e.jsx(xe,{to:"/login",className:"block text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium",children:" Retour  la connexion"})]})]}),e.jsx("p",{className:"text-center text-sm text-gray-600 dark:text-gray-400 mt-6",children:" 2025 SLF Esport - La Salade de Fruits"})]})})}var he=(t=>(t.JOUEUR="JOUEUR",t.COACH="COACH",t.MANAGER="MANAGER",t.SUPER_ADMIN="SUPER_ADMIN",t))(he||{});function Ca(){const{user:t}=ze();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-secondary rounded-xl p-8 text-white",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Bienvenue, ",(t==null?void 0:t.full_name)||(t==null?void 0:t.username)," ! "]}),e.jsx("p",{className:"text-primary-100",children:"Prt  t'entraner aujourd'hui ? Consulte tes exercices et ton calendrier."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(X,{children:[e.jsx(ce,{title:"Entranements"}),e.jsxs(K,{children:[e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("span",{className:"text-4xl font-bold text-primary-600",children:"12"}),e.jsx("span",{className:"text-gray-500 mb-1",children:"cette semaine"})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full",style:{width:"75%"}})}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"75%"})]})]})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Progression"}),e.jsxs(K,{children:[e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("span",{className:"text-4xl font-bold text-green-600",children:"+18%"}),e.jsx("span",{className:"text-gray-500 mb-1",children:"ce mois"})]}),e.jsx(Ee,{variant:"success",className:"mt-4",children:"En progression"})]})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Prochain entranement"}),e.jsxs(K,{children:[e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Aujourd'hui 18:00"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Session collective - 2h"}),e.jsx(Ee,{variant:"warning",className:"mt-4",children:"Dans 3 heures"})]})]})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Actions rapides",subtitle:"Accde rapidement  tes outils d'entranement"}),e.jsx(K,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(xe,{to:"/exercises",children:e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Exercices Cognitifs"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Entrane tes rflexes et ta vision"})]})}),e.jsx(xe,{to:"/calendar",children:e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Calendrier"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Planning et sessions"})]})}),e.jsx(xe,{to:"/coaching",children:e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Coaching Holistique"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Mditations et introspection"})]})}),e.jsx(xe,{to:"/profile",children:e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Mon Profil"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Paramtres et stats"})]})})]})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Activit rcente",subtitle:"Tes derniers exercices et entranements"}),e.jsxs(K,{children:[e.jsx("div",{className:"space-y-4",children:[{title:"Reaction Time Test",score:"245ms",date:"Il y a 2 heures",type:"Rflexes"},{title:"Visual Memory",score:"85%",date:"Il y a 5 heures",type:"Mmoire"},{title:"Session collective",score:"2h",date:"Hier",type:"Entranement"}].map((r,s)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:r.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.date})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(Ee,{variant:"primary",children:r.type}),e.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white mt-1",children:r.score})]})]},s))}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(G,{variant:"outline",children:"Voir tout l'historique"})})]})]})]})}function Ic({onToggleSuperAdminMode:t}){const{user:r}=ze(),[s,a]=c.useState(null),[n,i]=c.useState(!0);c.useEffect(()=>{l()},[]);const l=async()=>{try{i(!0);const d=await ae.get("/stats/coach-dashboard");a(d.data)}catch(d){console.error("Failed to load dashboard stats:",d)}finally{i(!1)}},o=d=>d>=90?{variant:"success",label:"Excellent"}:d>=75?{variant:"warning",label:"Bien"}:{variant:"danger",label:" amliorer"};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-secondary to-accent rounded-xl p-8 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Dashboard Coach - ",(r==null?void 0:r.full_name)||(r==null?void 0:r.username)]}),e.jsx("p",{className:"text-orange-100",children:"Suivi de l'quipe La Salade de Fruits"})]}),t&&e.jsxs(G,{onClick:t,variant:"secondary",className:"bg-purple-600 hover:bg-purple-700 text-white border-0",children:[e.jsx("span",{className:"mr-2",children:""}),"Mode Super Admin"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(X,{children:[e.jsx(ce,{title:"Joueurs actifs"}),e.jsx(K,{children:n?e.jsx("div",{className:"animate-pulse h-12 bg-gray-200 dark:bg-gray-700 rounded"}):e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx("span",{className:"text-4xl font-bold text-secondary",children:(s==null?void 0:s.active_players)??0}),e.jsxs("span",{className:"text-gray-500 mb-1",children:["/ ",(s==null?void 0:s.total_capacity)??10]})]})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Assiduit"}),e.jsx(K,{children:n?e.jsx("div",{className:"animate-pulse h-12 bg-gray-200 dark:bg-gray-700 rounded"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-end gap-2",children:e.jsxs("span",{className:"text-4xl font-bold text-green-600",children:[(s==null?void 0:s.attendance_rate)??0,"%"]})}),s&&s.attendance_rate>0&&e.jsx(Ee,{variant:o(s.attendance_rate).variant,className:"mt-4",children:o(s.attendance_rate).label})]})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Progression"}),e.jsx(K,{children:n?e.jsx("div",{className:"animate-pulse h-12 bg-gray-200 dark:bg-gray-700 rounded"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-end gap-2",children:e.jsx("span",{className:"text-4xl font-bold text-primary-600",children:(s==null?void 0:s.progression_rate)!==void 0&&s.progression_rate!==0?`${s.progression_rate>0?"+":""}${s.progression_rate}%`:"--"})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:(s==null?void 0:s.progression_rate)!==0?"vs. mois dernier":"Pas encore de donnes"})]})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Sessions planifies"}),e.jsx(K,{children:n?e.jsx("div",{className:"animate-pulse h-12 bg-gray-200 dark:bg-gray-700 rounded"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-end gap-2",children:e.jsx("span",{className:"text-4xl font-bold text-accent",children:(s==null?void 0:s.upcoming_sessions)??0})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2",children:"Cette semaine"})]})})]})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Actions Coach"}),e.jsx(K,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(xe,{to:"/media",children:e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-secondary hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Upload Contenu"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Vidos, audios, PDF"})]})}),e.jsx(xe,{to:"/team",children:e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-secondary hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Gestion quipe"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Voir tous les joueurs"})]})}),e.jsx(xe,{to:"/calendar",children:e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-secondary hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Planifier Session"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Calendrier quipe"})]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(X,{children:[e.jsx(ce,{title:"Performance individuelle",subtitle:"Top 5 joueurs cette semaine"}),e.jsx(K,{children:s&&s.active_players>0?e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"text-4xl mb-3",children:""}),e.jsx("p",{className:"font-medium",children:"Donnes de performance disponibles"}),e.jsx("p",{className:"text-sm mt-1",children:"Compltez des sessions pour voir les statistiques"})]})}):e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"text-4xl mb-3",children:""}),e.jsx("p",{className:"font-medium",children:"Aucun joueur actif"}),e.jsx("p",{className:"text-sm mt-1",children:"Crez des comptes joueurs pour voir leurs performances"})]})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Alertes et notifications",subtitle:"Points d'attention"}),e.jsx(K,{children:s&&(s.active_players>0||s.upcoming_sessions>0)?e.jsxs("div",{className:"space-y-3",children:[s.upcoming_sessions>0&&e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-blue-900 dark:text-blue-100",children:[s.upcoming_sessions," session",s.upcoming_sessions>1?"s":""," planifie",s.upcoming_sessions>1?"s":""]}),e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Cette semaine"})]})]})}),s.upcoming_sessions===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"text-4xl mb-3",children:""}),e.jsx("p",{className:"font-medium",children:"Aucune alerte"}),e.jsx("p",{className:"text-sm mt-1",children:"Tout est en ordre pour le moment"})]})]}):e.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[e.jsx("div",{className:"text-4xl mb-3",children:""}),e.jsx("p",{className:"font-medium",children:"Aucune notification"}),e.jsx("p",{className:"text-sm mt-1",children:"Les alertes apparatront ici"})]})})]})]})]})}class qc{async getMyProfile(){return(await ae.get("/users/me")).data}async updateMyProfile(r){const s=await ae.put("/users/me",r);return localStorage.setItem("user",JSON.stringify(s.data)),s.data}async changePassword(r){await ae.post("/users/me/change-password",r)}async getAllUsers(r=0,s=100,a){const n=new URLSearchParams({skip:r.toString(),limit:s.toString()});return a&&n.append("role",a),(await ae.get(`/users/?${n.toString()}`)).data}async getUserById(r){return(await ae.get(`/users/${r}`)).data}async getAllPlayers(r=0,s=100){const a=new URLSearchParams({skip:r.toString(),limit:s.toString()});return(await ae.get(`/users/joueurs/?${a.toString()}`)).data}async updateUser(r,s){return(await ae.put(`/users/${r}`,s)).data}async deleteUser(r,s=!1){await ae.delete(`/users/${r}`,{params:{permanent:s}})}async changeUserRole(r,s,a,n){const i={new_role:s,is_super_admin:a};return n!==void 0&&(i.is_active=n),(await ae.patch(`/users/${r}/role`,i)).data}async resetUserPassword(r,s){await ae.post(`/users/${r}/reset-password`,{new_password:s})}}const rt=new qc;function Uc(){const{user:t}=ze(),[r,s]=c.useState({totalMembers:0,activePlayers:0,coaches:0}),[a,n]=c.useState(!0);c.useEffect(()=>{i()},[]);const i=async()=>{try{n(!0);const l=await rt.getAllPlayers();s({totalMembers:l.length,activePlayers:l.filter(o=>o.is_active).length,coaches:l.filter(o=>o.role==="COACH").length})}catch(l){console.error("Failed to load team stats:",l)}finally{n(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-pink-600 rounded-xl p-8 text-white",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Dashboard Manager - ",(t==null?void 0:t.full_name)||(t==null?void 0:t.username)]}),e.jsx("p",{className:"text-red-100",children:"Vue complte et analytics de l'quipe SLF"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(X,{children:[e.jsx(ce,{title:"quipe"}),e.jsxs(K,{children:[e.jsx("div",{className:"flex items-end gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-red-600",children:a?"...":r.totalMembers})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Membres total"})]})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Joueurs Actifs"}),e.jsxs(K,{children:[e.jsx("div",{className:"flex items-end gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-green-600",children:a?"...":r.activePlayers})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"En activit"})]})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Coachs"}),e.jsxs(K,{children:[e.jsx("div",{className:"flex items-end gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-primary-600",children:a?"...":r.coaches})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Entraneurs"})]})]})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Administration"}),e.jsx(K,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(xe,{to:"/users",children:e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Gestion Utilisateurs"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"CRUD complet"})]})}),e.jsx(xe,{to:"/analytics",children:e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Analytics Avances"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Rapports dtaills"})]})}),e.jsx(xe,{to:"/settings",children:e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Paramtres quipe"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Configuration"})]})}),e.jsx(xe,{to:"/reports",children:e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Rapports"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Export et analyses"})]})})]})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:" Actions Rapides",subtitle:"Grez votre quipe efficacement"}),e.jsx(K,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(xe,{to:"/users",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-red-500 to-pink-500 rounded-lg text-white hover:from-red-600 hover:to-pink-600 transition-all cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-3xl",children:""}),e.jsx("h3",{className:"text-xl font-bold",children:"Grer l'quipe"})]}),e.jsx("p",{className:"text-sm opacity-90",children:"Ajouter, modifier ou supprimer des membres"})]})}),e.jsx(xe,{to:"/analytics",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg text-white hover:from-blue-600 hover:to-cyan-600 transition-all cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-3xl",children:""}),e.jsx("h3",{className:"text-xl font-bold",children:"Analytics"})]}),e.jsx("p",{className:"text-sm opacity-90",children:"Voir les statistiques dtailles"})]})}),e.jsx(xe,{to:"/reports",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg text-white hover:from-purple-600 hover:to-pink-600 transition-all cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-3xl",children:""}),e.jsx("h3",{className:"text-xl font-bold",children:"Rapports"})]}),e.jsx("p",{className:"text-sm opacity-90",children:"Gnrer et exporter des rapports"})]})}),e.jsx(xe,{to:"/settings",children:e.jsxs("div",{className:"p-6 bg-gradient-to-br from-gray-500 to-gray-600 rounded-lg text-white hover:from-gray-600 hover:to-gray-700 transition-all cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-3xl",children:""}),e.jsx("h3",{className:"text-xl font-bold",children:"Paramtres"})]}),e.jsx("p",{className:"text-sm opacity-90",children:"Configurer l'quipe et les notifications"})]})})]})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:" Bienvenue sur le Dashboard Manager",subtitle:"Guide de dmarrage rapide"}),e.jsxs(K,{children:[e.jsxs("div",{className:"space-y-4 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-red-600 font-bold text-lg",children:"1."}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Ajoutez vos joueurs"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'Commencez par ajouter les membres de votre quipe dans la section "Gestion Utilisateurs". Chaque joueur aura son propre compte pour suivre sa progression.'})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-red-600 font-bold text-lg",children:"2."}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Configurez les exercices"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:`Les exercices cognitifs sont disponibles dans la section "Exercices". Encouragez vos joueurs  s'entraner rgulirement pour amliorer leurs performances.`})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-red-600 font-bold text-lg",children:"3."}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Suivez les progrs"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:'Utilisez la section "Analytics" pour visualiser les performances de votre quipe et identifier les domaines  amliorer.'})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-red-600 font-bold text-lg",children:"4."}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Gnrez des rapports"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Exportez des rapports dtaills pour partager les rsultats avec votre quipe ou vos sponsors."})]})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-900 dark:text-red-100",children:[e.jsx("strong",{children:" Astuce :"})," Les statistiques seront calcules automatiquement ds que vos joueurs commenceront  enregistrer leurs scores d'exercices. Le dashboard s'enrichira au fur et  mesure de l'activit de l'quipe."]})})]})]})]})}function Ea({onToggleSuperAdminMode:t}){const{user:r}=ze(),[s,a]=c.useState({totalMembers:0,activePlayers:0,coaches:0,managers:0}),[n,i]=c.useState(!0);c.useEffect(()=>{l()},[]);const l=async()=>{try{i(!0);const o=await rt.getAllUsers();a({totalMembers:o.length,activePlayers:o.filter(d=>d.role==="JOUEUR"&&d.is_active).length,coaches:o.filter(d=>d.role==="COACH").length,managers:o.filter(d=>d.role==="MANAGER").length})}catch(o){console.error("Failed to load system stats:",o)}finally{i(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-700 to-indigo-700 rounded-xl p-8 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-4xl",children:""}),e.jsxs("h1",{className:"text-3xl font-bold",children:["Super Admin - ",(r==null?void 0:r.full_name)||(r==null?void 0:r.username)]})]}),e.jsxs("p",{className:"text-purple-100",children:["Accs complet au systme - Rle: ",r==null?void 0:r.role," avec privilges super admin"]})]}),t&&(r==null?void 0:r.role)!=="SUPER_ADMIN"&&e.jsxs(G,{onClick:t,variant:"secondary",className:"bg-orange-600 hover:bg-orange-700 text-white border-0",children:["Retour Mode ",(r==null?void 0:r.role)==="COACH"?"Coach":"Normal"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(X,{children:[e.jsx(ce,{title:"Total Membres"}),e.jsxs(K,{children:[e.jsx("div",{className:"flex items-end gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-purple-600",children:n?"...":s.totalMembers})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Tous utilisateurs"})]})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Joueurs Actifs"}),e.jsxs(K,{children:[e.jsx("div",{className:"flex items-end gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-green-600",children:n?"...":s.activePlayers})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"En activit"})]})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Coachs"}),e.jsxs(K,{children:[e.jsx("div",{className:"flex items-end gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-blue-600",children:n?"...":s.coaches})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Entraneurs"})]})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Managers"}),e.jsxs(K,{children:[e.jsx("div",{className:"flex items-end gap-2",children:e.jsx("span",{className:"text-3xl font-bold text-red-600",children:n?"...":s.managers})}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Gestionnaires"})]})]})]}),e.jsxs(X,{children:[e.jsx(ce,{title:" Administration Systme",subtitle:"Gestion complte de la plateforme"}),e.jsx(K,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(xe,{to:"/users",children:e.jsxs("div",{className:"p-6 border-2 border-purple-500 bg-purple-50 dark:bg-purple-900/20 rounded-lg hover:border-purple-600 hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Gestion Utilisateurs"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"CRUD complet + rles"})]})}),e.jsx(xe,{to:"/analytics",children:e.jsxs("div",{className:"p-6 border-2 border-purple-500 bg-purple-50 dark:bg-purple-900/20 rounded-lg hover:border-purple-600 hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Analytics Avances"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Rapports dtaills"})]})}),e.jsx(xe,{to:"/settings",children:e.jsxs("div",{className:"p-6 border-2 border-purple-500 bg-purple-50 dark:bg-purple-900/20 rounded-lg hover:border-purple-600 hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Paramtres Systme"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Configuration"})]})}),e.jsx(xe,{to:"/reports",children:e.jsxs("div",{className:"p-6 border-2 border-purple-500 bg-purple-50 dark:bg-purple-900/20 rounded-lg hover:border-purple-600 hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Rapports"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Export et analyses"})]})})]})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:" Outils Coach & Manager",subtitle:"Gestion quotidienne de l'quipe"}),e.jsx(K,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(xe,{to:"/calendar",children:e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Calendrier"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Sessions & vnements"})]})}),e.jsx(xe,{to:"/exercises",children:e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Exercices"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Bibliothque complte"})]})}),e.jsx(xe,{to:"/coaching",children:e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Coaching"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Contenu ducatif"})]})}),e.jsx(xe,{to:"/media",children:e.jsxs("div",{className:"p-6 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all cursor-pointer text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Mdias"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Upload & gestion"})]})})]})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:" Privilges Super Admin",subtitle:"Capacits et responsabilits"}),e.jsxs(K,{children:[e.jsxs("div",{className:"space-y-4 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-purple-600 font-bold text-lg",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Accs complet  toutes les pages"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Vous avez accs  toutes les fonctionnalits de la plateforme, y compris celles rserves aux managers. Votre flag is_super_admin bypass tous les contrles de rle."})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-purple-600 font-bold text-lg",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Gestion des utilisateurs et rles"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Vous pouvez crer, modifier et supprimer des utilisateurs. Vous pouvez galement modifier les rles de tous les utilisateurs de la plateforme."})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-purple-600 font-bold text-lg",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold mb-1",children:"Permissions backend automatiques"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Toutes les routes API protges par rle sont automatiquement accessibles grce  votre flag is_super_admin. Le serveur vrifie ce flag en priorit avant de vrifier les rles."})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-purple-600 font-bold text-lg",children:""}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold mb-1",children:["Vous gardez votre rle de ",r==null?void 0:r.role]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Votre rle actuel est ",e.jsx("strong",{children:r==null?void 0:r.role}),", ce qui vous permet de conserver votre identit professionnelle tout en bnficiant de tous les privilges administrateur."]})]})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border-2 border-purple-200 dark:border-purple-700",children:e.jsxs("p",{className:"text-sm text-purple-900 dark:text-purple-100",children:[e.jsx("strong",{children:" Responsabilit :"})," En tant que Super Admin, vous avez un accs complet au systme. Utilisez vos privilges de manire responsable et documentez les changements importants."]})})]})]})]})}function Hc(){const t=tt(),{user:r,logout:s}=ze(),[a,n]=c.useState(!1),i=async()=>{await s(),t("/login")},l=m=>{switch(m){case he.MANAGER:return"danger";case he.COACH:return"warning";case he.JOUEUR:return"primary";default:return"primary"}},o=m=>{switch(m){case he.MANAGER:return"Manager";case he.COACH:return"Coach";case he.JOUEUR:return"Joueur";default:return m}},d=()=>{n(!1)};return e.jsx("nav",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50 shadow-sm",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(xe,{to:"/dashboard",className:"flex items-center gap-3 flex-shrink-0",children:[e.jsx("img",{src:"/logo-lslf-sigle.png",alt:"La Salade de Fruits E-Sport",className:"h-12 w-auto"}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsx("h1",{className:"text-lg font-bold text-primary-900 dark:text-white font-display",children:"La Salade de Fruits"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"E-Sport Team"})]})]}),e.jsxs("div",{className:"hidden lg:flex items-center gap-6 flex-1 justify-center",children:[e.jsx(xe,{to:"/dashboard",className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors font-medium",children:"Dashboard"}),e.jsx(xe,{to:"/exercises",className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors font-medium",children:"Exercices"}),e.jsx(xe,{to:"/calendar",className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors font-medium",children:"Calendrier"}),e.jsx(xe,{to:"/coaching",className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors font-medium",children:"Coaching"}),((r==null?void 0:r.role)===he.COACH||(r==null?void 0:r.role)===he.MANAGER)&&e.jsxs(e.Fragment,{children:[e.jsx(xe,{to:"/team",className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors font-medium",children:"quipe"}),e.jsx(xe,{to:"/media",className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors font-medium",children:"Mdiathque"})]}),(r==null?void 0:r.role)===he.MANAGER&&e.jsx(xe,{to:"/analytics",className:"text-gray-700 dark:text-gray-300 hover:text-primary-600 dark:hover:text-primary-400 transition-colors font-medium",children:"Analytics"})]}),e.jsxs("div",{className:"hidden lg:flex items-center gap-3 flex-shrink-0",children:[e.jsx(Ns,{}),r&&e.jsxs(e.Fragment,{children:[e.jsxs(xe,{to:"/profile",className:"hidden xl:flex flex-col items-end hover:opacity-80 transition-opacity",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r.full_name||r.username}),e.jsx(Ee,{variant:l(r.role),size:"sm",children:o(r.role)})]}),e.jsx(xe,{to:"/profile",className:"flex-shrink-0",children:r.avatar_url?e.jsx("img",{src:r.avatar_url,alt:r.username,className:"w-10 h-10 rounded-full border-2 border-primary-600 hover:border-primary-700 transition-colors cursor-pointer"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-600 hover:bg-primary-700 flex items-center justify-center transition-colors cursor-pointer",children:e.jsx("span",{className:"text-white font-semibold text-lg",children:(r.full_name||r.username).charAt(0).toUpperCase()})})}),e.jsx(G,{variant:"ghost",onClick:i,size:"sm",children:"Dconnexion"})]})]}),e.jsxs("div",{className:"flex lg:hidden items-center gap-2",children:[e.jsx(Ns,{}),e.jsx("button",{onClick:()=>n(!a),className:"p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Menu",children:a?e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),a&&e.jsx("div",{className:"lg:hidden border-t border-gray-200 dark:border-gray-700 py-4",children:e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx(xe,{to:"/dashboard",onClick:d,className:"px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors font-medium",children:"Dashboard"}),e.jsx(xe,{to:"/exercises",onClick:d,className:"px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors font-medium",children:"Exercices"}),e.jsx(xe,{to:"/calendar",onClick:d,className:"px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors font-medium",children:"Calendrier"}),e.jsx(xe,{to:"/coaching",onClick:d,className:"px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors font-medium",children:"Coaching"}),((r==null?void 0:r.role)===he.COACH||(r==null?void 0:r.role)===he.MANAGER)&&e.jsxs(e.Fragment,{children:[e.jsx(xe,{to:"/team",onClick:d,className:"px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors font-medium",children:"quipe"}),e.jsx(xe,{to:"/media",onClick:d,className:"px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors font-medium",children:"Mdiathque"})]}),(r==null?void 0:r.role)===he.MANAGER&&e.jsx(xe,{to:"/analytics",onClick:d,className:"px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors font-medium",children:"Analytics"}),r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3 mt-3",children:e.jsxs(xe,{to:"/profile",onClick:d,className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[r.avatar_url?e.jsx("img",{src:r.avatar_url,alt:r.username,className:"w-10 h-10 rounded-full border-2 border-primary-600"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold text-lg",children:(r.full_name||r.username).charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:r.full_name||r.username}),e.jsx(Ee,{variant:l(r.role),size:"sm",children:o(r.role)})]})]})}),e.jsx(G,{variant:"ghost",onClick:i,fullWidth:!0,children:"Dconnexion"})]})]})})]})})}function Re({children:t}){return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(Hc,{}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:t}),e.jsx(Ln,{})]})}function zc(){const{user:t}=ze(),[r,s]=c.useState(!1);c.useEffect(()=>{if(t!=null&&t.is_super_admin){const i=localStorage.getItem("superAdminMode");s(i==="true")}},[t]);const a=()=>{const i=!r;s(i),localStorage.setItem("superAdminMode",String(i))};if(!t)return null;const n=()=>{if(t.is_super_admin&&r)return e.jsx(Ea,{onToggleSuperAdminMode:a});switch(t.role){case he.JOUEUR:return e.jsx(Ca,{});case he.COACH:return e.jsx(Ic,{onToggleSuperAdminMode:t.is_super_admin?a:void 0});case he.MANAGER:return e.jsx(Uc,{});case he.SUPER_ADMIN:return e.jsx(Ea,{onToggleSuperAdminMode:a});default:return e.jsx(Ca,{})}};return e.jsx(Re,{children:n()})}class Bc{async getExercises(r){const s=r?{category:r}:{};return(await ae.get("/exercises",{params:s})).data}async getExercise(r){return(await ae.get(`/exercises/${r}`)).data}async submitScore(r){return(await ae.post("/exercises/scores",r)).data}async getMyScores(r){const s=r?{exercise_id:r}:{};return(await ae.get("/exercises/scores/me",{params:s})).data}async updateScore(r,s){return(await ae.put(`/exercises/scores/${r}`,s)).data}async deleteScore(r){await ae.delete(`/exercises/scores/${r}`)}async getMyStats(r){const s=r?{category:r}:{};return(await ae.get("/exercises/stats/me",{params:s})).data}async getUserStats(r,s){const a=s?{category:s}:{};return(await ae.get(`/exercises/stats/user/${r}`,{params:a})).data}}const gt=new Bc;var Ir=(t=>(t.REFLEXES="REFLEXES",t.VISION="VISION",t.MEMOIRE="MEMOIRE",t.ATTENTION="ATTENTION",t.COORDINATION="COORDINATION",t))(Ir||{}),Bt=(t=>(t.EXTERNAL="EXTERNAL",t.CUSTOM="CUSTOM",t))(Bt||{});const ws={REFLEXES:"Rflexes",VISION:"Vision",MEMOIRE:"Mmoire",ATTENTION:"Attention",COORDINATION:"Coordination"},ks={REFLEXES:"",VISION:"",MEMOIRE:"",ATTENTION:"",COORDINATION:""},Gc={REFLEXES:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300",VISION:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",MEMOIRE:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300",ATTENTION:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",COORDINATION:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"};function Wc(){const t=tt(),[r,s]=c.useState([]),[a,n]=c.useState(null),[i,l]=c.useState(!0),[o,d]=c.useState(null),m=g=>{if(g.exercise_type!==Bt.CUSTOM)return null;const u=g.name.toLowerCase();return g.category===Ir.MEMOIRE?`/games/memory/${g.id}`:u.includes("reaction")||u.includes("raction")?`/games/reaction-time/${g.id}`:u.includes("peripheral")||u.includes("priphrique")?"/games/peripheral-vision":u.includes("multi-task")||u.includes("multi-tche")?"/games/multi-task":null};c.useEffect(()=>{x()},[a]);const x=async()=>{var g,u,b,j,R;l(!0),d(null);try{const k=localStorage.getItem("access_token");console.log("[ExercisesPage] Token exists:",!!k,k?`(${k.substring(0,20)}...)`:"NO TOKEN"),console.log("[ExercisesPage] Loading exercises...",{filteredCategory:a});const S=await gt.getExercises(a||void 0);console.log("[ExercisesPage] Exercises loaded successfully:",S.length,"exercises"),s(S),S.length===0&&console.warn("[ExercisesPage] No exercises returned from API")}catch(k){console.error("[ExercisesPage] Failed to load exercises:",k),console.error("[ExercisesPage] Error details:",{status:(g=k.response)==null?void 0:g.status,statusText:(u=k.response)==null?void 0:u.statusText,data:(b=k.response)==null?void 0:b.data,message:k.message});const S=((R=(j=k.response)==null?void 0:j.data)==null?void 0:R.detail)||k.message||"Erreur de chargement des exercices";d(S)}finally{l(!1)}},h=r.reduce((g,u)=>(g[u.category]||(g[u.category]=[]),g[u.category].push(u),g),{}),p=Object.keys(Ir);return e.jsx(Re,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-secondary rounded-xl p-8 text-white",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Exercices Cognitifs"}),e.jsx("p",{className:"text-primary-100",children:"Entrane tes comptences essentielles au MOBA : rflexes, vision, mmoire, attention et coordination"})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Catgories",subtitle:"Filtre par type d'exercice"}),e.jsx(K,{children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs(G,{variant:a===null?"primary":"outline",size:"sm",onClick:()=>n(null),children:["Toutes (",r.length,")"]}),p.map(g=>{var b;const u=((b=h[g])==null?void 0:b.length)||0;return e.jsxs(G,{variant:a===g?"primary":"outline",size:"sm",onClick:()=>n(g),children:[ks[g]," ",ws[g]," (",u,")"]},g)})]})})]}),o&&e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("span",{className:"text-6xl mb-4 block",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-red-600 dark:text-red-400 mb-2",children:"Erreur de chargement"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:o}),e.jsx(G,{variant:"primary",onClick:x,children:"Ressayer"})]})})}),i&&!o&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Chargement des exercices..."})]}),!i&&!o&&Object.entries(h).filter(([g])=>!a||g===a).map(([g,u])=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-4xl",children:ks[g]}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:ws[g]}),e.jsxs(Ee,{variant:"primary",children:[u.length," exercices"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(b=>e.jsxs(X,{hover:!0,children:[e.jsx(ce,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:b.name}),e.jsx(Ee,{variant:b.exercise_type==="custom"?"secondary":"info",size:"sm",children:b.exercise_type==="custom"?"Custom":"Externe"})]})}),e.jsxs(K,{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:b.description}),b.score_unit&&e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Unit:"}),e.jsx(Ee,{variant:"primary",size:"sm",children:b.score_unit}),b.lower_is_better&&e.jsx("span",{className:"text-xs text-gray-500",children:"(plus bas = meilleur)"})]}),e.jsxs("div",{className:"flex gap-2",children:[b.external_url?b.external_url.startsWith("/")?e.jsx(xe,{to:b.external_url,className:"flex-1",children:e.jsx(G,{variant:"outline",size:"sm",fullWidth:!0,children:"Lancer l'exercice "})}):e.jsx("a",{href:b.external_url,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:e.jsx(G,{variant:"outline",size:"sm",fullWidth:!0,children:"Lancer l'exercice "})}):b.exercise_type===Bt.CUSTOM&&m(b)?e.jsx(G,{variant:"primary",size:"sm",fullWidth:!0,onClick:()=>t(m(b)),children:" Jouer"}):e.jsx(G,{variant:"outline",size:"sm",fullWidth:!0,disabled:!0,children:" venir"}),e.jsx(xe,{to:`/exercises/${b.id}`,className:"flex-1",children:e.jsx(G,{variant:"primary",size:"sm",fullWidth:!0,children:"Suivre score"})})]})]})]},b.id))})]},g)),!i&&!o&&r.length===0&&e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("span",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Aucun exercice trouv"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun exercice disponible pour cette catgorie"})]})})}),e.jsxs(X,{children:[e.jsx(ce,{title:" Comment utiliser les exercices",subtitle:"Guide rapide pour optimiser ton entranement"}),e.jsxs(K,{children:[e.jsxs("div",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"1."}),e.jsx("p",{children:`Clique sur "Lancer l'exercice" pour t'entraner sur le site externe`})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"2."}),e.jsx("p",{children:"Prends une capture d'cran de ton score (optionnel mais recommand)"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"3."}),e.jsx("p",{children:'Reviens ici et clique "Suivre score" pour enregistrer ta performance'})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"4."}),e.jsx("p",{children:"Consulte tes graphiques de progression pour voir ton amlioration !"})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:[e.jsx("strong",{children:" Astuce :"})," Pour de meilleurs rsultats, entrane-toi 15-30 minutes par jour sur 2-3 exercices diffrents. La rgularit est la cl !"]})})]})]})]})})}function Mt(t){if(t===null||t===!0||t===!1)return NaN;var r=Number(t);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}function Ge(t,r){if(r.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+r.length+" present")}function st(t){Ge(1,arguments);var r=Object.prototype.toString.call(t);return t instanceof Date||qa(t)==="object"&&r==="[object Date]"?new Date(t.getTime()):typeof t=="number"||r==="[object Number]"?new Date(t):((typeof t=="string"||r==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Vc(t,r){Ge(2,arguments);var s=st(t).getTime(),a=Mt(r);return new Date(s+a)}var Qc={};function hr(){return Qc}function Yc(t,r){var s,a,n,i,l,o,d,m;Ge(1,arguments);var x=hr(),h=Mt((s=(a=(n=(i=r==null?void 0:r.weekStartsOn)!==null&&i!==void 0?i:r==null||(l=r.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&n!==void 0?n:x.weekStartsOn)!==null&&a!==void 0?a:(d=x.locale)===null||d===void 0||(m=d.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&s!==void 0?s:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=st(t),g=p.getDay(),u=(g<h?7:0)+g-h;return p.setDate(p.getDate()-u),p.setHours(0,0,0,0),p}function Jc(t){var r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),t.getTime()-r.getTime()}function Xc(t){return Ge(1,arguments),t instanceof Date||qa(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Kc(t){if(Ge(1,arguments),!Xc(t)&&typeof t!="number")return!1;var r=st(t);return!isNaN(Number(r))}function Zc(t,r){Ge(2,arguments);var s=Mt(r);return Vc(t,-s)}var ed=864e5;function td(t){Ge(1,arguments);var r=st(t),s=r.getTime();r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0);var a=r.getTime(),n=s-a;return Math.floor(n/ed)+1}function qr(t){Ge(1,arguments);var r=1,s=st(t),a=s.getUTCDay(),n=(a<r?7:0)+a-r;return s.setUTCDate(s.getUTCDate()-n),s.setUTCHours(0,0,0,0),s}function Hn(t){Ge(1,arguments);var r=st(t),s=r.getUTCFullYear(),a=new Date(0);a.setUTCFullYear(s+1,0,4),a.setUTCHours(0,0,0,0);var n=qr(a),i=new Date(0);i.setUTCFullYear(s,0,4),i.setUTCHours(0,0,0,0);var l=qr(i);return r.getTime()>=n.getTime()?s+1:r.getTime()>=l.getTime()?s:s-1}function rd(t){Ge(1,arguments);var r=Hn(t),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var a=qr(s);return a}var sd=6048e5;function ad(t){Ge(1,arguments);var r=st(t),s=qr(r).getTime()-rd(r).getTime();return Math.round(s/sd)+1}function Ur(t,r){var s,a,n,i,l,o,d,m;Ge(1,arguments);var x=hr(),h=Mt((s=(a=(n=(i=r==null?void 0:r.weekStartsOn)!==null&&i!==void 0?i:r==null||(l=r.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&n!==void 0?n:x.weekStartsOn)!==null&&a!==void 0?a:(d=x.locale)===null||d===void 0||(m=d.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&s!==void 0?s:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=st(t),g=p.getUTCDay(),u=(g<h?7:0)+g-h;return p.setUTCDate(p.getUTCDate()-u),p.setUTCHours(0,0,0,0),p}function zn(t,r){var s,a,n,i,l,o,d,m;Ge(1,arguments);var x=st(t),h=x.getUTCFullYear(),p=hr(),g=Mt((s=(a=(n=(i=r==null?void 0:r.firstWeekContainsDate)!==null&&i!==void 0?i:r==null||(l=r.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&n!==void 0?n:p.firstWeekContainsDate)!==null&&a!==void 0?a:(d=p.locale)===null||d===void 0||(m=d.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var u=new Date(0);u.setUTCFullYear(h+1,0,g),u.setUTCHours(0,0,0,0);var b=Ur(u,r),j=new Date(0);j.setUTCFullYear(h,0,g),j.setUTCHours(0,0,0,0);var R=Ur(j,r);return x.getTime()>=b.getTime()?h+1:x.getTime()>=R.getTime()?h:h-1}function nd(t,r){var s,a,n,i,l,o,d,m;Ge(1,arguments);var x=hr(),h=Mt((s=(a=(n=(i=r==null?void 0:r.firstWeekContainsDate)!==null&&i!==void 0?i:r==null||(l=r.locale)===null||l===void 0||(o=l.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&n!==void 0?n:x.firstWeekContainsDate)!==null&&a!==void 0?a:(d=x.locale)===null||d===void 0||(m=d.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1),p=zn(t,r),g=new Date(0);g.setUTCFullYear(p,0,h),g.setUTCHours(0,0,0,0);var u=Ur(g,r);return u}var id=6048e5;function ld(t,r){Ge(1,arguments);var s=st(t),a=Ur(s,r).getTime()-nd(s,r).getTime();return Math.round(a/id)+1}function Te(t,r){for(var s=t<0?"-":"",a=Math.abs(t).toString();a.length<r;)a="0"+a;return s+a}var kt={y:function(r,s){var a=r.getUTCFullYear(),n=a>0?a:1-a;return Te(s==="yy"?n%100:n,s.length)},M:function(r,s){var a=r.getUTCMonth();return s==="M"?String(a+1):Te(a+1,2)},d:function(r,s){return Te(r.getUTCDate(),s.length)},a:function(r,s){var a=r.getUTCHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h:function(r,s){return Te(r.getUTCHours()%12||12,s.length)},H:function(r,s){return Te(r.getUTCHours(),s.length)},m:function(r,s){return Te(r.getUTCMinutes(),s.length)},s:function(r,s){return Te(r.getUTCSeconds(),s.length)},S:function(r,s){var a=s.length,n=r.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,a-3));return Te(i,s.length)}},Ut={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},od={G:function(r,s,a){var n=r.getUTCFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(r,s,a){if(s==="yo"){var n=r.getUTCFullYear(),i=n>0?n:1-n;return a.ordinalNumber(i,{unit:"year"})}return kt.y(r,s)},Y:function(r,s,a,n){var i=zn(r,n),l=i>0?i:1-i;if(s==="YY"){var o=l%100;return Te(o,2)}return s==="Yo"?a.ordinalNumber(l,{unit:"year"}):Te(l,s.length)},R:function(r,s){var a=Hn(r);return Te(a,s.length)},u:function(r,s){var a=r.getUTCFullYear();return Te(a,s.length)},Q:function(r,s,a){var n=Math.ceil((r.getUTCMonth()+1)/3);switch(s){case"Q":return String(n);case"QQ":return Te(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,s,a){var n=Math.ceil((r.getUTCMonth()+1)/3);switch(s){case"q":return String(n);case"qq":return Te(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,s,a){var n=r.getUTCMonth();switch(s){case"M":case"MM":return kt.M(r,s);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(r,s,a){var n=r.getUTCMonth();switch(s){case"L":return String(n+1);case"LL":return Te(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(r,s,a,n){var i=ld(r,n);return s==="wo"?a.ordinalNumber(i,{unit:"week"}):Te(i,s.length)},I:function(r,s,a){var n=ad(r);return s==="Io"?a.ordinalNumber(n,{unit:"week"}):Te(n,s.length)},d:function(r,s,a){return s==="do"?a.ordinalNumber(r.getUTCDate(),{unit:"date"}):kt.d(r,s)},D:function(r,s,a){var n=td(r);return s==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):Te(n,s.length)},E:function(r,s,a){var n=r.getUTCDay();switch(s){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(r,s,a,n){var i=r.getUTCDay(),l=(i-n.weekStartsOn+8)%7||7;switch(s){case"e":return String(l);case"ee":return Te(l,2);case"eo":return a.ordinalNumber(l,{unit:"day"});case"eee":return a.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"});case"eeee":default:return a.day(i,{width:"wide",context:"formatting"})}},c:function(r,s,a,n){var i=r.getUTCDay(),l=(i-n.weekStartsOn+8)%7||7;switch(s){case"c":return String(l);case"cc":return Te(l,s.length);case"co":return a.ordinalNumber(l,{unit:"day"});case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"});case"cccc":default:return a.day(i,{width:"wide",context:"standalone"})}},i:function(r,s,a){var n=r.getUTCDay(),i=n===0?7:n;switch(s){case"i":return String(i);case"ii":return Te(i,s.length);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(r,s,a){var n=r.getUTCHours(),i=n/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(r,s,a){var n=r.getUTCHours(),i;switch(n===12?i=Ut.noon:n===0?i=Ut.midnight:i=n/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(r,s,a){var n=r.getUTCHours(),i;switch(n>=17?i=Ut.evening:n>=12?i=Ut.afternoon:n>=4?i=Ut.morning:i=Ut.night,s){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(r,s,a){if(s==="ho"){var n=r.getUTCHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return kt.h(r,s)},H:function(r,s,a){return s==="Ho"?a.ordinalNumber(r.getUTCHours(),{unit:"hour"}):kt.H(r,s)},K:function(r,s,a){var n=r.getUTCHours()%12;return s==="Ko"?a.ordinalNumber(n,{unit:"hour"}):Te(n,s.length)},k:function(r,s,a){var n=r.getUTCHours();return n===0&&(n=24),s==="ko"?a.ordinalNumber(n,{unit:"hour"}):Te(n,s.length)},m:function(r,s,a){return s==="mo"?a.ordinalNumber(r.getUTCMinutes(),{unit:"minute"}):kt.m(r,s)},s:function(r,s,a){return s==="so"?a.ordinalNumber(r.getUTCSeconds(),{unit:"second"}):kt.s(r,s)},S:function(r,s){return kt.S(r,s)},X:function(r,s,a,n){var i=n._originalDate||r,l=i.getTimezoneOffset();if(l===0)return"Z";switch(s){case"X":return Ra(l);case"XXXX":case"XX":return _t(l);case"XXXXX":case"XXX":default:return _t(l,":")}},x:function(r,s,a,n){var i=n._originalDate||r,l=i.getTimezoneOffset();switch(s){case"x":return Ra(l);case"xxxx":case"xx":return _t(l);case"xxxxx":case"xxx":default:return _t(l,":")}},O:function(r,s,a,n){var i=n._originalDate||r,l=i.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+Ma(l,":");case"OOOO":default:return"GMT"+_t(l,":")}},z:function(r,s,a,n){var i=n._originalDate||r,l=i.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+Ma(l,":");case"zzzz":default:return"GMT"+_t(l,":")}},t:function(r,s,a,n){var i=n._originalDate||r,l=Math.floor(i.getTime()/1e3);return Te(l,s.length)},T:function(r,s,a,n){var i=n._originalDate||r,l=i.getTime();return Te(l,s.length)}};function Ma(t,r){var s=t>0?"-":"+",a=Math.abs(t),n=Math.floor(a/60),i=a%60;if(i===0)return s+String(n);var l=r;return s+String(n)+l+Te(i,2)}function Ra(t,r){if(t%60===0){var s=t>0?"-":"+";return s+Te(Math.abs(t)/60,2)}return _t(t,r)}function _t(t,r){var s=r||"",a=t>0?"-":"+",n=Math.abs(t),i=Te(Math.floor(n/60),2),l=Te(n%60,2);return a+i+s+l}var _a=function(r,s){switch(r){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},Bn=function(r,s){switch(r){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},cd=function(r,s){var a=r.match(/(P+)(p+)?/)||[],n=a[1],i=a[2];if(!i)return _a(r,s);var l;switch(n){case"P":l=s.dateTime({width:"short"});break;case"PP":l=s.dateTime({width:"medium"});break;case"PPP":l=s.dateTime({width:"long"});break;case"PPPP":default:l=s.dateTime({width:"full"});break}return l.replace("{{date}}",_a(n,s)).replace("{{time}}",Bn(i,s))},dd={p:Bn,P:cd},ud=["D","DD"],md=["YY","YYYY"];function xd(t){return ud.indexOf(t)!==-1}function hd(t){return md.indexOf(t)!==-1}function Aa(t,r,s){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(r,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(r,"`) for formatting years to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(r,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(r,"`) for formatting days of the month to the input `").concat(s,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var pd={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gd=function(r,s,a){var n,i=pd[r];return typeof i=="string"?n=i:s===1?n=i.one:n=i.other.replace("{{count}}",s.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function Gt(t){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=r.width?String(r.width):t.defaultWidth,a=t.formats[s]||t.formats[t.defaultWidth];return a}}var fd={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bd={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yd={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vd={date:Gt({formats:fd,defaultWidth:"full"}),time:Gt({formats:bd,defaultWidth:"full"}),dateTime:Gt({formats:yd,defaultWidth:"full"})},jd={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Nd=function(r,s,a,n){return jd[r]};function ht(t){return function(r,s){var a=s!=null&&s.context?String(s.context):"standalone",n;if(a==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,l=s!=null&&s.width?String(s.width):i;n=t.formattingValues[l]||t.formattingValues[i]}else{var o=t.defaultWidth,d=s!=null&&s.width?String(s.width):t.defaultWidth;n=t.values[d]||t.values[o]}var m=t.argumentCallback?t.argumentCallback(r):r;return n[m]}}var wd={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},kd={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Sd={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cd={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ed={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Md={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Rd=function(r,s){var a=Number(r),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},_d={ordinalNumber:Rd,era:ht({values:wd,defaultWidth:"wide"}),quarter:ht({values:kd,defaultWidth:"wide",argumentCallback:function(r){return r-1}}),month:ht({values:Sd,defaultWidth:"wide"}),day:ht({values:Cd,defaultWidth:"wide"}),dayPeriod:ht({values:Ed,defaultWidth:"wide",formattingValues:Md,defaultFormattingWidth:"wide"})};function pt(t){return function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.width,n=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],i=r.match(n);if(!i)return null;var l=i[0],o=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(o)?Td(o,function(h){return h.test(l)}):Ad(o,function(h){return h.test(l)}),m;m=t.valueCallback?t.valueCallback(d):d,m=s.valueCallback?s.valueCallback(m):m;var x=r.slice(l.length);return{value:m,rest:x}}}function Ad(t,r){for(var s in t)if(t.hasOwnProperty(s)&&r(t[s]))return s}function Td(t,r){for(var s=0;s<t.length;s++)if(r(t[s]))return s}function Gn(t){return function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.match(t.matchPattern);if(!a)return null;var n=a[0],i=r.match(t.parsePattern);if(!i)return null;var l=t.valueCallback?t.valueCallback(i[0]):i[0];l=s.valueCallback?s.valueCallback(l):l;var o=r.slice(n.length);return{value:l,rest:o}}}var Pd=/^(\d+)(th|st|nd|rd)?/i,Fd=/\d+/i,Dd={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Od={any:[/^b/i,/^(a|c)/i]},$d={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ld={any:[/1/i,/2/i,/3/i,/4/i]},Id={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qd={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ud={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hd={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zd={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bd={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Gd={ordinalNumber:Gn({matchPattern:Pd,parsePattern:Fd,valueCallback:function(r){return parseInt(r,10)}}),era:pt({matchPatterns:Dd,defaultMatchWidth:"wide",parsePatterns:Od,defaultParseWidth:"any"}),quarter:pt({matchPatterns:$d,defaultMatchWidth:"wide",parsePatterns:Ld,defaultParseWidth:"any",valueCallback:function(r){return r+1}}),month:pt({matchPatterns:Id,defaultMatchWidth:"wide",parsePatterns:qd,defaultParseWidth:"any"}),day:pt({matchPatterns:Ud,defaultMatchWidth:"wide",parsePatterns:Hd,defaultParseWidth:"any"}),dayPeriod:pt({matchPatterns:zd,defaultMatchWidth:"any",parsePatterns:Bd,defaultParseWidth:"any"})},Wd={code:"en-US",formatDistance:gd,formatLong:vd,formatRelative:Nd,localize:_d,match:Gd,options:{weekStartsOn:0,firstWeekContainsDate:1}},Vd=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qd=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yd=/^'([^]*?)'?$/,Jd=/''/g,Xd=/[a-zA-Z]/;function jt(t,r,s){var a,n,i,l,o,d,m,x,h,p,g,u,b,j,R,k,S,$;Ge(2,arguments);var q=String(r),C=hr(),P=(a=(n=s==null?void 0:s.locale)!==null&&n!==void 0?n:C.locale)!==null&&a!==void 0?a:Wd,y=Mt((i=(l=(o=(d=s==null?void 0:s.firstWeekContainsDate)!==null&&d!==void 0?d:s==null||(m=s.locale)===null||m===void 0||(x=m.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&o!==void 0?o:C.firstWeekContainsDate)!==null&&l!==void 0?l:(h=C.locale)===null||h===void 0||(p=h.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(y>=1&&y<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=Mt((g=(u=(b=(j=s==null?void 0:s.weekStartsOn)!==null&&j!==void 0?j:s==null||(R=s.locale)===null||R===void 0||(k=R.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&b!==void 0?b:C.weekStartsOn)!==null&&u!==void 0?u:(S=C.locale)===null||S===void 0||($=S.options)===null||$===void 0?void 0:$.weekStartsOn)!==null&&g!==void 0?g:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!P.localize)throw new RangeError("locale must contain localize property");if(!P.formatLong)throw new RangeError("locale must contain formatLong property");var N=st(t);if(!Kc(N))throw new RangeError("Invalid time value");var _=Jc(N),w=Zc(N,_),E={firstWeekContainsDate:y,weekStartsOn:v,locale:P,_originalDate:N},I=q.match(Qd).map(function(J){var V=J[0];if(V==="p"||V==="P"){var O=dd[V];return O(J,P.formatLong)}return J}).join("").match(Vd).map(function(J){if(J==="''")return"'";var V=J[0];if(V==="'")return Kd(J);var O=od[V];if(O)return!(s!=null&&s.useAdditionalWeekYearTokens)&&hd(J)&&Aa(J,r,String(t)),!(s!=null&&s.useAdditionalDayOfYearTokens)&&xd(J)&&Aa(J,r,String(t)),O(w,J,P.localize,E);if(V.match(Xd))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");return J}).join("");return I}function Kd(t){var r=t.match(Yd);return r?r[1].replace(Jd,"'"):t}function Zd(t){Ge(1,arguments);var r=st(t),s=r.getDay();return s}function eu(){const{id:t}=or(),r=tt(),[s,a]=c.useState(null),[n,i]=c.useState([]),[l,o]=c.useState(null),[d,m]=c.useState(!0),[x,h]=c.useState(!1),[p,g]=c.useState(""),[u,b]=c.useState(""),[j,R]=c.useState(""),k=C=>{if(C.exercise_type!==Bt.CUSTOM)return null;const P=C.name.toLowerCase();return P.includes("reaction")||P.includes("raction")?`/games/reaction-time/${C.id}`:P.includes("peripheral")||P.includes("priphrique")?"/games/peripheral-vision":P.includes("multi-task")||P.includes("multi-tche")?"/games/multi-task":null};c.useEffect(()=>{S()},[t]);const S=async()=>{if(t){m(!0);try{const[C,P,y]=await Promise.all([gt.getExercise(parseInt(t)),gt.getMyScores(parseInt(t)),gt.getMyStats()]);a(C),i(P);const v=y.find(N=>N.exercise_id===parseInt(t));o(v||null)}catch(C){console.error("Failed to load exercise data:",C),R("Erreur lors du chargement de l'exercice")}finally{m(!1)}}},$=async C=>{var P,y;if(C.preventDefault(),!(!s||!p)){h(!0),R("");try{await gt.submitScore({exercise_id:s.id,score_value:parseFloat(p),score_unit:s.score_unit,notes:u||void 0}),await S(),g(""),b(""),alert("Score enregistr avec succs ! ")}catch(v){R(((y=(P=v.response)==null?void 0:P.data)==null?void 0:y.detail)||"Erreur lors de l'enregistrement du score")}finally{h(!1)}}},q=n.slice().reverse().map(C=>({date:jt(new Date(C.created_at),"dd/MM"),score:C.score_value,fullDate:jt(new Date(C.created_at),"dd/MM/yyyy HH:mm")}));return d?e.jsx(Re,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Chargement..."})]})}):s?e.jsx(Re,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(xe,{to:"/exercises",children:e.jsx(G,{variant:"ghost",size:"sm",children:" Retour aux exercices"})}),e.jsxs(X,{children:[e.jsx(ce,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-4xl",children:ks[s.category]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(Ee,{className:Gc[s.category],children:ws[s.category]}),s.score_unit&&e.jsxs(Ee,{variant:"primary",children:["Unit: ",s.score_unit]})]})]})]}),s.external_url&&e.jsx("a",{href:s.external_url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(G,{variant:"secondary",children:"Lancer l'exercice "})}),s.exercise_type===Bt.CUSTOM&&k(s)&&e.jsx(G,{variant:"primary",onClick:()=>r(k(s)),children:" Lancer le jeu"})]})}),e.jsxs(K,{children:[e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:s.description}),s.instructions&&e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:" Instructions :"}),e.jsx("pre",{className:"text-sm text-blue-800 dark:text-blue-200 whitespace-pre-wrap font-sans",children:s.instructions})]})]})]}),l&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Meilleur score"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[l.best_score," ",l.score_unit]})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Score moyen"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[l.average_score.toFixed(1)," ",l.score_unit]})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Dernier score"}),e.jsxs("p",{className:"text-2xl font-bold text-primary-600",children:[l.latest_score||"N/A"," ",l.score_unit]})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Progression"}),e.jsx("p",{className:`text-2xl font-bold ${l.progression&&l.progression>0?"text-green-600":"text-red-600"}`,children:l.progression!==null&&l.progression!==void 0?`${l.progression>0?"+":""}${l.progression.toFixed(1)}%`:"N/A"})]})})]}),s.exercise_type===Bt.EXTERNAL&&e.jsxs(X,{children:[e.jsx(ce,{title:"Enregistrer un nouveau score",subtitle:"Ajoute ta performance"}),e.jsxs(K,{children:[j&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:j})}),e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ke,{label:`Score (${s.score_unit||"valeur"})`,type:"number",step:"any",value:p,onChange:C=>g(C.target.value),placeholder:s.lower_is_better?"Ex: 245":"Ex: 85",required:!0,helperText:s.lower_is_better?"Plus bas = meilleur":"Plus haut = meilleur"}),e.jsx(ke,{label:"Notes (optionnel)",type:"text",value:u,onChange:C=>b(C.target.value),placeholder:"Conditions, ressenti..."})]}),e.jsx(G,{type:"submit",variant:"primary",isLoading:x,children:"Enregistrer le score"})]})]})]}),q.length>0&&e.jsxs(X,{children:[e.jsx(ce,{title:"Graphique de progression",subtitle:`${q.length} tentatives enregistres`}),e.jsx(K,{children:e.jsx(kr,{width:"100%",height:300,children:e.jsxs(ri,{data:q,children:[e.jsx(Ua,{strokeDasharray:"3 3"}),e.jsx(Ha,{dataKey:"date"}),e.jsx(za,{}),e.jsx(Sr,{content:({active:C,payload:P})=>C&&P&&P.length?e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:P[0].payload.fullDate}),e.jsxs("p",{className:"text-lg font-bold text-primary-600",children:[P[0].value," ",s.score_unit]})]}):null}),e.jsx(si,{type:"monotone",dataKey:"score",stroke:"#1c3049",strokeWidth:2,dot:{fill:"#e08f34",r:5},activeDot:{r:7}})]})})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Historique des scores",subtitle:`${n.length} tentatives au total`}),e.jsx(K,{children:n.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun score enregistr pour cet exercice"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:"Enregistre ton premier score ci-dessus !"})]}):e.jsx("div",{className:"space-y-3",children:n.map((C,P)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-center",children:e.jsxs("span",{className:"text-xs text-gray-500",children:["#",n.length-P]})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[C.score_value," ",C.score_unit]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:jt(new Date(C.created_at),"dd/MM/yyyy  HH:mm")}),C.notes&&e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-1",children:[" ",C.notes]})]})]}),P===0&&(l==null?void 0:l.latest_score)===C.score_value&&e.jsx(Ee,{variant:"success",size:"sm",children:"Dernier"}),(l==null?void 0:l.best_score)===C.score_value&&e.jsx(Ee,{variant:"warning",size:"sm",children:" Meilleur"})]},C.id))})})]})]})}):e.jsx(Re,{children:e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("span",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Exercice non trouv"}),e.jsx(xe,{to:"/exercises",children:e.jsx(G,{variant:"primary",children:"Retour aux exercices"})})]})})})})}var tu={lessThanXSeconds:{one:"moins dune seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins dune minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus dun an",other:"plus de {{count}} ans"},almostXYears:{one:"presquun an",other:"presque {{count}} ans"}},ru=function(r,s,a){var n,i=tu[r];return typeof i=="string"?n=i:s===1?n=i.one:n=i.other.replace("{{count}}",String(s)),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"dans "+n:"il y a "+n:n},su={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},au={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},nu={full:"{{date}} '' {{time}}",long:"{{date}} '' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iu={date:Gt({formats:su,defaultWidth:"full"}),time:Gt({formats:au,defaultWidth:"full"}),dateTime:Gt({formats:nu,defaultWidth:"full"})},lu={lastWeek:"eeee 'dernier ' p",yesterday:"'hier ' p",today:"'aujourdhui ' p",tomorrow:"'demain ' p'",nextWeek:"eeee 'prochain ' p",other:"P"},ou=function(r,s,a,n){return lu[r]},cu={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jsus-Christ","aprs Jsus-Christ"]},du={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2me trim.","3me trim.","4me trim."],wide:["1er trimestre","2me trimestre","3me trimestre","4me trimestre"]},uu={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc."],wide:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},mu={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},xu={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"aprs-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de laprs-midi",evening:"du soir",night:"du matin"}},hu=function(r,s){var a=Number(r),n=s==null?void 0:s.unit;if(a===0)return"0";var i=["year","week","hour","minute","second"],l;return a===1?l=n&&i.includes(n)?"re":"er":l="me",a+l},pu={ordinalNumber:hu,era:ht({values:cu,defaultWidth:"wide"}),quarter:ht({values:du,defaultWidth:"wide",argumentCallback:function(r){return r-1}}),month:ht({values:uu,defaultWidth:"wide"}),day:ht({values:mu,defaultWidth:"wide"}),dayPeriod:ht({values:xu,defaultWidth:"wide"})},gu=/^(\d+)(ime|re|me|er|e)?/i,fu=/\d+/i,bu={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jsus-Christ|aprs Jsus-Christ)/i},yu={any:[/^av/i,/^ap/i]},vu={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|me|e)? trim\.?/i,wide:/^[1234](er|me|e)? trimestre/i},ju={any:[/1/i,/2/i,/3/i,/4/i]},Nu={narrow:/^[jfmasond]/i,abbreviated:/^(janv|fvr|mars|avr|mai|juin|juill|juil|aot|sept|oct|nov|dc)\.?/i,wide:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i},wu={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},ku={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},Su={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},Cu={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'aprs[-\s]midi|du soir|de la nuit)/i},Eu={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},Mu={ordinalNumber:Gn({matchPattern:gu,parsePattern:fu,valueCallback:function(r){return parseInt(r)}}),era:pt({matchPatterns:bu,defaultMatchWidth:"wide",parsePatterns:yu,defaultParseWidth:"any"}),quarter:pt({matchPatterns:vu,defaultMatchWidth:"wide",parsePatterns:ju,defaultParseWidth:"any",valueCallback:function(r){return r+1}}),month:pt({matchPatterns:Nu,defaultMatchWidth:"wide",parsePatterns:wu,defaultParseWidth:"any"}),day:pt({matchPatterns:ku,defaultMatchWidth:"wide",parsePatterns:Su,defaultParseWidth:"any"}),dayPeriod:pt({matchPatterns:Cu,defaultMatchWidth:"any",parsePatterns:Eu,defaultParseWidth:"any"})},lr={code:"fr",formatDistance:ru,formatLong:iu,formatRelative:ou,localize:pu,match:Mu,options:{weekStartsOn:1,firstWeekContainsDate:4}};class Ru{async createSession(r){return(await ae.post("/sessions",r)).data}async getSessions(r){return(await ae.get("/sessions",{params:r})).data}async getMySessions(r){return(await ae.get("/sessions/me",{params:r})).data}async getSession(r){return(await ae.get(`/sessions/${r}`)).data}async updateSession(r,s){return(await ae.put(`/sessions/${r}`,s)).data}async deleteSession(r){await ae.delete(`/sessions/${r}`)}async addParticipant(r,s){return(await ae.post(`/sessions/${r}/participants/${s}`)).data}async removeParticipant(r,s){await ae.delete(`/sessions/${r}/participants/${s}`)}async updateAttendance(r,s,a){return(await ae.put(`/sessions/${r}/participants/${s}/attendance`,a)).data}async getMyStats(){return(await ae.get("/sessions/stats/me")).data}async getUserStats(r){return(await ae.get(`/sessions/stats/user/${r}`)).data}}const Ot=new Ru,Ls={solo:"Solo",duo:"Duo",trio:"Trio",team:"Team",group:"Groupe"},Hr={solo:"",duo:"",trio:"",team:"",group:""},_u={solo:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300",duo:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",trio:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300",team:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300",group:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300"},Wn={pending:"En attente",confirmed:"Confirm",cancelled:"Annul",completed:"Complt"},Au={pending:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",confirmed:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",cancelled:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300",completed:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300"};function Tu({session:t,isOpen:r,onClose:s}){const[a,n]=c.useState(t.title||""),[i,l]=c.useState(t.description||""),[o,d]=c.useState(t.session_type),[m,x]=c.useState(""),[h,p]=c.useState(""),[g,u]=c.useState(t.meeting_url||""),[b,j]=c.useState(t.notes||""),[R,k]=c.useState(!1),[S,$]=c.useState(""),q=t.id>0;c.useEffect(()=>{if(t.start_time){const P=new Date(t.start_time);x(P.toISOString().slice(0,16))}if(t.end_time){const P=new Date(t.end_time);p(P.toISOString().slice(0,16))}},[t]);const C=async P=>{var y,v;P.preventDefault(),k(!0),$("");try{const N={title:a,description:i||void 0,session_type:o,start_time:new Date(m).toISOString(),end_time:new Date(h).toISOString(),meeting_url:g||void 0,notes:b||void 0};q?await Ot.updateSession(t.id,N):await Ot.createSession(N),s()}catch(N){$(((v=(y=N.response)==null?void 0:y.data)==null?void 0:v.detail)||"Erreur lors de la sauvegarde")}finally{k(!1)}};return r?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"bg-primary-600 text-white p-6 rounded-t-xl",children:e.jsx("h2",{className:"text-2xl font-bold",children:q?" Modifier la session":"+ Nouvelle session"})}),e.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[S&&e.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:S})}),e.jsx(ke,{label:"Titre de la session",type:"text",value:a,onChange:P=>n(P.target.value),placeholder:"Ex: Entranement macro gameplay",required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type de session"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Object.entries(Ls).map(([P,y])=>e.jsxs("button",{type:"button",onClick:()=>d(P),className:`p-3 rounded-lg border-2 transition-all ${o===P?"border-primary-600 bg-primary-50 dark:bg-primary-900/20 text-primary-900 dark:text-primary-100":"border-gray-300 dark:border-gray-700 hover:border-primary-400 text-gray-900 dark:text-gray-100 bg-white dark:bg-gray-800"}`,children:[e.jsx("span",{className:"text-2xl mb-1 block",children:Hr[P]}),e.jsx("span",{className:"text-sm font-medium",children:y})]},P))})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(ke,{label:"Dbut",type:"datetime-local",value:m,onChange:P=>x(P.target.value),required:!0}),e.jsx(ke,{label:"Fin",type:"datetime-local",value:h,onChange:P=>p(P.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:i,onChange:P=>l(P.target.value),placeholder:"Objectifs de la session, focus...",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-900 dark:text-white"})]}),e.jsx(ke,{label:"Lien de runion (optionnel)",type:"url",value:g,onChange:P=>u(P.target.value),placeholder:"https://discord.gg/...",helperText:"Discord, Zoom, etc."}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes coach (optionnel)"}),e.jsx("textarea",{value:b,onChange:P=>j(P.target.value),placeholder:"Notes internes, prparation...",rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(G,{type:"button",variant:"outline",onClick:s,fullWidth:!0,children:"Annuler"}),e.jsx(G,{type:"submit",variant:"primary",isLoading:R,fullWidth:!0,children:q?"Enregistrer":"Crer la session"})]})]})]})}):null}function Pu({session:t,isOpen:r,onClose:s}){var p,g;const{user:a}=ze(),[n,i]=c.useState(!1),l=(p=t.participants)==null?void 0:p.some(u=>u.user_id===(a==null?void 0:a.id)),o=(a==null?void 0:a.role)==="COACH"||(a==null?void 0:a.role)==="MANAGER",d=t.created_by_id===(a==null?void 0:a.id),m=async()=>{if(confirm("tes-vous sr de vouloir supprimer cette session ?")){i(!0);try{await Ot.deleteSession(t.id),s()}catch(u){console.error("Failed to delete session:",u),alert("Erreur lors de la suppression")}finally{i(!1)}}},x=async()=>{if(a)try{await Ot.addParticipant(t.id,a.id),s()}catch(u){console.error("Failed to join session:",u),alert("Erreur lors de l'inscription")}},h=async()=>{if(a&&confirm("tes-vous sr de vouloir quitter cette session ?"))try{await Ot.removeParticipant(t.id,a.id),s()}catch(u){console.error("Failed to leave session:",u),alert("Erreur lors du dpart")}};return r?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"bg-primary-600 text-white p-6 rounded-t-xl",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-3xl",children:Hr[t.session_type]}),e.jsx(Ee,{className:_u[t.session_type],children:Ls[t.session_type]}),e.jsx(Ee,{className:Au[t.status],children:Wn[t.status]})]}),e.jsx("h2",{className:"text-2xl font-bold",children:t.title})]})})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Date"}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:jt(new Date(t.start_time),"EEEE d MMMM yyyy",{locale:lr})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Horaire"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[jt(new Date(t.start_time),"HH:mm",{locale:lr})," -"," ",jt(new Date(t.end_time),"HH:mm",{locale:lr})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Dure"}),e.jsxs("p",{className:"font-semibold text-gray-900 dark:text-white",children:[t.duration_minutes," minutes"]})]})]}),t.description&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-900 dark:text-white whitespace-pre-wrap",children:t.description})]}),t.meeting_url&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Lien de runion"}),e.jsx("a",{href:t.meeting_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700 underline",children:t.meeting_url})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Participants (",((g=t.participants)==null?void 0:g.length)||0,")"]}),t.participants&&t.participants.length>0?e.jsx("div",{className:"space-y-2",children:t.participants.map(u=>e.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-900 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-primary-600 dark:text-primary-400 font-bold",children:u.user_id})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 dark:text-white",children:["Joueur #",u.user_id]}),e.jsx("p",{className:"text-sm text-gray-500",children:u.attendance_status})]})]})},u.id))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Aucun participant inscrit"})]}),o&&t.notes&&e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-900 dark:text-blue-100 font-semibold mb-2",children:" Notes coach"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 whitespace-pre-wrap",children:t.notes})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[!o&&t.status!=="completed"&&t.status!=="cancelled"&&e.jsx(e.Fragment,{children:l?e.jsx(G,{variant:"danger",onClick:h,children:"Quitter la session"}):e.jsx(G,{variant:"primary",onClick:x,children:"S'inscrire"})}),o&&(d||(a==null?void 0:a.role)==="MANAGER")&&e.jsx(e.Fragment,{children:e.jsx(G,{variant:"danger",onClick:m,isLoading:n,children:"Supprimer"})}),e.jsx(G,{variant:"outline",onClick:s,className:"ml-auto",children:"Fermer"})]})]})]})}):null}const Fu={fr:lr},Du=ai({format:jt,startOfWeek:Yc,getDay:Zd,locales:Fu});function Ou(){const{user:t}=ze(),[r,s]=c.useState([]),[a,n]=c.useState(!0),[i,l]=c.useState(null),[o,d]=c.useState(!1),[m,x]=c.useState(!1),[h,p]=c.useState(null),[g,u]=c.useState(null);c.useEffect(()=>{b()},[h,g]);const b=async()=>{n(!0);try{const C=await Ot.getMySessions({session_type:h||void 0,status:g||void 0});s(C.sessions)}catch(C){console.error("Failed to load sessions:",C)}finally{n(!1)}},j=c.useMemo(()=>r.map(C=>({title:`${Hr[C.session_type]} ${C.title}`,start:new Date(C.start_time),end:new Date(C.end_time),session:C})),[r]),R=C=>{l(C.session),x(!0)},k=({start:C})=>{t&&(t.role==="COACH"||t.role==="MANAGER")&&(l({id:0,title:"",session_type:"solo",status:"pending",start_time:C.toISOString(),end_time:new Date(C.getTime()+60*60*1e3).toISOString(),created_by_id:t.id,participants:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),d(!0))},S=()=>{d(!1),l(null),b()},$=()=>{x(!1),l(null),b()},q=C=>{const{session:P}=C;let y="#1c3049",v="#1c3049";switch(P.status){case"confirmed":y="#10b981",v="#10b981";break;case"cancelled":y="#ef4444",v="#ef4444";break;case"completed":y="#6b7280",v="#6b7280";break;case"pending":y="#f59e0b",v="#f59e0b";break}return{style:{backgroundColor:y,borderColor:v,borderLeft:`4px solid ${v}`,opacity:P.status==="cancelled"?.5:1}}};return a?e.jsx(Re,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Chargement du calendrier..."})]})}):e.jsxs(Re,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-secondary rounded-xl p-8 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Calendrier d'entranement"}),e.jsx("p",{className:"text-primary-100",children:"Planifie et gre tes sessions d'entranement"})]}),((t==null?void 0:t.role)==="COACH"||(t==null?void 0:t.role)==="MANAGER")&&e.jsx(G,{variant:"accent",size:"lg",onClick:()=>{l({id:0,title:"",session_type:"solo",status:"pending",start_time:new Date().toISOString(),end_time:new Date(Date.now()+60*60*1e3).toISOString(),created_by_id:t.id,participants:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()}),d(!0)},children:"+ Nouvelle session"})]})}),e.jsxs(X,{children:[e.jsx(ce,{title:"Filtres"}),e.jsx(K,{children:e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Type de session"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(G,{variant:h===null?"primary":"outline",size:"sm",onClick:()=>p(null),children:"Tous"}),Object.entries(Ls).map(([C,P])=>e.jsxs(G,{variant:h===C?"primary":"outline",size:"sm",onClick:()=>p(C),children:[Hr[C]," ",P]},C))]})]}),e.jsx("div",{className:"border-l border-gray-300 dark:border-gray-700 mx-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Statut"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(G,{variant:g===null?"primary":"outline",size:"sm",onClick:()=>u(null),children:"Tous"}),Object.entries(Wn).map(([C,P])=>e.jsx(G,{variant:g===C?"primary":"outline",size:"sm",onClick:()=>u(C),children:P},C))]})]})]})})]}),e.jsx(X,{children:e.jsx(K,{children:e.jsx("div",{style:{height:"700px"},children:e.jsx(ni,{localizer:Du,events:j,startAccessor:"start",endAccessor:"end",culture:"fr",messages:{next:"Suivant",previous:"Prcdent",today:"Aujourd'hui",month:"Mois",week:"Semaine",day:"Jour",agenda:"Agenda",date:"Date",time:"Heure",event:"Session",noEventsInRange:"Aucune session dans cette priode",showMore:C=>`+ ${C} sessions`},onSelectEvent:R,onSelectSlot:k,selectable:(t==null?void 0:t.role)==="COACH"||(t==null?void 0:t.role)==="MANAGER",eventPropGetter:q,views:["month","week","day","agenda"],defaultView:"week",step:30,timeslots:2,min:new Date(2e3,1,1,8,0,0),max:new Date(2e3,1,1,23,0,0)})})})}),e.jsxs(X,{children:[e.jsx(ce,{title:" Comment utiliser le calendrier"}),e.jsxs(K,{children:[e.jsxs("div",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"1."}),e.jsx("p",{children:"Clique sur une session pour voir les dtails et t'inscrire"})]}),((t==null?void 0:t.role)==="COACH"||(t==null?void 0:t.role)==="MANAGER")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"2."}),e.jsx("p",{children:"Clique sur un crneau vide pour crer une nouvelle session"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"3."}),e.jsx("p",{children:"Glisse-dpose pour dplacer une session"})]})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:[e.jsx("strong",{children:" Astuce :"})," Utilise les filtres pour trouver rapidement les sessions qui t'intressent !"]})})]})]})]}),o&&i&&e.jsx(Tu,{session:i,isOpen:o,onClose:S}),m&&i&&e.jsx(Pu,{session:i,isOpen:m,onClose:$})]})}class $u{async getQuestionnaires(r){return(await ae.get("/coaching/questionnaires",{params:r})).data}async submitQuestionnaireResponse(r){return(await ae.post("/coaching/questionnaire-responses",r)).data}async getMyQuestionnaireResponses(r){const s=r?{questionnaire_id:r}:{};return(await ae.get("/coaching/questionnaire-responses/me",{params:s})).data}async createJournalEntry(r){return(await ae.post("/coaching/journal",r)).data}async getMyJournalEntries(r){return(await ae.get("/coaching/journal/me",{params:r})).data}async updateJournalEntry(r,s){return(await ae.put(`/coaching/journal/${r}`,s)).data}async deleteJournalEntry(r){await ae.delete(`/coaching/journal/${r}`)}async getMyJournalStats(r=30){return(await ae.get("/coaching/journal/stats/me",{params:{days:r}})).data}async createGoal(r,s){const a=s?{user_id:s}:{};return(await ae.post("/coaching/goals",r,{params:a})).data}async getMyGoals(r){return(await ae.get("/coaching/goals/me",{params:r})).data}async updateGoal(r,s){return(await ae.put(`/coaching/goals/${r}`,s)).data}async deleteGoal(r){await ae.delete(`/coaching/goals/${r}`)}async getMyGoalStats(){return(await ae.get("/coaching/goals/stats/me")).data}}const Ke=new $u,Ta={excellent:"Excellent",good:"Bien",neutral:"Neutre",low:"Bas",bad:"Mauvais"},Pa={excellent:"",good:"",neutral:"",low:"",bad:""},Lu={excellent:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",good:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300",neutral:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",low:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300",bad:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300"},Ss=[{value:"gameplay",label:"Gameplay",emoji:""},{value:"mental",label:"Mental",emoji:""},{value:"physical",label:"Physique",emoji:""},{value:"teamwork",label:"Travail d'quipe",emoji:""},{value:"communication",label:"Communication",emoji:""},{value:"other",label:"Autre",emoji:""}];function Iu(){const[t,r]=c.useState([]),[s,a]=c.useState(null),[n,i]=c.useState(!0),[l,o]=c.useState(!1),[d,m]=c.useState(null),[x,h]=c.useState(""),[p,g]=c.useState(""),[u,b]=c.useState(""),[j,R]=c.useState(""),[k,S]=c.useState(""),[$,q]=c.useState(""),[C,P]=c.useState([]),[y,v]=c.useState(""),[N,_]=c.useState(!0),[w,E]=c.useState(!1),[I,J]=c.useState("");c.useEffect(()=>{V()},[]);const V=async()=>{i(!0);try{const[L,Z]=await Promise.all([Ke.getMyJournalEntries({page_size:100}),Ke.getMyJournalStats(30)]);r(L),a(Z)}catch(L){console.error("Failed to load journal data:",L)}finally{i(!1)}},O=()=>{h(""),g(""),b(""),R(""),S(""),q(""),P([]),v(""),_(!0),J(""),m(null)},F=async L=>{var Z,D;L.preventDefault(),E(!0),J("");try{const Y={title:x||void 0,content:p,mood:u||void 0,energy_level:j?parseInt(j):void 0,training_quality:k?parseInt(k):void 0,sleep_hours:$?parseFloat($):void 0,tags:C.length>0?C:void 0,is_private:N};d?await Ke.updateJournalEntry(d.id,Y):await Ke.createJournalEntry(Y),O(),o(!1),await V()}catch(Y){J(((D=(Z=Y.response)==null?void 0:Z.data)==null?void 0:D.detail)||"Erreur lors de la sauvegarde")}finally{E(!1)}},A=L=>{var Z,D,Y;m(L),h(L.title||""),g(L.content),b(L.mood||""),R(((Z=L.energy_level)==null?void 0:Z.toString())||""),S(((D=L.training_quality)==null?void 0:D.toString())||""),q(((Y=L.sleep_hours)==null?void 0:Y.toString())||""),P(L.tags||[]),_(L.is_private),o(!0)},U=async L=>{if(confirm("tes-vous sr de vouloir supprimer cette entre ?"))try{await Ke.deleteJournalEntry(L),await V()}catch(Z){console.error("Failed to delete entry:",Z),alert("Erreur lors de la suppression")}},T=()=>{y.trim()&&!C.includes(y.trim())&&(P([...C,y.trim()]),v(""))},z=L=>{P(C.filter(Z=>Z!==L))};return n?e.jsx(Re,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Chargement..."})]})}):e.jsx(Re,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-secondary rounded-xl p-8 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Journal de Progression"}),e.jsx("p",{className:"text-primary-100",children:"Suit ton volution quotidienne et tes ressentis"})]}),e.jsx(G,{variant:"accent",size:"lg",onClick:()=>{O(),o(!0)},children:"+ Nouvelle entre"})]})}),s&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Entres (30j)"}),e.jsx("p",{className:"text-2xl font-bold text-primary-600",children:s.total_entries})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"nergie moy."}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.avg_energy_level?`${s.avg_energy_level}/10`:"N/A"})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Qualit entranement"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.avg_training_quality?`${s.avg_training_quality}/10`:"N/A"})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Sommeil moy."}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:s.avg_sleep_hours?`${s.avg_sleep_hours}h`:"N/A"})]})})]}),l&&e.jsxs(X,{children:[e.jsx(ce,{title:d?" Modifier l'entre":"+ Nouvelle entre",subtitle:"Partage tes ressentis et ton volution"}),e.jsxs(K,{children:[I&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:I})}),e.jsxs("form",{onSubmit:F,className:"space-y-6",children:[e.jsx(ke,{label:"Titre (optionnel)",type:"text",value:x,onChange:L=>h(L.target.value),placeholder:"Ex: Session intense aujourd'hui"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Comment te sens-tu ? "}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-2",children:Object.entries(Ta).map(([L,Z])=>e.jsxs("button",{type:"button",onClick:()=>b(L),className:`p-3 rounded-lg border-2 transition-all text-center ${u===L?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-gray-300 dark:border-gray-700 hover:border-primary-400"}`,children:[e.jsx("span",{className:"text-2xl block mb-1",children:Pa[L]}),e.jsx("span",{className:"text-xs font-medium",children:Z})]},L))})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsx(ke,{label:"Niveau d'nergie (1-10)",type:"number",min:"1",max:"10",value:j,onChange:L=>R(L.target.value),placeholder:"7"}),e.jsx(ke,{label:"Qualit entranement (1-10)",type:"number",min:"1",max:"10",value:k,onChange:L=>S(L.target.value),placeholder:"8"}),e.jsx(ke,{label:"Heures de sommeil",type:"number",step:"0.5",min:"0",max:"24",value:$,onChange:L=>q(L.target.value),placeholder:"7.5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contenu de l'entre *"}),e.jsx("textarea",{value:p,onChange:L=>g(L.target.value),placeholder:"Dcris ta journe, tes ressentis, ce que tu as appris...",rows:6,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tags"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx(ke,{type:"text",value:y,onChange:L=>v(L.target.value),onKeyPress:L=>{L.key==="Enter"&&(L.preventDefault(),T())},placeholder:"Ajouter un tag"}),e.jsx(G,{type:"button",variant:"outline",onClick:T,children:"Ajouter"})]}),C.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(L=>e.jsxs(Ee,{variant:"primary",children:[L,e.jsx("button",{type:"button",onClick:()=>z(L),className:"ml-2 text-primary-800 dark:text-primary-200 hover:text-primary-600",children:""})]},L))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_private",checked:N,onChange:L=>_(L.target.checked),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsx("label",{htmlFor:"is_private",className:"text-sm text-gray-700 dark:text-gray-300",children:"Entre prive (visible uniquement par moi)"})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(G,{type:"button",variant:"outline",onClick:()=>{O(),o(!1)},children:"Annuler"}),e.jsx(G,{type:"submit",variant:"primary",isLoading:w,children:d?"Enregistrer":"Crer l'entre"})]})]})]})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Historique des entres",subtitle:`${t.length} entres au total`}),e.jsx(K,{children:t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Aucune entre pour le moment"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Commence  noter tes ressentis et ton volution !"}),e.jsx(G,{variant:"primary",onClick:()=>{O(),o(!0)},children:"Crer ma premire entre"})]}):e.jsx("div",{className:"space-y-4",children:t.map(L=>e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[L.mood&&e.jsxs(Ee,{className:Lu[L.mood],children:[Pa[L.mood]," ",Ta[L.mood]]}),L.is_private&&e.jsx(Ee,{variant:"secondary",size:"sm",children:" Priv"}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:jt(new Date(L.entry_date),"EEEE d MMMM yyyy",{locale:lr})})]}),L.title&&e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:L.title}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap mb-3",children:L.content}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400",children:[L.energy_level&&e.jsxs("span",{children:[" nergie: ",L.energy_level,"/10"]}),L.training_quality&&e.jsxs("span",{children:[" Entranement: ",L.training_quality,"/10"]}),L.sleep_hours&&e.jsxs("span",{children:[" Sommeil: ",L.sleep_hours,"h"]})]}),L.tags&&L.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:L.tags.map(Z=>e.jsx(Ee,{variant:"secondary",size:"sm",children:Z},Z))})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsx(G,{variant:"ghost",size:"sm",onClick:()=>A(L),children:""}),e.jsx(G,{variant:"ghost",size:"sm",onClick:()=>U(L.id),children:""})]})]})},L.id))})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:" Conseils pour ton journal"}),e.jsx(K,{children:e.jsxs("div",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"1."}),e.jsx("p",{children:"cris rgulirement, mme 5 minutes par jour suffisent"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"2."}),e.jsx("p",{children:"Note tes ressentis pendant et aprs l'entranement"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"3."}),e.jsx("p",{children:"Sois honnte avec toi-mme, c'est un espace personnel"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"4."}),e.jsx("p",{children:"Relis tes anciennes entres pour voir ton volution !"})]})]})})]})]})})}function qu(){const[t,r]=c.useState([]),[s,a]=c.useState(null),[n,i]=c.useState(!0),[l,o]=c.useState(!1),[d,m]=c.useState(null),[x,h]=c.useState(null),[p,g]=c.useState(""),[u,b]=c.useState(""),[j,R]=c.useState(""),[k,S]=c.useState(""),[$,q]=c.useState(0),[C,P]=c.useState([]),[y,v]=c.useState(""),[N,_]=c.useState(!1),[w,E]=c.useState(!1),[I,J]=c.useState("");c.useEffect(()=>{V()},[x]);const V=async()=>{i(!0);try{const[D,Y]=await Promise.all([Ke.getMyGoals({is_completed:x??void 0}),Ke.getMyGoalStats()]);r(D),a(Y)}catch(D){console.error("Failed to load goals data:",D)}finally{i(!1)}},O=()=>{g(""),b(""),R(""),S(""),q(0),P([]),v(""),_(!1),J(""),m(null)},F=async D=>{var Y,me;D.preventDefault(),E(!0),J("");try{const M={title:p,description:u||void 0,category:j||void 0,target_date:k||void 0,progress_percentage:$,is_completed:$>=100,milestones:C.length>0?C:void 0,is_public:N};d?await Ke.updateGoal(d.id,M):await Ke.createGoal(M),O(),o(!1),await V()}catch(M){J(((me=(Y=M.response)==null?void 0:Y.data)==null?void 0:me.detail)||"Erreur lors de la sauvegarde")}finally{E(!1)}},A=D=>{m(D),g(D.title),b(D.description||""),R(D.category||""),S(D.target_date?D.target_date.split("T")[0]:""),q(D.progress_percentage),P(D.milestones||[]),_(D.is_public),o(!0)},U=async D=>{if(confirm("tes-vous sr de vouloir supprimer cet objectif ?"))try{await Ke.deleteGoal(D),await V()}catch(Y){console.error("Failed to delete goal:",Y),alert("Erreur lors de la suppression")}},T=()=>{y.trim()&&(P([...C,{title:y.trim(),completed:!1}]),v(""))},z=D=>{const Y=[...C];Y[D].completed=!Y[D].completed,P(Y)},L=D=>{P(C.filter((Y,me)=>me!==D))},Z=D=>{var Y;return((Y=Ss.find(me=>me.value===D))==null?void 0:Y.emoji)||""};return n?e.jsx(Re,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Chargement..."})]})}):e.jsx(Re,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-secondary rounded-xl p-8 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Mes Objectifs"}),e.jsx("p",{className:"text-primary-100",children:"Dfinis et suis tes objectifs de progression"})]}),e.jsx(G,{variant:"accent",size:"lg",onClick:()=>{O(),o(!0)},children:"+ Nouvel objectif"})]})}),s&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Total objectifs"}),e.jsx("p",{className:"text-2xl font-bold text-primary-600",children:s.total_goals})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Complts"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.completed_goals})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"En cours"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.in_progress_goals})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Taux de russite"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[s.completion_rate,"%"]})]})})]}),e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(G,{variant:x===null?"primary":"outline",size:"sm",onClick:()=>h(null),children:"Tous"}),e.jsx(G,{variant:x===!1?"primary":"outline",size:"sm",onClick:()=>h(!1),children:"En cours"}),e.jsx(G,{variant:x===!0?"primary":"outline",size:"sm",onClick:()=>h(!0),children:"Complts"})]})})}),l&&e.jsxs(X,{children:[e.jsx(ce,{title:d?" Modifier l'objectif":"+ Nouvel objectif",subtitle:"Dfinis un objectif clair et mesurable"}),e.jsxs(K,{children:[I&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:I})}),e.jsxs("form",{onSubmit:F,className:"space-y-6",children:[e.jsx(ke,{label:"Titre de l'objectif *",type:"text",value:p,onChange:D=>g(D.target.value),placeholder:"Ex: Atteindre Diamant en ranked",required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Catgorie"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Ss.map(D=>e.jsxs("button",{type:"button",onClick:()=>R(D.value),className:`p-3 rounded-lg border-2 transition-all ${j===D.value?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-gray-300 dark:border-gray-700 hover:border-primary-400"}`,children:[e.jsx("span",{className:"text-2xl mb-1 block",children:D.emoji}),e.jsx("span",{className:"text-sm font-medium",children:D.label})]},D.value))})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsx(ke,{label:"Date cible (optionnel)",type:"date",value:k,onChange:D=>S(D.target.value)}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Progression (",$,"%)"]}),e.jsx("input",{type:"range",min:"0",max:"100",value:$,onChange:D=>q(parseInt(D.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description (optionnel)"}),e.jsx("textarea",{value:u,onChange:D=>b(D.target.value),placeholder:"Dcris ton objectif en dtail...",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"tapes intermdiaires"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx(ke,{type:"text",value:y,onChange:D=>v(D.target.value),onKeyPress:D=>{D.key==="Enter"&&(D.preventDefault(),T())},placeholder:"Ajouter une tape"}),e.jsx(G,{type:"button",variant:"outline",onClick:T,children:"Ajouter"})]}),C.length>0&&e.jsx("div",{className:"space-y-2",children:C.map((D,Y)=>e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[e.jsx("input",{type:"checkbox",checked:D.completed,onChange:()=>z(Y),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsx("span",{className:`flex-1 ${D.completed?"line-through text-gray-500":"text-gray-900 dark:text-white"}`,children:D.title}),e.jsx("button",{type:"button",onClick:()=>L(Y),className:"text-red-600 hover:text-red-700",children:""})]},Y))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_public",checked:N,onChange:D=>_(D.target.checked),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsx("label",{htmlFor:"is_public",className:"text-sm text-gray-700 dark:text-gray-300",children:"Objectif visible par l'quipe (partage ton objectif)"})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(G,{type:"button",variant:"outline",onClick:()=>{O(),o(!1)},children:"Annuler"}),e.jsx(G,{type:"submit",variant:"primary",isLoading:w,children:d?"Enregistrer":"Crer l'objectif"})]})]})]})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Liste des objectifs",subtitle:`${t.length} objectifs`}),e.jsx(K,{children:t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Aucun objectif pour le moment"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Dfinis tes premiers objectifs pour guider ta progression !"}),e.jsx(G,{variant:"primary",onClick:()=>{O(),o(!0)},children:"Crer mon premier objectif"})]}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:t.map(D=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[D.category&&e.jsx("span",{className:"text-2xl",children:Z(D.category)}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:D.title})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(G,{variant:"ghost",size:"sm",onClick:()=>A(D),children:""}),e.jsx(G,{variant:"ghost",size:"sm",onClick:()=>U(D.id),children:""})]})]}),D.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:D.description}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Progression"}),e.jsxs("span",{className:"font-semibold text-primary-600",children:[D.progress_percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:`${D.progress_percentage}%`}})})]}),D.milestones&&D.milestones.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"tapes:"}),e.jsx("div",{className:"space-y-1",children:D.milestones.map((Y,me)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{children:Y.completed?"":""}),e.jsx("span",{className:Y.completed?"line-through text-gray-500":"text-gray-700 dark:text-gray-300",children:Y.title})]},me))})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[D.is_completed&&e.jsx(Ee,{variant:"success",children:" Complt"}),D.target_date&&e.jsxs(Ee,{variant:"secondary",size:"sm",children:[" ",jt(new Date(D.target_date),"dd/MM/yyyy")]}),D.is_public&&e.jsx(Ee,{variant:"info",size:"sm",children:" Public"})]})]},D.id))})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:" Conseils pour tes objectifs"}),e.jsx(K,{children:e.jsxs("div",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"1."}),e.jsx("p",{children:"Dfinis des objectifs SMART (Spcifiques, Mesurables, Atteignables, Ralistes, Temporels)"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"2."}),e.jsx("p",{children:"Dcoupe les grands objectifs en tapes intermdiaires"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"3."}),e.jsx("p",{children:"Mets  jour rgulirement ta progression"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"4."}),e.jsx("p",{children:"Clbre chaque tape franchie, mme les petites victoires !"})]})]})})]})]})})}class Uu{async uploadFile(r){const s=new FormData;return s.append("file",r),(await ae.post("/media/upload",s,{headers:{"Content-Type":"multipart/form-data"}})).data}async createMedia(r){return(await ae.post("/media",r)).data}async getMedia(r){return(await ae.get("/media",{params:r})).data}async getMediaById(r){return(await ae.get(`/media/${r}`)).data}async updateMedia(r,s){return(await ae.put(`/media/${r}`,s)).data}async deleteMedia(r){await ae.delete(`/media/${r}`)}async createPlaylist(r){return(await ae.post("/media/playlists",r)).data}async getPlaylists(r){return(await ae.get("/media/playlists",{params:r})).data}async getPlaylistById(r){return(await ae.get(`/media/playlists/${r}`)).data}async updatePlaylist(r,s){return(await ae.put(`/media/playlists/${r}`,s)).data}async deletePlaylist(r){await ae.delete(`/media/playlists/${r}`)}async addMediaToPlaylist(r,s){await ae.post(`/media/playlists/${r}/media/${s}`)}async removeMediaFromPlaylist(r,s){await ae.delete(`/media/playlists/${r}/media/${s}`)}}const gr=new Uu,ls={video:"Vido",audio:"Audio",document:"Document",image:"Image"},Fa={video:"",audio:"",document:"",image:""},fr={meditation:"Mditation",coaching:"Coaching",replay:"Replay",tutorial:"Tutoriel",strategy:"Stratgie",other:"Autre"},Da={meditation:"bg-purple-100 text-purple-800 dark:bg-purple-900/20 dark:text-purple-300",coaching:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300",replay:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",tutorial:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300",strategy:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300",other:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"};function Hu(){const{user:t}=ze(),[r,s]=c.useState([]),[a,n]=c.useState(!0),[i,l]=c.useState(!1),[o,d]=c.useState(null),[m,x]=c.useState(!1),[h,p]=c.useState(null),[g,u]=c.useState(null),[b,j]=c.useState(""),[R,k]=c.useState(null),[S,$]=c.useState(""),[q,C]=c.useState(""),[P,y]=c.useState("coaching"),[v,N]=c.useState(!1),[_,w]=c.useState(""),[E,I]=c.useState(!1),[J,V]=c.useState(0),[O,F]=c.useState(""),A=(t==null?void 0:t.role)==="COACH"||(t==null?void 0:t.role)==="MANAGER";c.useEffect(()=>{U()},[h,g]);const U=async()=>{n(!0);try{const M=await gr.getMedia({media_type:h||void 0,category:g||void 0,search:b||void 0});s(M.media)}catch(M){console.error("Failed to load media:",M)}finally{n(!1)}},T=()=>{U()},z=M=>{M.target.files&&M.target.files[0]&&(k(M.target.files[0]),S||$(M.target.files[0].name.replace(/\.[^/.]+$/,"")))},L=M=>M.startsWith("video/")?"video":M.startsWith("audio/")?"audio":M.startsWith("image/")?"image":"document",Z=async M=>{var B,Q;if(M.preventDefault(),!!R){I(!0),F(""),V(0);try{V(30);const se=await gr.uploadFile(R);V(70),await gr.createMedia({title:S,description:q||void 0,media_type:L(R.type),category:P,file_url:se.file_url,file_name:se.file_name,file_size:se.file_size,mime_type:se.mime_type,is_public:v,tags:_||void 0}),V(100),k(null),$(""),C(""),y("coaching"),N(!1),w(""),l(!1),await U()}catch(se){F(((Q=(B=se.response)==null?void 0:B.data)==null?void 0:Q.detail)||"Erreur lors du tlchargement")}finally{I(!1),V(0)}}},D=async M=>{if(confirm("tes-vous sr de vouloir supprimer ce mdia ?"))try{await gr.deleteMedia(M),await U()}catch(B){console.error("Failed to delete media:",B),alert("Erreur lors de la suppression")}},Y=M=>{d(M),x(!0)},me=M=>M?M<1024?`${M} B`:M<1024*1024?`${(M/1024).toFixed(1)} KB`:`${(M/(1024*1024)).toFixed(1)} MB`:"N/A";return a?e.jsx(Re,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Chargement..."})]})}):e.jsx(Re,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-secondary rounded-xl p-8 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Mdiathque"}),e.jsx("p",{className:"text-primary-100",children:"Vidos, audios, documents de coaching et mditation"})]}),A&&e.jsx(G,{variant:"accent",size:"lg",onClick:()=>l(!0),children:"+ Tlcharger un fichier"})]})}),e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ke,{type:"text",value:b,onChange:M=>j(M.target.value),placeholder:"Rechercher...",onKeyPress:M=>{M.key==="Enter"&&T()}}),e.jsx(G,{variant:"primary",onClick:T,children:"Rechercher"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Type de mdia"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(G,{variant:h===null?"primary":"outline",size:"sm",onClick:()=>p(null),children:"Tous"}),Object.entries(ls).map(([M,B])=>e.jsxs(G,{variant:h===M?"primary":"outline",size:"sm",onClick:()=>p(M),children:[Fa[M]," ",B]},M))]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Catgorie"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(G,{variant:g===null?"primary":"outline",size:"sm",onClick:()=>u(null),children:"Toutes"}),Object.entries(fr).map(([M,B])=>e.jsx(G,{variant:g===M?"primary":"outline",size:"sm",onClick:()=>u(M),children:B},M))]})]})]})})}),i&&A&&e.jsxs(X,{children:[e.jsx(ce,{title:" Tlcharger un fichier"}),e.jsxs(K,{children:[O&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:O})}),e.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Fichier *"}),e.jsx("input",{type:"file",onChange:z,accept:"video/*,audio/*,application/pdf,image/*",required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-900 dark:text-white"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formats accepts: Vido (mp4, webm), Audio (mp3, wav), PDF, Images (jpg, png)"})]}),e.jsx(ke,{label:"Titre *",type:"text",value:S,onChange:M=>$(M.target.value),placeholder:"Titre du mdia",required:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:q,onChange:M=>C(M.target.value),placeholder:"Description du mdia...",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Catgorie *"}),e.jsx("select",{value:P,onChange:M=>y(M.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-900 dark:text-white",children:Object.entries(fr).map(([M,B])=>e.jsx("option",{value:M,children:B},M))})]}),e.jsx(ke,{label:"Tags (spars par des virgules)",type:"text",value:_,onChange:M=>w(M.target.value),placeholder:"mental, gameplay, stratgie"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_public",checked:v,onChange:M=>N(M.target.checked),className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),e.jsx("label",{htmlFor:"is_public",className:"text-sm text-gray-700 dark:text-gray-300",children:"Visible par tous les joueurs"})]}),E&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tlchargement..."}),e.jsxs("span",{className:"font-semibold text-primary-600",children:[J,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:`${J}%`}})})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(G,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Annuler"}),e.jsx(G,{type:"submit",variant:"primary",isLoading:E,children:"Tlcharger"})]})]})]})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Bibliothque",subtitle:`${r.length} mdias`}),e.jsx(K,{children:r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Aucun mdia pour le moment"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:A?"Commence  tlcharger des ressources !":"Les ressources seront bientt disponibles."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(M=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"relative mb-3",children:[M.thumbnail_url?e.jsx("img",{src:M.thumbnail_url,alt:M.title,className:"w-full h-40 object-cover rounded"}):e.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-primary-100 to-secondary/20 dark:from-primary-900/20 dark:to-secondary/10 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-6xl",children:Fa[M.media_type]})}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(Ee,{className:Da[M.category],size:"sm",children:fr[M.category]})})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:M.title}),M.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:M.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("span",{children:ls[M.media_type]}),e.jsx("span",{children:""}),e.jsx("span",{children:me(M.file_size)}),e.jsx("span",{children:""}),e.jsxs("span",{children:[M.view_count," vues"]})]}),e.jsxs("div",{className:"flex gap-2",children:[(M.media_type==="video"||M.media_type==="audio")&&e.jsx(G,{variant:"primary",size:"sm",fullWidth:!0,onClick:()=>Y(M),children:" Lire"}),M.media_type==="document"&&e.jsx(G,{variant:"primary",size:"sm",fullWidth:!0,onClick:()=>window.open(M.file_url,"_blank"),children:" Ouvrir"}),M.media_type==="image"&&e.jsx(G,{variant:"primary",size:"sm",fullWidth:!0,onClick:()=>Y(M),children:" Voir"}),A&&e.jsx(G,{variant:"danger",size:"sm",onClick:()=>D(M.id),children:""})]})]},M.id))})})]}),m&&o&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o.title}),e.jsx("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:""})]}),e.jsxs("div",{className:"mb-4",children:[o.media_type==="video"&&e.jsx("video",{controls:!0,className:"w-full rounded-lg",src:o.file_url,children:"Votre navigateur ne supporte pas la vido."}),o.media_type==="audio"&&e.jsx("audio",{controls:!0,className:"w-full",src:o.file_url,children:"Votre navigateur ne supporte pas l'audio."}),o.media_type==="image"&&e.jsx("img",{src:o.file_url,alt:o.title,className:"w-full rounded-lg"})]}),o.description&&e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:o.description}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(Ee,{className:Da[o.category],children:fr[o.category]}),e.jsx(Ee,{variant:"secondary",children:ls[o.media_type]})]})]})})})]})})}function zu(){const{user:t}=ze(),[r,s]=c.useState([]),[a,n]=c.useState(null),[i,l]=c.useState(null),[o,d]=c.useState(null),[m,x]=c.useState(!0),[h,p]=c.useState(30);c.useEffect(()=>{g()},[h]);const g=async()=>{x(!0);try{const[S,$,q,C]=await Promise.all([gt.getMyStats(),Ot.getMyStats(),Ke.getMyJournalStats(h),Ke.getMyGoalStats()]);s(S),n($),l(q),d(C)}catch(S){console.error("Failed to load analytics:",S)}finally{x(!1)}};if(m)return e.jsx(Re,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Chargement des statistiques..."})]})});const u=r.filter(S=>S.progression!==null).map(S=>({name:S.exercise_name.substring(0,20),progression:S.progression})).slice(0,10),b=i?Object.entries(i.mood_distribution).map(([S,$])=>({name:S,value:$})):[],j={excellent:"#10b981",good:"#3b82f6",neutral:"#6b7280",low:"#f59e0b",bad:"#ef4444"},R=a?[{name:"Compltes",value:a.completed_sessions},{name:" venir",value:a.upcoming_sessions},{name:"Annules",value:a.cancelled_sessions}]:[],k=["#10b981","#3b82f6","#ef4444"];return e.jsx(Re,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-secondary rounded-xl p-8 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Analytics & Progression"}),e.jsx("p",{className:"text-primary-100",children:"Vue d'ensemble de tes performances"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(G,{variant:h===7?"accent":"outline",size:"sm",onClick:()=>p(7),children:"7 jours"}),e.jsx(G,{variant:h===30?"accent":"outline",size:"sm",onClick:()=>p(30),children:"30 jours"}),e.jsx(G,{variant:h===90?"accent":"outline",size:"sm",onClick:()=>p(90),children:"90 jours"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Exercices complts"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.reduce((S,$)=>S+$.total_attempts,0)}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[r.filter(S=>S.total_attempts>0).length," exercices diffrents"]})]})}),a&&e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Heures d'entranement"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[a.total_hours,"h"]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Assiduit: ",a.attendance_rate,"%"]})]})}),i&&e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Entres journal"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:i.total_entries}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["nergie moy: ",i.avg_energy_level||"N/A","/10"]})]})}),o&&e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Objectifs complts"}),e.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:[o.completed_goals,"/",o.total_goals]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Taux: ",o.completion_rate,"%"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.length>0&&e.jsxs(X,{children:[e.jsx(ce,{title:" Progression Exercices Cognitifs",subtitle:"Top 10 exercices"}),e.jsx(K,{children:e.jsx(kr,{width:"100%",height:300,children:e.jsxs(ii,{data:u,children:[e.jsx(Ua,{strokeDasharray:"3 3"}),e.jsx(Ha,{dataKey:"name",angle:-45,textAnchor:"end",height:100}),e.jsx(za,{label:{value:"Progression (%)",angle:-90,position:"insideLeft"}}),e.jsx(Sr,{}),e.jsx(li,{dataKey:"progression",fill:"#1c3049"})]})})})]}),a&&a.total_sessions>0&&e.jsxs(X,{children:[e.jsx(ce,{title:" Rpartition Sessions",subtitle:`${a.total_sessions} sessions totales`}),e.jsx(K,{children:e.jsx(kr,{width:"100%",height:300,children:e.jsxs(Bs,{children:[e.jsx(Gs,{data:R,cx:"50%",cy:"50%",labelLine:!1,label:({name:S,percent:$})=>`${S}: ${($*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:R.map((S,$)=>e.jsx(Ws,{fill:k[$%k.length]},`cell-${$}`))}),e.jsx(Sr,{})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.length>0&&e.jsxs(X,{children:[e.jsx(ce,{title:" Distribution Humeur",subtitle:`${h} derniers jours`}),e.jsx(K,{children:e.jsx(kr,{width:"100%",height:300,children:e.jsxs(Bs,{children:[e.jsx(Gs,{data:b,cx:"50%",cy:"50%",labelLine:!1,label:({name:S,percent:$})=>`${S}: ${($*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:b.map((S,$)=>e.jsx(Ws,{fill:j[S.name]||"#6b7280"},`cell-${$}`))}),e.jsx(Sr,{})]})})})]}),i&&i.total_entries>0&&e.jsxs(X,{children:[e.jsx(ce,{title:" Mtriques Journal",subtitle:`${h} derniers jours`}),e.jsx(K,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Niveau d'nergie moyen"}),e.jsxs("span",{className:"font-semibold text-blue-600",children:[i.avg_energy_level||"N/A","/10"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${(i.avg_energy_level||0)*10}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Qualit entranement moyenne"}),e.jsxs("span",{className:"font-semibold text-green-600",children:[i.avg_training_quality||"N/A","/10"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${(i.avg_training_quality||0)*10}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Sommeil moyen"}),e.jsxs("span",{className:"font-semibold text-purple-600",children:[i.avg_sleep_hours||"N/A","h / nuit"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${(i.avg_sleep_hours||0)/12*100}%`}})})]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Total entres"}),e.jsx("p",{className:"text-2xl font-bold text-primary-600",children:i.total_entries})]})]})})]})]}),e.jsxs(X,{children:[e.jsx(ce,{title:" Insights & Recommandations"}),e.jsx(K,{children:e.jsxs("div",{className:"space-y-3",children:[r.length>0&&e.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:[e.jsx("strong",{children:" Exercices cognitifs:"})," Tu as complt"," ",r.reduce((S,$)=>S+$.total_attempts,0)," tentatives sur ",r.filter(S=>S.total_attempts>0).length," exercices diffrents. Continue comme a !"]})}),a&&a.attendance_rate>=80&&e.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-900 dark:text-green-100",children:[e.jsx("strong",{children:" Assiduit excellente:"})," Ton taux de prsence est de"," ",a.attendance_rate,"% ! Tu as accumul ",a.total_hours,"h d'entranement."]})}),i&&i.avg_energy_level&&i.avg_energy_level<5&&e.jsx("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-orange-900 dark:text-orange-100",children:[e.jsx("strong",{children:" Niveau d'nergie faible:"})," Ton nergie moyenne est de"," ",i.avg_energy_level,"/10. Pense  te reposer et  bien dormir !"]})}),o&&o.in_progress_goals===0&&o.total_goals>0&&e.jsx("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-purple-900 dark:text-purple-100",children:[e.jsx("strong",{children:" Flicitations:"})," Tu as complt tous tes objectifs (",o.completed_goals,"/",o.total_goals,") ! Dfinis-en de nouveaux pour continuer  progresser."]})}),r.length===0&&(!a||a.total_sessions===0)&&(!i||i.total_entries===0)&&e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:" Bienvenue !"})," Commence  utiliser la plateforme pour voir tes statistiques ici. Essaie les exercices cognitifs, rserve des sessions, ou tiens ton journal !"]})})]})})]})]})})}class Bu{async createAssignment(r){return(await ae.post("/assignments",r)).data}async deleteAssignment(r){await ae.delete(`/assignments/${r}`)}async getMyAssignments(r){return(await ae.get("/assignments/my-assignments",{params:r})).data}async getPlayerAssignments(r,s){return(await ae.get(`/assignments/player/${r}`,{params:s})).data}async getMyCreatedAssignments(r){return(await ae.get("/assignments/my-created",{params:r})).data}async getAssignmentById(r){return(await ae.get(`/assignments/${r}`)).data}async updateAssignment(r,s){return(await ae.put(`/assignments/${r}`,s)).data}async recordAttempt(r){return(await ae.post(`/assignments/${r}/attempt`)).data}async getMyStats(){return(await ae.get("/assignments/stats/me")).data}async getPlayerStats(r){return(await ae.get(`/assignments/stats/player/${r}`)).data}}const Cs=new Bu,Gu={pending:" faire",in_progress:"En cours",completed:"Complt",skipped:"Ignor"},Wu={pending:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",in_progress:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300",completed:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",skipped:"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300"},Vu=()=>{const t=tt(),{data:r=[],isLoading:s}=Tt("myAssignments",()=>Cs.getMyAssignments({include_completed:!1})),{data:a}=Tt("myAssignmentStats",()=>Cs.getMyStats()),{data:n=[],isLoading:i}=Tt("myGoals",()=>Ke.getMyGoals({is_completed:!1})),{data:l}=Tt("myGoalStats",()=>Ke.getMyGoalStats()),{data:o=[],isLoading:d}=Tt("exercises",()=>gt.getExercises());return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-6 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Exercices Assigns"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:(a==null?void 0:a.total_assignments)||0})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:""})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-6 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Taux de Compltion"}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:[a!=null&&a.completion_rate?Math.round(a.completion_rate):0,"%"]})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:""})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-6 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Objectifs Actifs"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:(l==null?void 0:l.in_progress_goals)||0})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:""})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-6 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"En Retard"}),e.jsx("p",{className:"text-3xl font-bold text-red-600 dark:text-red-400 mt-1",children:(a==null?void 0:a.overdue)||0})]}),e.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:""})})]})})]}),r.length>0&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-6 border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Exercices Assigns par le Coach"})}),s?e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})}):e.jsx("div",{className:"space-y-4",children:r.slice(0,5).map(m=>e.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-primary dark:hover:border-primary transition-colors cursor-pointer bg-white dark:bg-gray-800",onClick:()=>t(`/exercises/${m.exercise_id}`),children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:m.title||m.exercise_name}),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${Wu[m.status]}`,children:Gu[m.status]}),m.is_mandatory&&e.jsx("span",{className:"text-xs px-2 py-1 rounded bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-300",children:"Obligatoire"})]}),m.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:m.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-500",children:[m.due_date&&e.jsxs("span",{children:[" chance: ",new Date(m.due_date).toLocaleDateString()]}),m.target_score&&e.jsxs("span",{children:[" Objectif: ",m.target_score]}),e.jsxs("span",{children:[" Tentatives: ",m.attempts_count]})]})]})})},m.id))})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Mes Objectifs Actifs"}),e.jsx("button",{onClick:()=>t("/goals"),className:"text-primary hover:text-primary-dark dark:text-primary-400 dark:hover:text-primary-300 text-sm font-medium",children:"Voir tout "})]}),i?e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})}):n.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Aucun objectif actif pour le moment"}),e.jsx("button",{onClick:()=>t("/goals"),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors",children:"Crer un objectif"})]}):e.jsx("div",{className:"space-y-4",children:n.slice(0,3).map(m=>{const x=Ss.find(h=>h.value===m.category);return e.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4 hover:border-primary dark:hover:border-primary transition-colors cursor-pointer bg-white dark:bg-gray-800",onClick:()=>t("/goals"),children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[x&&e.jsx("span",{className:"text-xl",children:x.emoji}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:m.title})]}),m.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:m.description}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:`${m.progress_percentage}%`}})}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[m.progress_percentage,"% complt"]})]})})},m.id)})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>t("/journal"),className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-6 hover:shadow-lg transition-shadow text-left border border-gray-200 dark:border-gray-700 hover:border-primary dark:hover:border-primary",children:[e.jsx("div",{className:"text-3xl mb-3",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Journal Quotidien"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enregistrer votre progression et votre ressenti"})]}),e.jsxs("button",{onClick:()=>t("/goals"),className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-6 hover:shadow-lg transition-shadow text-left border border-gray-200 dark:border-gray-700 hover:border-primary dark:hover:border-primary",children:[e.jsx("div",{className:"text-3xl mb-3",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Mes Objectifs"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Suivre et grer vos objectifs personnels"})]}),e.jsxs("button",{onClick:()=>t("/exercises"),className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-6 hover:shadow-lg transition-shadow text-left border border-gray-200 dark:border-gray-700 hover:border-primary dark:hover:border-primary",children:[e.jsx("div",{className:"text-3xl mb-3",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Tous les Exercices"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Explorer la bibliothque complte"})]})]})]})},Qu=({isOpen:t,onClose:r,player:s,exercises:a})=>{const n=Br(),[i,l]=c.useState(null),[o,d]=c.useState(""),[m,x]=c.useState(""),[h,p]=c.useState(""),[g,u]=c.useState(""),[b,j]=c.useState(5),[R,k]=c.useState(!1),[S,$]=c.useState(""),q=Hi(y=>Cs.createAssignment(y),{onSuccess:()=>{n.invalidateQueries("myCreatedAssignments"),n.invalidateQueries("myAssignments"),C()},onError:y=>{var v,N;$(((N=(v=y.response)==null?void 0:v.data)==null?void 0:N.detail)||"Erreur lors de l'assignation")}}),C=()=>{l(null),d(""),x(""),p(""),u(""),j(5),k(!1),$(""),r()},P=y=>{if(y.preventDefault(),!i){$("Veuillez slectionner un exercice");return}const v={exercise_id:i,player_id:s.id,title:o||void 0,description:m||void 0,target_score:h||void 0,due_date:g||void 0,priority:b,is_mandatory:R};q.mutate(v)};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Assigner un exercice  ",s.username]})}),e.jsxs("form",{onSubmit:P,className:"p-6 space-y-6",children:[S&&e.jsx("div",{className:"bg-red-100 dark:bg-red-900/20 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-400 px-4 py-3 rounded",children:S}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Exercice ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:i||"",onChange:y=>l(Number(y.target.value)),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:"Slectionner un exercice"}),a.map(y=>e.jsxs("option",{value:y.id,children:[y.name," (",y.category,")"]},y.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Titre personnalis (optionnel)"}),e.jsx("input",{type:"text",value:o,onChange:y=>d(y.target.value),placeholder:"Laisser vide pour utiliser le nom de l'exercice",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Instructions / Notes"}),e.jsx("textarea",{value:m,onChange:y=>x(y.target.value),rows:3,placeholder:"Ajouter des instructions spcifiques pour le joueur...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Objectif de score"}),e.jsx("input",{type:"text",value:h,onChange:y=>p(y.target.value),placeholder:"Ex: < 300ms, > 80%, 100 points",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date limite"}),e.jsx("input",{type:"date",value:g,onChange:y=>u(y.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Priorit: ",b,"/10"]}),e.jsx("input",{type:"range",min:"0",max:"10",value:b,onChange:y=>j(Number(y.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400 mt-1",children:[e.jsx("span",{children:"Faible"}),e.jsx("span",{children:"Moyenne"}),e.jsx("span",{children:"Haute"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"mandatory",checked:R,onChange:y=>k(y.target.checked),className:"w-4 h-4 text-primary border-gray-300 dark:border-gray-600 rounded focus:ring-primary"}),e.jsx("label",{htmlFor:"mandatory",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Exercice obligatoire"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:C,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Annuler"}),e.jsx("button",{type:"submit",disabled:q.isLoading,className:"flex-1 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:q.isLoading?"Assignment...":"Assigner"})]})]})]})}):null},Yu=()=>{const t=tt();Br();const[r,s]=c.useState(""),[a,n]=c.useState("all"),[i,l]=c.useState(null),[o,d]=c.useState(!1),{data:m=[],isLoading:x}=Tt("allUsers",()=>rt.getAllUsers()),{data:h=[]}=Tt("exercises",()=>gt.getExercises()),p=m.filter(u=>{const b=a==="all"||u.role===a,j=!r||u.username.toLowerCase().includes(r.toLowerCase())||u.email.toLowerCase().includes(r.toLowerCase());return b&&j}),g=u=>{l(u),d(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-6 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Joueurs"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:m.filter(u=>u.role===he.PLAYER).length})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:""})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-6 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Actifs"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:m.filter(u=>u.is_active).length})]}),e.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:""})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-6 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Exercices"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:h.length})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:""})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-6 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Coaches"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mt-1",children:m.filter(u=>u.role===he.COACH).length})]}),e.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/20 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:""})})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-6 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Gestion des Joueurs"}),e.jsx("button",{onClick:()=>t("/users"),className:"text-primary hover:text-primary-dark dark:text-primary-400 dark:hover:text-primary-300 text-sm font-medium",children:"Gestion avance "})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Rechercher un joueur...",value:r,onChange:u=>s(u.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-primary focus:border-transparent"})}),e.jsxs("select",{value:a,onChange:u=>n(u.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[e.jsx("option",{value:"all",children:"Tous les rles"}),e.jsx("option",{value:he.PLAYER,children:"Joueurs"}),e.jsx("option",{value:he.COACH,children:"Coaches"}),e.jsx("option",{value:he.MANAGER,children:"Managers"})]})]}),x?e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"})}):p.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun utilisateur trouv"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Joueur"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Email"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Rle"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Statut"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Actions"})]})}),e.jsx("tbody",{children:p.map(u=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-primary to-secondary rounded-full flex items-center justify-center text-white font-bold",children:u.username.charAt(0).toUpperCase()}),e.jsx("div",{children:e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:u.username})})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:u.email})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300",children:u.role})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u.is_active?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-300":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-300"}`,children:u.is_active?"Actif":"Inactif"})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:"flex items-center justify-end gap-2",children:e.jsx("button",{onClick:()=>g(u),className:"text-primary hover:text-primary-dark dark:text-primary-400 dark:hover:text-primary-300 text-sm font-medium",children:"Assigner exercice"})})})]},u.id))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>t("/calendar"),className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-6 hover:shadow-lg transition-shadow text-left border border-gray-200 dark:border-gray-700 hover:border-primary dark:hover:border-primary",children:[e.jsx("div",{className:"text-3xl mb-3",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Planifier Session"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Crer une nouvelle session d'entranement"})]}),e.jsxs("button",{onClick:()=>t("/reports"),className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-6 hover:shadow-lg transition-shadow text-left border border-gray-200 dark:border-gray-700 hover:border-primary dark:hover:border-primary",children:[e.jsx("div",{className:"text-3xl mb-3",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Rapports"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gnrer des rapports de progression"})]}),e.jsxs("button",{onClick:()=>t("/exercises"),className:"bg-white dark:bg-gray-800 rounded-xl shadow-soft p-6 hover:shadow-lg transition-shadow text-left border border-gray-200 dark:border-gray-700 hover:border-primary dark:hover:border-primary",children:[e.jsx("div",{className:"text-3xl mb-3",children:""}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Exercices"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Grer la bibliothque d'exercices"})]})]}),i&&e.jsx(Qu,{isOpen:o,onClose:()=>{d(!1),l(null)},player:i,exercises:h})]})},Ju=()=>{const{user:t}=ze();tt();const[r,s]=c.useState("player"),a=(t==null?void 0:t.role)===he.COACH||(t==null?void 0:t.role)===he.MANAGER;return e.jsx(Re,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-secondary rounded-xl p-8 text-white shadow-lg",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Espace Coaching"}),e.jsx("p",{className:"text-primary-100",children:a?"Grez vos joueurs et suivez leur progression":"Suivez vos exercices assigns et votre progression"})]}),a&&e.jsxs("div",{className:"flex gap-2 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("button",{onClick:()=>s("player"),className:`px-6 py-3 font-medium transition-colors ${r==="player"?"border-b-2 border-primary text-primary":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Ma Progression"}),e.jsx("button",{onClick:()=>s("coach"),className:`px-6 py-3 font-medium transition-colors ${r==="coach"?"border-b-2 border-primary text-primary":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Gestion Coaching"})]}),r==="player"?e.jsx(Vu,{}):e.jsx(Yu,{})]})})},os={async getPreferences(){return(await ae.get("/notifications/preferences")).data},async updatePreferences(t){return(await ae.put("/notifications/preferences",t)).data},async resetPreferences(){return(await ae.post("/notifications/preferences/reset")).data}};function Xu(){const[t,r]=c.useState(null),[s,a]=c.useState("profile"),[n,i]=c.useState(!0),[l,o]=c.useState(!1),[d,m]=c.useState(null),[x,h]=c.useState({full_name:"",bio:"",avatar_url:"",game_username:"",game_uid:"",preferred_role:"",secondary_role:"",skill_level:"",discord_username:""}),[p,g]=c.useState({current_password:"",new_password:""}),[u,b]=c.useState(""),[j,R]=c.useState(!1),[k,S]=c.useState(!1),[$,q]=c.useState(!1),[C,P]=c.useState(null),[y,v]=c.useState(!1);c.useEffect(()=>{N()},[]),c.useEffect(()=>{s==="notifications"&&!C&&E()},[s]);const N=async()=>{var F,A;try{i(!0);const U=await Ve.getCurrentUser();r(U),h({full_name:U.full_name||"",bio:U.bio||"",avatar_url:U.avatar_url||"",game_username:U.game_username||"",game_uid:U.game_uid||"",preferred_role:U.preferred_role||"",secondary_role:U.secondary_role||"",skill_level:U.skill_level||"",discord_username:U.discord_username||""})}catch(U){m({type:"error",text:((A=(F=U.response)==null?void 0:F.data)==null?void 0:A.detail)||"Erreur lors du chargement du profil"})}finally{i(!1)}},_=async F=>{var A,U;F.preventDefault(),o(!0),m(null);try{const T=await rt.updateMyProfile(x);r(T),m({type:"success",text:"Profil mis  jour avec succs"})}catch(T){m({type:"error",text:((U=(A=T.response)==null?void 0:A.data)==null?void 0:U.detail)||"Erreur lors de la mise  jour"})}finally{o(!1)}},w=async F=>{var A,U;if(F.preventDefault(),o(!0),m(null),p.new_password!==u){m({type:"error",text:"Les mots de passe ne correspondent pas"}),o(!1);return}try{await rt.changePassword(p),m({type:"success",text:"Mot de passe modifi avec succs"}),g({current_password:"",new_password:""}),b("")}catch(T){m({type:"error",text:((U=(A=T.response)==null?void 0:A.data)==null?void 0:U.detail)||"Erreur lors du changement de mot de passe"})}finally{o(!1)}},E=async()=>{var F,A;try{v(!0);const U=await os.getPreferences();P(U)}catch(U){m({type:"error",text:((A=(F=U.response)==null?void 0:F.data)==null?void 0:A.detail)||"Erreur lors du chargement des prfrences"})}finally{v(!1)}},I=async F=>{var A,U;if(C)try{const T=!C[F],z={[F]:T},L=await os.updatePreferences(z);P(L),m({type:"success",text:"Prfrences mises  jour"}),setTimeout(()=>m(null),2e3)}catch(T){m({type:"error",text:((U=(A=T.response)==null?void 0:A.data)==null?void 0:U.detail)||"Erreur lors de la mise  jour"})}},J=async()=>{var F,A;if(confirm("Ractiver toutes les notifications ?"))try{o(!0);const U=await os.resetPreferences();P(U),m({type:"success",text:"Toutes les notifications ont t ractives"})}catch(U){m({type:"error",text:((A=(F=U.response)==null?void 0:F.data)==null?void 0:A.detail)||"Erreur lors de la rinitialisation"})}finally{o(!1)}},V=F=>{switch(F){case he.MANAGER:return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300";case he.COACH:return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300";default:return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}},O=F=>{switch(F){case he.MANAGER:return"Manager";case he.COACH:return"Coach";default:return"Joueur"}};return n?e.jsx(Re,{children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):t?e.jsx(Re,{children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-xl p-8 mb-8 shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-6",children:[t.avatar_url?e.jsx("img",{src:t.avatar_url,alt:t.username,className:"w-20 h-20 rounded-full border-4 border-white/30 object-cover"}):e.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center text-4xl font-bold",children:t.username.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.full_name||t.username}),e.jsxs("p",{className:"text-primary-100",children:["@",t.username,"  ",t.email]}),e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${V(t.role)}`,children:O(t.role)}),t.is_super_admin&&e.jsx("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",children:" Super Admin"})]})]})]})}),d&&e.jsx("div",{className:`mb-6 p-4 rounded-lg ${d.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-600 dark:text-green-400":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400"}`,children:d.text}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700",children:[e.jsx("button",{onClick:()=>a("profile"),className:`flex-1 px-6 py-4 font-medium transition-colors ${s==="profile"?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400 border-b-2 border-primary-600":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:" Mon profil"}),e.jsx("button",{onClick:()=>a("password"),className:`flex-1 px-6 py-4 font-medium transition-colors ${s==="password"?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400 border-b-2 border-primary-600":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:" Mot de passe"}),e.jsx("button",{onClick:()=>a("notifications"),className:`flex-1 px-6 py-4 font-medium transition-colors ${s==="notifications"?"bg-primary-50 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400 border-b-2 border-primary-600":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,children:" Notifications"})]}),s==="profile"&&e.jsxs("form",{onSubmit:_,className:"p-6 space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Informations personnelles"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ke,{label:"Nom complet",type:"text",value:x.full_name||"",onChange:F=>h({...x,full_name:F.target.value}),placeholder:"Prnom Nom"}),e.jsx(ke,{label:"Pseudo Discord",type:"text",value:x.discord_username||"",onChange:F=>h({...x,discord_username:F.target.value}),placeholder:"VotrePseudo#1234"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),e.jsx("textarea",{value:x.bio||"",onChange:F=>h({...x,bio:F.target.value}),placeholder:"Parlez-nous de vous...",rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-900 dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Photo de profil"}),e.jsx(Ec,{currentAvatar:x.avatar_url,onUploadSuccess:F=>{h({...x,avatar_url:F}),t&&r({...t,avatar_url:F})},onUploadError:F=>{m({type:"error",text:F})}})]}),(t.role===he.JOUEUR||t.role===he.COACH||t.role===he.MANAGER)&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white border-t border-gray-200 dark:border-gray-700 pt-6",children:" Profil Gaming"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ke,{label:"Pseudo HOK (Honor of Kings)",type:"text",value:x.game_username||"",onChange:F=>h({...x,game_username:F.target.value}),placeholder:"VotrePseudoHOK"}),e.jsx(ke,{label:"UID HOK (Player ID)",type:"text",value:x.game_uid||"",onChange:F=>h({...x,game_uid:F.target.value}),placeholder:"123456789"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rle en jeu prfr"}),e.jsxs("select",{value:x.preferred_role||"",onChange:F=>h({...x,preferred_role:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Slectionner..."}),e.jsx("option",{value:"Roam/Support",children:"Roam/Support"}),e.jsx("option",{value:"ADC",children:"ADC"}),e.jsx("option",{value:"Jungle",children:"Jungle"}),e.jsx("option",{value:"Clash Lane",children:"Clash Lane"}),e.jsx("option",{value:"Mid Lane",children:"Mid Lane"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rle secondaire"}),e.jsxs("select",{value:x.secondary_role||"",onChange:F=>h({...x,secondary_role:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Slectionner..."}),e.jsx("option",{value:"Roam/Support",children:"Roam/Support"}),e.jsx("option",{value:"ADC",children:"ADC"}),e.jsx("option",{value:"Jungle",children:"Jungle"}),e.jsx("option",{value:"Clash Lane",children:"Clash Lane"}),e.jsx("option",{value:"Mid Lane",children:"Mid Lane"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Niveau de comptence"}),e.jsxs("select",{value:x.skill_level||"",onChange:F=>h({...x,skill_level:F.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Slectionner..."}),e.jsx("option",{value:"Dbutant",children:"Dbutant"}),e.jsx("option",{value:"Intermdiaire",children:"Intermdiaire"}),e.jsx("option",{value:"Avanc",children:"Avanc"}),e.jsx("option",{value:"Expert",children:"Expert"})]})]})})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Informations systme"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Rle plateforme:"}),e.jsx("div",{className:"mt-1",children:e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${V(t.role)}`,children:O(t.role)})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Membre depuis:"}),e.jsx("div",{className:"mt-1 text-gray-900 dark:text-white font-medium",children:new Date(t.created_at).toLocaleDateString("fr-FR")})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsx(G,{type:"submit",variant:"primary",isLoading:l,children:" Enregistrer les modifications"})})]}),s==="password"&&e.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:[e.jsx("strong",{children:"Exigences du mot de passe :"}),e.jsx("br",{})," Au moins 8 caractres",e.jsx("br",{})," Au moins 1 chiffre",e.jsx("br",{})," Au moins 1 lettre majuscule"]})}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{label:"Mot de passe actuel",type:j?"text":"password",value:p.current_password,onChange:F=>g({...p,current_password:F.target.value}),placeholder:"Votre mot de passe actuel",required:!0}),e.jsx("button",{type:"button",onClick:()=>R(!j),className:"absolute right-3 top-9 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:j?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{label:"Nouveau mot de passe",type:k?"text":"password",value:p.new_password,onChange:F=>g({...p,new_password:F.target.value}),placeholder:"Votre nouveau mot de passe",required:!0}),e.jsx("button",{type:"button",onClick:()=>S(!k),className:"absolute right-3 top-9 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:k?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ke,{label:"Confirmer le nouveau mot de passe",type:$?"text":"password",value:u,onChange:F=>b(F.target.value),placeholder:"Confirmer le nouveau mot de passe",required:!0}),e.jsx("button",{type:"button",onClick:()=>q(!$),className:"absolute right-3 top-9 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:$?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsx(G,{type:"submit",variant:"primary",isLoading:l,children:" Changer le mot de passe"})})]}),s==="notifications"&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Prfrences de notification par email"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Choisissez les notifications que vous souhaitez recevoir par email"})]}),e.jsx(G,{variant:"secondary",onClick:J,isLoading:l,children:" Tout ractiver"})]}),y?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):C?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:" Sessions d'entranement"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Rt,{label:"Nouvelle session cre",description:"Recevoir un email quand une nouvelle session est cre",checked:C.session_created,onChange:()=>I("session_created")}),e.jsx(Rt,{label:"Invitation  une session",description:"Recevoir un email quand vous tes invit  une session",checked:C.session_invitation,onChange:()=>I("session_invitation")}),e.jsx(Rt,{label:"Rappel de session",description:"Recevoir un rappel avant le dbut d'une session",checked:C.session_reminder,onChange:()=>I("session_reminder")})]})]}),e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:" Exercices"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Rt,{label:"Nouvel exercice assign",description:"Recevoir un email quand un exercice vous est assign",checked:C.exercise_assigned,onChange:()=>I("exercise_assigned")}),e.jsx(Rt,{label:"Performance enregistre",description:"Recevoir un email quand votre performance est enregistre",checked:C.performance_recorded,onChange:()=>I("performance_recorded")})]})]}),e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:" Communication"}),e.jsx("div",{className:"space-y-3",children:e.jsx(Rt,{label:"Message du coach",description:"Recevoir un email quand le coach vous envoie un message",checked:C.coach_message,onChange:()=>I("coach_message")})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:" Systme"}),e.jsx("div",{className:"space-y-3",children:e.jsx(Rt,{label:"Mises  jour du compte",description:"Recevoir les notifications importantes concernant votre compte",checked:C.account_updates,onChange:()=>I("account_updates")})})]})]}):e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:e.jsx("p",{className:"text-yellow-600 dark:text-yellow-400",children:"Impossible de charger les prfrences de notification"})})]})]})]})}):e.jsx(Re,{children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:e.jsx("p",{className:"text-red-600 dark:text-red-400",children:"Erreur de chargement du profil"})})})})}function Rt({label:t,description:r,checked:s,onChange:a}){return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:t}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r})]}),e.jsx("button",{type:"button",onClick:a,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${s?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s?"translate-x-6":"translate-x-1"}`})})]})}function Ku(){const[t,r]=c.useState([]),[s,a]=c.useState(!0),[n,i]=c.useState(!1),[l,o]=c.useState(!1),[d,m]=c.useState(null),[x,h]=c.useState(null),[p,g]=c.useState({email:"",username:"",password:"",full_name:"",bio:"",role:he.JOUEUR,game_username:"",game_uid:"",preferred_role:"",skill_level:"Dbutant"}),[u,b]=c.useState(null),[j,R]=c.useState(!1);c.useEffect(()=>{k(),S()},[]);const k=async()=>{try{const y=await Ve.getCurrentUser();h(y),y.role!==he.COACH&&y.role!==he.MANAGER&&m({type:"error",text:"Accs refus. Cette page est rserve aux coachs et managers."})}catch(y){console.error("Error loading user:",y)}},S=async()=>{var y,v;try{a(!0);const N=await rt.getAllPlayers();r(N)}catch(N){m({type:"error",text:((v=(y=N.response)==null?void 0:y.data)==null?void 0:v.detail)||"Erreur lors du chargement des joueurs"})}finally{a(!1)}},$=async y=>{var v,N;y.preventDefault(),o(!0),m(null);try{await Ve.register(p),m({type:"success",text:`Joueur ${p.username} cr avec succs`}),i(!1),g({email:"",username:"",password:"",full_name:"",bio:"",role:he.JOUEUR,game_username:"",game_uid:"",preferred_role:"",skill_level:"Dbutant"}),await S()}catch(_){m({type:"error",text:((N=(v=_.response)==null?void 0:v.data)==null?void 0:N.detail)||"Erreur lors de la cration du joueur"})}finally{o(!1)}},q=y=>{if(!y)return null;const v={"Roam/Support":"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",ADC:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",Jungle:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300","Clash Lane":"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300","Mid Lane":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"};return e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${v[y]||"bg-gray-100 text-gray-800"}`,children:y})},C=y=>{if(!y)return null;const v={Dbutant:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300",Intermdiaire:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",Avanc:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",Expert:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300"};return e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${v[y]||"bg-gray-100 text-gray-800"}`,children:y})};if(x&&x.role!==he.COACH&&x.role!==he.MANAGER)return e.jsx(Re,{children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-6 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 dark:text-red-400 mb-2",children:"Accs refus"}),e.jsx("p",{className:"text-red-600 dark:text-red-400",children:"Cette page est rserve aux coachs et managers."})]})})});const P=y=>{b(y),R(!0)};return s?e.jsx(Re,{children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})})}):e.jsx(Re,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-xl p-8 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Gestion de l'quipe"}),e.jsx("p",{className:"text-primary-100",children:"Grez les joueurs de La Salade de Fruits"})]}),e.jsx(G,{variant:"secondary",onClick:()=>i(!0),className:"bg-white text-primary-600 hover:bg-primary-50",children:" Ajouter un joueur"})]})}),d&&e.jsx("div",{className:`mb-6 p-4 rounded-lg ${d.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-600 dark:text-green-400":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400"}`,children:d.text}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Joueurs actuels (",t.length,")"]})}),t.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Aucun joueur dans l'quipe"}),e.jsx(G,{variant:"primary",onClick:()=>i(!0),children:"Ajouter le premier joueur"})]}):e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:t.map(y=>e.jsx("div",{className:"p-6 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors cursor-pointer",onClick:()=>P(y),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[y.avatar_url?e.jsx("img",{src:y.avatar_url,alt:y.username,className:"w-16 h-16 rounded-full object-cover border-2 border-primary-600"}):e.jsx("div",{className:"w-16 h-16 rounded-full bg-primary-600 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-white font-bold text-2xl",children:(y.full_name||y.username).charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:y.full_name||y.username}),y.preferred_role&&q(y.preferred_role),y.skill_level&&C(y.skill_level)]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["@",y.username,y.game_username&&`  Pseudo HOK: ${y.game_username}`,y.game_uid&&`  UID: ${y.game_uid}`]}),y.bio&&e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:y.bio}),y.discord_username&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Discord: ",y.discord_username]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2",children:["Membre depuis ",new Date(y.created_at).toLocaleDateString("fr-FR")]})]})]}),e.jsx("div",{className:"text-gray-400 dark:text-gray-500",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},y.id))})]}),n&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"bg-primary-600 text-white p-6 rounded-t-xl",children:e.jsx("h2",{className:"text-2xl font-bold",children:" Ajouter un joueur"})}),e.jsxs("form",{onSubmit:$,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ke,{label:"Email",type:"email",value:p.email,onChange:y=>g({...p,email:y.target.value}),placeholder:"email@example.com",required:!0}),e.jsx(ke,{label:"Nom d'utilisateur",type:"text",value:p.username,onChange:y=>g({...p,username:y.target.value}),placeholder:"PseudoJoueur",required:!0})]}),e.jsx(ke,{label:"Mot de passe temporaire",type:"password",value:p.password,onChange:y=>g({...p,password:y.target.value}),placeholder:"Minimum 8 caractres, 1 chiffre, 1 majuscule",helperText:"Le joueur pourra le changer depuis son profil",required:!0}),e.jsx(ke,{label:"Nom complet",type:"text",value:p.full_name||"",onChange:y=>g({...p,full_name:y.target.value}),placeholder:"Prnom Nom"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(ke,{label:"Pseudo HOK (Honor of Kings)",type:"text",value:p.game_username||"",onChange:y=>g({...p,game_username:y.target.value}),placeholder:"PseudoHOK"}),e.jsx(ke,{label:"UID HOK (Player ID)",type:"text",value:p.game_uid||"",onChange:y=>g({...p,game_uid:y.target.value}),placeholder:"123456789"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rle prfr"}),e.jsxs("select",{value:p.preferred_role||"",onChange:y=>g({...p,preferred_role:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-900 dark:text-white",children:[e.jsx("option",{value:"",children:"Slectionner..."}),e.jsx("option",{value:"Roam/Support",children:"Roam/Support"}),e.jsx("option",{value:"ADC",children:"ADC"}),e.jsx("option",{value:"Jungle",children:"Jungle"}),e.jsx("option",{value:"Clash Lane",children:"Clash Lane"}),e.jsx("option",{value:"Mid Lane",children:"Mid Lane"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Niveau"}),e.jsxs("select",{value:p.skill_level||"Dbutant",onChange:y=>g({...p,skill_level:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-900 dark:text-white",children:[e.jsx("option",{value:"Dbutant",children:"Dbutant"}),e.jsx("option",{value:"Intermdiaire",children:"Intermdiaire"}),e.jsx("option",{value:"Avanc",children:"Avanc"}),e.jsx("option",{value:"Expert",children:"Expert"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),e.jsx("textarea",{value:p.bio||"",onChange:y=>g({...p,bio:y.target.value}),placeholder:"Courte prsentation du joueur...",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-900 dark:text-white"})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(G,{type:"button",variant:"outline",onClick:()=>i(!1),fullWidth:!0,children:"Annuler"}),e.jsx(G,{type:"submit",variant:"primary",isLoading:l,fullWidth:!0,children:"Crer le joueur"})]})]})]})}),j&&u&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-primary-600 to-primary-700 text-white p-6 rounded-t-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[u.avatar_url?e.jsx("img",{src:u.avatar_url,alt:u.username,className:"w-16 h-16 rounded-full border-4 border-white/30 object-cover"}):e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center text-2xl font-bold",children:(u.full_name||u.username).charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:u.full_name||u.username}),e.jsxs("p",{className:"text-primary-100",children:["@",u.username]})]})]}),e.jsx("button",{onClick:()=>R(!1),className:"text-white hover:bg-white/20 rounded-lg p-2 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:" Informations de contact"}),e.jsxs("div",{className:"space-y-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Email:"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:u.email})]}),u.discord_username&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Discord:"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:u.discord_username})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:" Profil Gaming"}),e.jsxs("div",{className:"space-y-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[u.game_username&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Pseudo HOK:"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:u.game_username})]}),u.game_uid&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"UID HOK:"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-mono font-medium",children:u.game_uid})]}),u.preferred_role&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Rle en jeu:"}),q(u.preferred_role)]}),u.skill_level&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Niveau:"}),C(u.skill_level)]})]})]}),u.bio&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:" Biographie"}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:u.bio})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:" Informations systme"}),e.jsxs("div",{className:"space-y-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Rle plateforme:"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:"Joueur"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Membre depuis:"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:new Date(u.created_at).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Statut:"}),e.jsx("span",{className:`font-medium ${u.is_active?"text-green-600":"text-red-600"}`,children:u.is_active?"Actif":"Inactif"})]})]})]}),e.jsx("div",{className:"pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsx(G,{variant:"outline",onClick:()=>R(!1),fullWidth:!0,children:"Fermer"})})]})]})})]})})}function Zu(){const{user:t}=ze(),[r,s]=c.useState(!1),[a,n]=c.useState(null),[i,l]=c.useState({teamName:"SLF Esport",teamDescription:"quipe professionnelle Honor of Kings",teamGoal:"Niveau europen comptitif",weeklyHoursTarget:20,coachingSessionsPerWeek:3,minAttendanceRate:85}),[o,d]=c.useState({emailNotifications:!0,sessionReminders:!0,progressReports:!0,weeklyDigest:!0}),m=async()=>{var h,p;s(!0),n(null);try{await new Promise(g=>setTimeout(g,1e3)),n({type:"success",text:"Paramtres d'quipe sauvegards avec succs"})}catch(g){n({type:"error",text:((p=(h=g.response)==null?void 0:h.data)==null?void 0:p.detail)||"Erreur lors de la sauvegarde des paramtres"})}finally{s(!1)}},x=async()=>{var h,p;s(!0),n(null);try{await new Promise(g=>setTimeout(g,1e3)),n({type:"success",text:"Prfrences de notifications sauvegardes avec succs"})}catch(g){n({type:"error",text:((p=(h=g.response)==null?void 0:h.data)==null?void 0:p.detail)||"Erreur lors de la sauvegarde des notifications"})}finally{s(!1)}};return(t==null?void 0:t.role)!=="MANAGER"&&!(t!=null&&t.is_super_admin)?e.jsx(Re,{children:e.jsx("div",{className:"max-w-2xl mx-auto py-12",children:e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Accs refus"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cette page est rserve aux managers uniquement."})]})})})})}):e.jsx(Re,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl p-8 text-white",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Paramtres d'quipe"}),e.jsx("p",{className:"text-purple-100",children:"Configuration globale de l'quipe SLF Esport"})]}),a&&e.jsx("div",{className:`p-4 rounded-lg ${a.type==="success"?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200"}`,children:a.text}),e.jsxs(X,{children:[e.jsx(ce,{title:"Informations Gnrales",subtitle:"Configuration de base de l'quipe"}),e.jsx(K,{children:e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nom de l'quipe"}),e.jsx(ke,{type:"text",value:i.teamName,onChange:h=>l({...i,teamName:h.target.value}),placeholder:"SLF Esport"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-800 text-gray-900 dark:text-white",rows:3,value:i.teamDescription,onChange:h=>l({...i,teamDescription:h.target.value}),placeholder:"Description de votre quipe..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Objectif principal"}),e.jsx(ke,{type:"text",value:i.teamGoal,onChange:h=>l({...i,teamGoal:h.target.value}),placeholder:"Niveau europen comptitif"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(G,{variant:"primary",onClick:m,disabled:r,children:r?"Sauvegarde...":"Sauvegarder"}),e.jsx(G,{variant:"outline",onClick:()=>window.location.reload(),children:"Annuler"})]})]})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Objectifs d'Entranement",subtitle:"Cibles hebdomadaires pour l'quipe"}),e.jsx(K,{children:e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Heures d'entranement par semaine (par joueur)"}),e.jsx(ke,{type:"number",value:i.weeklyHoursTarget,onChange:h=>l({...i,weeklyHoursTarget:parseInt(h.target.value)}),min:1,max:100})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sessions de coaching par semaine"}),e.jsx(ke,{type:"number",value:i.coachingSessionsPerWeek,onChange:h=>l({...i,coachingSessionsPerWeek:parseInt(h.target.value)}),min:1,max:20})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Taux d'assiduit minimum (%)"}),e.jsx(ke,{type:"number",value:i.minAttendanceRate,onChange:h=>l({...i,minAttendanceRate:parseInt(h.target.value)}),min:0,max:100})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(G,{variant:"primary",onClick:m,disabled:r,children:r?"Sauvegarde...":"Sauvegarder"})})]})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Notifications",subtitle:"Prfrences de notifications pour l'quipe"}),e.jsx(K,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Notifications par email"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Recevoir les notifications importantes par email"})]}),e.jsx("input",{type:"checkbox",checked:o.emailNotifications,onChange:h=>d({...o,emailNotifications:h.target.checked}),className:"w-5 h-5 text-primary-600"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Rappels de session"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rappels avant les sessions d'entranement"})]}),e.jsx("input",{type:"checkbox",checked:o.sessionReminders,onChange:h=>d({...o,sessionReminders:h.target.checked}),className:"w-5 h-5 text-primary-600"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Rapports de progression"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Recevoir les rapports de progression des joueurs"})]}),e.jsx("input",{type:"checkbox",checked:o.progressReports,onChange:h=>d({...o,progressReports:h.target.checked}),className:"w-5 h-5 text-primary-600"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Rsum hebdomadaire"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Recevoir un rsum hebdomadaire des performances"})]}),e.jsx("input",{type:"checkbox",checked:o.weeklyDigest,onChange:h=>d({...o,weeklyDigest:h.target.checked}),className:"w-5 h-5 text-primary-600"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(G,{variant:"primary",onClick:x,disabled:r,children:r?"Sauvegarde...":"Sauvegarder"})})]})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:"Informations Systme",subtitle:"tat et statistiques de la plateforme"}),e.jsx(K,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Version"}),e.jsx(Ee,{variant:"info",size:"sm",children:"v1.0.0"})]})}),e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Statut API"}),e.jsx(Ee,{variant:"success",size:"sm",children:"En ligne"})]})}),e.jsx("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Dernire mise  jour"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Aujourd'hui"})]})})]})})]})]})})}function em(){const{user:t}=ze(),[r,s]=c.useState(!1),[a,n]=c.useState(null),i=async o=>{var d,m;s(!0),n(null);try{await new Promise(x=>setTimeout(x,2e3)),n({type:"success",text:`Rapport "${o}" gnr avec succs. Tlchargement dmarr.`})}catch(x){n({type:"error",text:((m=(d=x.response)==null?void 0:d.data)==null?void 0:m.detail)||"Erreur lors de la gnration du rapport"})}finally{s(!1)}};if((t==null?void 0:t.role)!=="MANAGER"&&(t==null?void 0:t.role)!=="COACH"&&!(t!=null&&t.is_super_admin))return e.jsx(Re,{children:e.jsx("div",{className:"max-w-2xl mx-auto py-12",children:e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Accs refus"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cette page est rserve aux managers et coachs uniquement."})]})})})})});const l=[{title:"Rapports de Progression",description:"Analyses dtailles des performances individuelles et de l'quipe",reports:[{name:"Progression Individuelle",description:"Rapport dtaill de progression pour chaque joueur",icon:"",format:"PDF"},{name:"Progression d'quipe",description:"Vue d'ensemble des performances globales",icon:"",format:"PDF"},{name:"Comparatif Mensuel",description:"Comparaison des performances mois par mois",icon:"",format:"Excel"}]},{title:"Rapports d'Assiduit",description:"Suivi de prsence et engagement",reports:[{name:"Assiduit Hebdomadaire",description:"Taux de prsence aux sessions d'entranement",icon:"",format:"Excel"},{name:"Participation aux Exercices",description:"Dtail de participation par exercice",icon:"",format:"PDF"}]},{title:"Rapports d'Exercices",description:"Statistiques dtailles sur les exercices cognitifs",reports:[{name:"Performance par Catgorie",description:"Scores moyens par catgorie d'exercice",icon:"",format:"Excel"},{name:"Historique des Scores",description:"volution des scores dans le temps",icon:"",format:"CSV"},{name:"Top Performers",description:"Classement des meilleurs joueurs",icon:"",format:"PDF"}]},{title:"Rapports Financiers",description:"Suivi du budget et ROI (Manager uniquement)",reports:[{name:"Budget Mensuel",description:"Dtail des dpenses et investissements",icon:"",format:"Excel",managerOnly:!0},{name:"ROI Progression",description:"Analyse du retour sur investissement",icon:"",format:"PDF",managerOnly:!0}]}];return e.jsx(Re,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 rounded-xl p-8 text-white",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Rapports et Exports"}),e.jsx("p",{className:"text-blue-100",children:"Gnration de rapports dtaills et export de donnes"})]}),a&&e.jsx("div",{className:`p-4 rounded-lg ${a.type==="success"?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200"}`,children:a.text}),e.jsxs(X,{children:[e.jsx(ce,{title:"Actions Rapides",subtitle:"Gnrez rapidement les rapports les plus courants"}),e.jsx(K,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(G,{variant:"primary",onClick:()=>i("Rapport Hebdomadaire Complet"),disabled:r,className:"p-6 h-auto flex flex-col items-center gap-2",children:[e.jsx("span",{className:"text-3xl",children:""}),e.jsx("span",{className:"font-semibold",children:"Rapport Hebdomadaire"}),e.jsx("span",{className:"text-xs opacity-80",children:"Vue complte de la semaine"})]}),e.jsxs(G,{variant:"outline",onClick:()=>i("Export Donnes Brutes"),disabled:r,className:"p-6 h-auto flex flex-col items-center gap-2",children:[e.jsx("span",{className:"text-3xl",children:""}),e.jsx("span",{className:"font-semibold",children:"Export Donnes"}),e.jsx("span",{className:"text-xs opacity-80",children:"Toutes les donnes (CSV)"})]}),e.jsxs(G,{variant:"outline",onClick:()=>i("Rapport Performance Mensuel"),disabled:r,className:"p-6 h-auto flex flex-col items-center gap-2",children:[e.jsx("span",{className:"text-3xl",children:""}),e.jsx("span",{className:"font-semibold",children:"Performance Mensuelle"}),e.jsx("span",{className:"text-xs opacity-80",children:"Analyse du mois"})]})]})})]}),l.map((o,d)=>e.jsxs(X,{children:[e.jsx(ce,{title:o.title,subtitle:o.description}),e.jsx(K,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.reports.map((m,x)=>m.managerOnly&&(t==null?void 0:t.role)!=="MANAGER"&&!(t!=null&&t.is_super_admin)?null:e.jsxs("div",{className:"p-4 border-2 border-gray-200 dark:border-gray-700 rounded-lg hover:border-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/10 transition-all",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("span",{className:"text-3xl",children:m.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:m.name}),e.jsx(Ee,{variant:"info",size:"sm",children:m.format})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:m.description})]})]}),e.jsx(G,{variant:"outline",size:"sm",fullWidth:!0,onClick:()=>i(m.name),disabled:r,children:r?"Gnration...":"Gnrer"})]},x))})})]},d)),e.jsxs(X,{children:[e.jsx(ce,{title:"Historique des Exports",subtitle:"Rapports rcemment gnrs"}),e.jsx(K,{children:e.jsx("div",{className:"space-y-3",children:[{name:"Rapport Hebdomadaire Complet",date:"Aujourd'hui  10:30",format:"PDF",size:"2.4 MB"},{name:"Export Donnes Brutes",date:"Hier  15:45",format:"CSV",size:"1.8 MB"},{name:"Performance Mensuelle",date:"Il y a 3 jours",format:"Excel",size:"3.2 MB"}].map((o,d)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[o.date,"  ",o.format,"  ",o.size]})]})]}),e.jsx(G,{variant:"outline",size:"sm",children:"Tlcharger"})]},d))})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:" Informations",subtitle:" propos des rapports"}),e.jsx(K,{children:e.jsxs("div",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Formats disponibles :"})," Les rapports sont disponibles en PDF (lecture/impression), Excel (analyse avance), ou CSV (import dans d'autres outils)."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Historique :"})," Les rapports gnrs sont conservs pendant 30 jours. Vous pouvez les tlcharger  nouveau depuis l'historique."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Automatisation :"})," Configurez l'envoi automatique de rapports hebdomadaires dans les paramtres de notification."]})]})})]})]})})}function tm({user:t,isOpen:r,onClose:s,onUserUpdated:a}){const[n,i]=c.useState(null),[l,o]=c.useState({email:t.email,username:t.username,full_name:t.full_name||"",bio:t.bio||"",avatar_url:t.avatar_url||"",game_username:t.game_username||"",game_uid:t.game_uid||"",preferred_role:t.preferred_role||"",secondary_role:t.secondary_role||"",skill_level:t.skill_level||"",discord_username:t.discord_username||"",is_active:t.is_active}),[d,m]=c.useState(t.role),[x,h]=c.useState(t.is_super_admin),[p,g]=c.useState(!1),[u,b]=c.useState(null),[j,R]=c.useState(null),[k,S]=c.useState(!1),[$,q]=c.useState(""),[C,P]=c.useState(!1);c.useEffect(()=>{(async()=>{try{const I=await Ve.getCurrentUser();i(I)}catch(I){console.error("Failed to load current user:",I)}})()},[]);const y=E=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E);c.useEffect(()=>{r&&(o({email:t.email,username:t.username,full_name:t.full_name||"",bio:t.bio||"",avatar_url:t.avatar_url||"",game_username:t.game_username||"",game_uid:t.game_uid||"",preferred_role:t.preferred_role||"",secondary_role:t.secondary_role||"",skill_level:t.skill_level||"",discord_username:t.discord_username||"",is_active:t.is_active}),m(t.role),h(t.is_super_admin),b(null))},[t,r]);const v=async E=>{var I,J;E.preventDefault(),b(null),g(!0);try{const V={...l};n!=null&&n.is_super_admin||delete V.username,await rt.updateUser(t.id,V),(d!==t.role||x!==t.is_super_admin||l.is_active!==t.is_active)&&await rt.changeUserRole(t.id,d,x,l.is_active),a()}catch(V){b(((J=(I=V.response)==null?void 0:I.data)==null?void 0:J.detail)||"Erreur lors de la mise  jour")}finally{g(!1)}},N=async E=>{var I,J;if(E.preventDefault(),b(null),$.length<8){b("Le mot de passe doit contenir au moins 8 caractres");return}if(!/\d/.test($)){b("Le mot de passe doit contenir au moins 1 chiffre");return}if(!/[A-Z]/.test($)){b("Le mot de passe doit contenir au moins 1 lettre majuscule");return}if(confirm(`tes-vous sr de vouloir rinitialiser le mot de passe pour ${t.full_name||t.username} ?`)){g(!0);try{await rt.resetUserPassword(t.id,$),S(!1),q(""),b(null),alert(" Mot de passe rinitialis avec succs !")}catch(V){b(((J=(I=V.response)==null?void 0:I.data)==null?void 0:J.detail)||"Erreur lors de la rinitialisation du mot de passe")}finally{g(!1)}}},_=async()=>{var E,I;if(confirm(` ATTENTION 

Voulez-vous vraiment SUPPRIMER DFINITIVEMENT cet utilisateur ?

Cette action est IRRVERSIBLE !

Utilisateur : ${t.full_name||t.username} (@${t.username})`)&&confirm("tes-vous ABSOLUMENT CERTAIN ? Cette suppression est permanente !")){g(!0),b(null);try{await rt.deleteUser(t.id,!0),a()}catch(J){b(((I=(E=J.response)==null?void 0:E.data)==null?void 0:I.detail)||"Erreur lors de la suppression")}finally{g(!1)}}},w=(E,I)=>{o(J=>({...J,[E]:I})),E==="email"&&(I&&!y(I)?R("Format email invalide"):R(null))};return r?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-purple-700 to-indigo-700 text-white p-6 rounded-t-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Modifier l'utilisateur"}),e.jsxs("p",{className:"text-purple-100 mt-1",children:[t.full_name||t.username," (@",t.username,")"]})]}),e.jsx("button",{onClick:s,className:"text-white hover:bg-white/20 rounded-lg p-2 transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("form",{onSubmit:v,className:"p-6 space-y-6",children:[u&&e.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200 rounded-lg",children:u}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Informations de base"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",required:!0,value:l.email,onChange:E=>w("email",E.target.value),className:`w-full px-4 py-2 border rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 ${j?"border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:ring-purple-500"}`,placeholder:"email@example.com"}),j&&e.jsxs("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:[" ",j]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Username ",e.jsx("span",{className:"text-red-500",children:"*"}),!(n!=null&&n.is_super_admin)&&e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Super Admin uniquement)"})]}),e.jsx("input",{type:"text",required:!0,value:l.username,onChange:E=>w("username",E.target.value),disabled:!(n!=null&&n.is_super_admin),className:`w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 ${n!=null&&n.is_super_admin?"bg-white dark:bg-gray-700":"bg-gray-100 dark:bg-gray-800 cursor-not-allowed opacity-60"}`,placeholder:"username"}),!(n!=null&&n.is_super_admin)&&e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:" Seul un Super Admin peut modifier le username"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nom complet"}),e.jsx("input",{type:"text",value:l.full_name||"",onChange:E=>w("full_name",E.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Prnom Nom"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Biographie"}),e.jsx("textarea",{value:l.bio||"",onChange:E=>w("bio",E.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:" propos de cet utilisateur..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"URL Photo de profil"}),e.jsx("input",{type:"url",value:l.avatar_url||"",onChange:E=>w("avatar_url",E.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"https://example.com/avatar.jpg"})]})]}),e.jsxs("div",{className:"space-y-4 border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:" Profil Gaming"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Pseudo HOK"}),e.jsx("input",{type:"text",value:l.game_username||"",onChange:E=>w("game_username",E.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"PseudoHOK"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"UID HOK (Player ID)"}),e.jsx("input",{type:"text",value:l.game_uid||"",onChange:E=>w("game_uid",E.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"123456789"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rle en jeu prfr"}),e.jsxs("select",{value:l.preferred_role||"",onChange:E=>w("preferred_role",E.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:"Slectionner..."}),e.jsx("option",{value:"Roam/Support",children:"Roam/Support"}),e.jsx("option",{value:"ADC",children:"ADC"}),e.jsx("option",{value:"Jungle",children:"Jungle"}),e.jsx("option",{value:"Clash Lane",children:"Clash Lane"}),e.jsx("option",{value:"Mid Lane",children:"Mid Lane"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rle secondaire"}),e.jsxs("select",{value:l.secondary_role||"",onChange:E=>w("secondary_role",E.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:"Slectionner..."}),e.jsx("option",{value:"Roam/Support",children:"Roam/Support"}),e.jsx("option",{value:"ADC",children:"ADC"}),e.jsx("option",{value:"Jungle",children:"Jungle"}),e.jsx("option",{value:"Clash Lane",children:"Clash Lane"}),e.jsx("option",{value:"Mid Lane",children:"Mid Lane"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Niveau de comptence"}),e.jsxs("select",{value:l.skill_level||"",onChange:E=>w("skill_level",E.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:"Slectionner..."}),e.jsx("option",{value:"Dbutant",children:"Dbutant"}),e.jsx("option",{value:"Intermdiaire",children:"Intermdiaire"}),e.jsx("option",{value:"Avanc",children:"Avanc"}),e.jsx("option",{value:"Expert",children:"Expert"})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Pseudo Discord"}),e.jsx("input",{type:"text",value:l.discord_username||"",onChange:E=>w("discord_username",E.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"VotrePseudo#1234"})]})]}),e.jsxs("div",{className:"space-y-4 border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Rle et Permissions"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Rle ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:d,onChange:E=>m(E.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:he.JOUEUR,children:"Joueur"}),e.jsx("option",{value:he.COACH,children:"Coach"}),e.jsx("option",{value:he.MANAGER,children:"Manager"}),e.jsx("option",{value:he.SUPER_ADMIN,children:"Super Admin"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border-2 border-purple-200 dark:border-purple-700",children:[e.jsx("input",{type:"checkbox",id:"is_super_admin",checked:x,onChange:E=>h(E.target.checked),className:"mt-1 w-5 h-5 text-purple-600 focus:ring-purple-500 rounded"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"is_super_admin",className:"block font-medium text-gray-900 dark:text-white cursor-pointer",children:" Super Admin"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Accorde tous les privilges administrateur indpendamment du rle. Permet de basculer entre le dashboard de son rle et le dashboard super admin."})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:l.is_active,onChange:E=>w("is_active",E.target.checked),className:"mt-1 w-5 h-5 text-green-600 focus:ring-green-500 rounded"}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"is_active",className:"block font-medium text-gray-900 dark:text-white cursor-pointer",children:"Compte actif"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Dsactiver pour empcher l'utilisateur de se connecter"})]})]})]}),e.jsxs("div",{className:"space-y-3 border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Informations systme"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"ID:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white font-mono",children:t.id})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Vrifi:"}),e.jsx("span",{className:"ml-2",children:t.is_verified?e.jsx(Ee,{variant:"success",size:"sm",children:"Oui"}):e.jsx(Ee,{variant:"danger",size:"sm",children:"Non"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Cr le:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:new Date(t.created_at).toLocaleDateString("fr-FR")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Modifi le:"}),e.jsx("span",{className:"ml-2 text-gray-900 dark:text-white",children:new Date(t.updated_at).toLocaleDateString("fr-FR")})]})]})]}),!t.is_active&&e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 border-2 border-orange-200 dark:border-orange-700 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-orange-800 dark:text-orange-300 mb-2",children:" Compte Inactif"}),e.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-400 mb-3",children:"Ce compte est actuellement dsactiv. Vous pouvez le ractiver ci-dessous."}),e.jsx(G,{type:"button",variant:"primary",size:"sm",onClick:()=>w("is_active",!0),disabled:p,className:"bg-green-600 hover:bg-green-700",children:" Ractiver ce compte"})]})}),(n==null?void 0:n.is_super_admin)&&e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-700 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-800 dark:text-blue-300 mb-2",children:" Rinitialiser le mot de passe"}),k?e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg p-3 mb-3",children:e.jsxs("p",{className:"text-xs text-yellow-700 dark:text-yellow-400",children:[e.jsx("strong",{children:"Exigences :"})," Au moins 8 caractres, 1 chiffre, 1 majuscule"]})}),e.jsxs("div",{className:"relative",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Nouveau mot de passe ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:C?"text":"password",value:$,onChange:E=>q(E.target.value),className:"w-full px-4 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nouveau mot de passe",required:!0,minLength:8}),e.jsx("button",{type:"button",onClick:()=>P(!C),className:"absolute right-3 top-10 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:C?e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(G,{type:"submit",variant:"primary",size:"sm",disabled:p||!$,className:"bg-blue-600 hover:bg-blue-700",children:" Enregistrer le nouveau mot de passe"}),e.jsx(G,{type:"button",variant:"ghost",size:"sm",onClick:()=>{S(!1),q(""),P(!1)},disabled:p,children:"Annuler"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 mb-3",children:"Dfinir un nouveau mot de passe pour cet utilisateur (Super Admin uniquement)"}),e.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:()=>S(!0),disabled:p,className:"border-blue-600 text-blue-600 hover:bg-blue-50",children:" Rinitialiser le mot de passe"})]})]})}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border-2 border-red-200 dark:border-red-700 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-300 mb-2",children:" Zone Dangereuse"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400 mb-3",children:"La suppression dfinitive est IRRVERSIBLE. Toutes les donnes de l'utilisateur seront perdues."}),e.jsx(G,{type:"button",variant:"ghost",size:"sm",onClick:_,disabled:p,className:"bg-red-600 hover:bg-red-700 text-white",children:" Supprimer dfinitivement"})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(G,{variant:"ghost",onClick:s,disabled:p,children:"Annuler"}),e.jsx(G,{type:"submit",variant:"primary",disabled:p,children:p?"Enregistrement...":"Enregistrer les modifications"})]})]})]})}):null}function rm(){const{user:t}=ze(),[r,s]=c.useState([]),[a,n]=c.useState([]),[i,l]=c.useState(!0),[o,d]=c.useState(""),[m,x]=c.useState("all"),[h,p]=c.useState(null),[g,u]=c.useState(!1),[b,j]=c.useState(null);if(!((t==null?void 0:t.is_super_admin)||(t==null?void 0:t.role)===he.MANAGER))return e.jsx(Re,{children:e.jsx("div",{className:"max-w-2xl mx-auto py-12",children:e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Accs refus"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cette page est rserve aux managers et super admins."})]})})})})});c.useEffect(()=>{k()},[]),c.useEffect(()=>{S()},[o,m,r]);const k=async()=>{var v,N;try{l(!0);const _=await rt.getAllUsers();s(_)}catch(_){j({type:"error",text:((N=(v=_.response)==null?void 0:v.data)==null?void 0:N.detail)||"Erreur lors du chargement des utilisateurs"})}finally{l(!1)}},S=()=>{let v=r;if(m!=="all"&&(v=v.filter(N=>N.role===m)),o){const N=o.toLowerCase();v=v.filter(_=>{var w;return((w=_.full_name)==null?void 0:w.toLowerCase().includes(N))||_.username.toLowerCase().includes(N)||_.email.toLowerCase().includes(N)})}n(v)},$=v=>{p(v),u(!0)},q=()=>{j({type:"success",text:"Utilisateur mis  jour avec succs"}),k(),u(!1),p(null)},C=async v=>{var N,_;if(confirm("tes-vous sr de vouloir supprimer cet utilisateur ?"))try{await rt.deleteUser(v),j({type:"success",text:"Utilisateur supprim avec succs"}),k()}catch(w){j({type:"error",text:((_=(N=w.response)==null?void 0:N.data)==null?void 0:_.detail)||"Erreur lors de la suppression"})}},P=v=>{switch(v){case he.MANAGER:return"danger";case he.COACH:return"warning";case he.JOUEUR:return"primary";case he.SUPER_ADMIN:return"info";default:return"primary"}},y=v=>{switch(v){case he.MANAGER:return"Manager";case he.COACH:return"Coach";case he.JOUEUR:return"Joueur";case he.SUPER_ADMIN:return"Super Admin";default:return v}};return e.jsxs(Re,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-700 to-indigo-700 rounded-xl p-8 text-white",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Gestion des Utilisateurs"}),e.jsx("p",{className:"text-purple-100",children:t!=null&&t.is_super_admin?"Consulter et modifier les profils de tous les utilisateurs de la plateforme":"Consulter et modifier les profils des joueurs de votre quipe"})]}),b&&e.jsx("div",{className:`p-4 rounded-lg ${b.type==="success"?"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200":"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:b.text}),e.jsx("button",{onClick:()=>j(null),className:"text-2xl hover:opacity-70",children:""})]})}),e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rechercher"}),e.jsx("input",{type:"text",placeholder:"Nom, username ou email...",value:o,onChange:v=>d(v.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filtrer par rle"}),e.jsxs("select",{value:m,onChange:v=>x(v.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"all",children:"Tous les rles"}),e.jsx("option",{value:"JOUEUR",children:"Joueurs"}),e.jsx("option",{value:"COACH",children:"Coachs"}),e.jsx("option",{value:"MANAGER",children:"Managers"}),e.jsx("option",{value:"SUPER_ADMIN",children:"Super Admins"})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total"})]})})}),e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.filter(v=>v.role===he.JOUEUR).length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Joueurs"})]})})}),e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.filter(v=>v.role===he.COACH).length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Coachs"})]})})}),e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:r.filter(v=>v.role===he.MANAGER).length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Managers"})]})})}),e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.filter(v=>v.is_super_admin).length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Super Admins"})]})})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:`Utilisateurs (${a.length})`,subtitle:"Cliquez sur un utilisateur pour modifier son profil"}),e.jsx(K,{children:i?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-4",children:"Chargement..."})]}):a.length===0?e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun utilisateur trouv"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Utilisateur"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Rle"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Statut"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:a.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",onClick:()=>$(v),children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-3",children:[v.avatar_url?e.jsx("img",{src:v.avatar_url,alt:v.username,className:"w-10 h-10 rounded-full"}):e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold",children:(v.full_name||v.username).charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:v.full_name||v.username}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",v.username]})]})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:v.email})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{variant:P(v.role),children:y(v.role)}),v.is_super_admin&&e.jsx(Ee,{variant:"info",size:"sm",children:" Super Admin"})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[v.is_active?e.jsx(Ee,{variant:"success",size:"sm",children:"Actif"}):e.jsx(Ee,{variant:"danger",size:"sm",children:"Inactif"}),v.is_verified&&e.jsx(Ee,{variant:"info",size:"sm",children:"Vrifi"})]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(G,{variant:"outline",size:"sm",onClick:N=>{N.stopPropagation(),$(v)},children:"Modifier"}),v.id!==t.id&&e.jsx(G,{variant:"ghost",size:"sm",onClick:N=>{N.stopPropagation(),C(v.id)},className:"text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:"Supprimer"})]})})]},v.id))})]})})})]})]}),h&&e.jsx(tm,{user:h,isOpen:g,onClose:()=>{u(!1),p(null)},onUserUpdated:q})]})}function sm(){const t=tt(),r=c.useRef(null),[s,a]=c.useState(!1),[n,i]=c.useState({hits:0,misses:0,score:0,avgReactionTime:0,reactionTimes:[]}),[l,o]=c.useState(60),[d,m]=c.useState([]),[x,h]=c.useState("medium"),[p,g]=c.useState(0),u=x==="easy"?30:x==="medium"?20:15,b=x==="easy"?2e3:x==="medium"?1500:1e3,j=x==="easy"?1500:x==="medium"?1e3:750;c.useEffect(()=>{if(!s)return;const y=setInterval(()=>{o(N=>N<=1?(C(),0):N-1)},1e3),v=setInterval(()=>{R()},j);return()=>{clearInterval(y),clearInterval(v)}},[s,x]),c.useEffect(()=>{if(!s)return;const y=setInterval(()=>{m(v=>{const N=Date.now();return v.filter(_=>{const w=N-p;return _.active&&w>b?(i(E=>({...E,misses:E.misses+1,score:Math.max(0,E.score-10)})),!1):!0})})},100);return()=>clearInterval(y)},[s,p,b]),c.useEffect(()=>{if(!r.current)return;const y=r.current,v=y.getContext("2d");if(v){v.clearRect(0,0,y.width,y.height),v.strokeStyle="#e5e7eb",v.lineWidth=1;for(let N=0;N<y.width;N+=50)v.beginPath(),v.moveTo(N,0),v.lineTo(N,y.height),v.stroke();for(let N=0;N<y.height;N+=50)v.beginPath(),v.moveTo(0,N),v.lineTo(y.width,N),v.stroke();v.fillStyle="#1c3049",v.beginPath(),v.arc(y.width/2,y.height/2,5,0,Math.PI*2),v.fill(),d.forEach(N=>{if(N.active){const _=u+Math.sin(Date.now()/100)*3;v.fillStyle="rgba(224, 143, 52, 0.3)",v.beginPath(),v.arc(N.x,N.y,_,0,Math.PI*2),v.fill(),v.fillStyle="#e08f34",v.beginPath(),v.arc(N.x,N.y,u,0,Math.PI*2),v.fill(),v.fillStyle="#f5cd3e",v.beginPath(),v.arc(N.x,N.y,u/2,0,Math.PI*2),v.fill()}})}},[d]);const R=()=>{if(!r.current)return;const y=r.current,v=u+10,N={id:Date.now(),x:v+Math.random()*(y.width-2*v),y:v+Math.random()*(y.height-2*v),active:!0};m(_=>[..._,N]),g(Date.now())},k=y=>{if(!r.current||!s)return;const v=r.current,N=v.getBoundingClientRect(),_=v.width/N.width,w=v.height/N.height,E=(y.clientX-N.left)*_,I=(y.clientY-N.top)*w;$(E,I)},S=y=>{if(!r.current||!s)return;y.preventDefault();const v=r.current,N=v.getBoundingClientRect(),_=y.touches[0]||y.changedTouches[0],w=v.width/N.width,E=v.height/N.height,I=(_.clientX-N.left)*w,J=(_.clientY-N.top)*E;$(I,J)},$=(y,v)=>{let N=!1;m(_=>_.filter(w=>{if(!w.active)return!1;if(Math.sqrt(Math.pow(y-w.x,2)+Math.pow(v-w.y,2))<=u){N=!0;const I=Date.now()-p;return i(J=>{const V=[...J.reactionTimes,I];return{...J,hits:J.hits+1,score:J.score+20,reactionTimes:V,avgReactionTime:V.reduce((O,F)=>O+F,0)/V.length}}),!1}return!0})),N||i(_=>({..._,score:Math.max(0,_.score-5)}))},q=()=>{a(!0),o(60),m([]),i({hits:0,misses:0,score:0,avgReactionTime:0,reactionTimes:[]}),g(Date.now())},C=()=>{a(!1),m([])},P=n.hits+n.misses>0?(n.hits/(n.hits+n.misses)*100).toFixed(1):"0.0";return e.jsx(Re,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-secondary rounded-xl p-8 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Vision Priphrique"}),e.jsx("p",{className:"text-primary-100",children:"Entrane ta vision priphrique en cliquant sur les cibles"})]}),e.jsx(G,{variant:"outline",onClick:()=>t("/exercises"),children:" Retour aux exercices"})]})}),e.jsxs(X,{children:[e.jsx(ce,{title:" Contrles"}),e.jsx(K,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Difficult"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(G,{variant:x==="easy"?"primary":"outline",size:"sm",onClick:()=>h("easy"),disabled:s,children:"Facile"}),e.jsx(G,{variant:x==="medium"?"primary":"outline",size:"sm",onClick:()=>h("medium"),disabled:s,children:"Moyen"}),e.jsx(G,{variant:x==="hard"?"primary":"outline",size:"sm",onClick:()=>h("hard"),disabled:s,children:"Difficile"})]})]}),e.jsx("div",{className:"flex gap-2",children:s?e.jsx(G,{variant:"danger",onClick:C,children:" Arrter"}):e.jsx(G,{variant:"primary",onClick:q,children:" Commencer"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Temps restant"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[l,"s"]})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Score"}),e.jsx("p",{className:"text-2xl font-bold text-primary-600",children:n.score})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Hits"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.hits})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Prcision"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[P,"%"]})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Temps raction"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.avgReactionTime>0?`${n.avgReactionTime.toFixed(0)}ms`:"-"})]})})]}),e.jsx(X,{children:e.jsx(K,{children:e.jsx("div",{className:"flex justify-center",children:e.jsx("canvas",{ref:r,width:800,height:600,onClick:k,onTouchStart:S,onTouchEnd:S,className:"border-2 border-primary-300 dark:border-primary-700 rounded-lg bg-white dark:bg-gray-900 cursor-crosshair select-none",style:{maxWidth:"100%",height:"auto",touchAction:"none"}})})})}),e.jsxs(X,{children:[e.jsx(ce,{title:" Comment jouer"}),e.jsxs(K,{children:[e.jsxs("div",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"1."}),e.jsx("p",{children:"Fixe le point central noir au milieu de l'cran"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"2."}),e.jsx("p",{children:"Des cibles orange apparaissent alatoirement sur l'cran"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"3."}),e.jsx("p",{children:"Utilise ta vision priphrique pour reprer les cibles sans bouger les yeux"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"4."}),e.jsx("p",{children:"Clique sur les cibles le plus rapidement possible"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"5."}),e.jsx("p",{children:"+20 points par cible touche, -10 points par cible manque, -5 par clic rat"})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:[e.jsx("strong",{children:" Astuce :"})," Dans MOBA, une bonne vision priphrique te permet de voir les ganks, les objectifs et les teamfights sans perdre de vue ton lane !"]})})]})]})]})})}function am(){const t=tt(),[r,s]=c.useState(!1),[a,n]=c.useState({tasksCompleted:0,tasksFailed:0,score:0,avgResponseTime:0,responseTimes:[]}),[i,l]=c.useState(90),[o,d]=c.useState([]),[m,x]=c.useState("medium"),h=c.useRef(0),p=m==="easy"?1:m==="medium"?2:3,g=m==="easy"?4e3:m==="medium"?3e3:2e3,u=m==="easy"?8e3:m==="medium"?6e3:4e3;c.useEffect(()=>{if(!r)return;const v=setInterval(()=>{l(w=>w<=1?(C(),0):w-1)},1e3),N=setInterval(()=>{o.length<p&&S()},g),_=setInterval(()=>{d(w=>w.map(E=>({...E,timeLeft:E.timeLeft-100})).filter(E=>E.timeLeft<=0?(n(I=>({...I,tasksFailed:I.tasksFailed+1,score:Math.max(0,I.score-15)})),!1):!0))},100);return()=>{clearInterval(v),clearInterval(N),clearInterval(_)}},[r,o.length,p,g]);const b=()=>{const v=["Rouge","Bleu","Vert","Jaune","Orange","Violet"],N=["red","blue","green","yellow","orange","purple"],_=v[Math.floor(Math.random()*v.length)],w=N[Math.floor(Math.random()*N.length)],E=w==="red"?"Rouge":w==="blue"?"Bleu":w==="green"?"Vert":w==="yellow"?"Jaune":w==="orange"?"Orange":"Violet";return{id:h.current++,type:"color",question:`Couleur du texte (pas le mot): <span style="color: ${w}">${_}</span>`,correctAnswer:E,options:v,timeLeft:u,maxTime:u}},j=()=>{const v=["+","-","*"],N=v[Math.floor(Math.random()*v.length)];let _=Math.floor(Math.random()*20)+1,w=Math.floor(Math.random()*10)+1,E=0;N==="+"?E=_+w:N==="-"?E=_-w:(_=Math.floor(Math.random()*10)+1,w=Math.floor(Math.random()*10)+1,E=_*w);const I=[E+Math.floor(Math.random()*5)+1,E-Math.floor(Math.random()*5)-1,E+Math.floor(Math.random()*10)+5],J=[E.toString(),...I.map(String)].sort(()=>Math.random()-.5);return{id:h.current++,type:"math",question:`Calcule: ${_} ${N} ${w} = ?`,correctAnswer:E.toString(),options:J,timeLeft:u,maxTime:u}},R=()=>{const v=["Haut","Bas","Gauche","Droite"],N=["","","",""],_=Math.floor(Math.random()*N.length),w=N[_];return{id:h.current++,type:"direction",question:`Direction de la flche: <span class="text-3xl">${w}</span>`,correctAnswer:v[_],options:v,timeLeft:u,maxTime:u}},k=()=>{const v=m==="easy"?3:m==="medium"?4:5,N=Array.from({length:v},()=>Math.floor(Math.random()*9)+1),_=N.join("  "),w=N[N.length-1].toString(),E=[w,Math.floor(Math.random()*9)+1,Math.floor(Math.random()*9)+1,Math.floor(Math.random()*9)+1].map(String).filter((I,J,V)=>V.indexOf(I)===J).slice(0,4);return{id:h.current++,type:"sequence",question:`Dernier nombre: ${_}`,correctAnswer:w,options:E.sort(()=>Math.random()-.5),timeLeft:u,maxTime:u}},S=()=>{const v=[b,j,R,k],N=v[Math.floor(Math.random()*v.length)],_=N();d(w=>[...w,_])},$=(v,N)=>{const _=o.find(I=>I.id===v);if(!_)return;const w=_.maxTime-_.timeLeft,E=N===_.correctAnswer;n(I=>{const J=E?[...I.responseTimes,w]:I.responseTimes;return{...I,tasksCompleted:E?I.tasksCompleted+1:I.tasksCompleted,tasksFailed:E?I.tasksFailed:I.tasksFailed+1,score:E?I.score+25:Math.max(0,I.score-10),responseTimes:J,avgResponseTime:J.length>0?J.reduce((V,O)=>V+O,0)/J.length:0}}),d(I=>I.filter(J=>J.id!==v))},q=()=>{s(!0),l(90),d([]),n({tasksCompleted:0,tasksFailed:0,score:0,avgResponseTime:0,responseTimes:[]}),h.current=0},C=()=>{s(!1),d([])},P=a.tasksCompleted+a.tasksFailed>0?(a.tasksCompleted/(a.tasksCompleted+a.tasksFailed)*100).toFixed(1):"0.0",y=v=>{const N=v.timeLeft/v.maxTime*100;return N>60?"border-green-500":N>30?"border-yellow-500":"border-red-500"};return e.jsx(Re,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-secondary rounded-xl p-8 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Test Multi-Tches"}),e.jsx("p",{className:"text-primary-100",children:"Gre plusieurs tches simultanment comme dans un MOBA"})]}),e.jsx(G,{variant:"outline",onClick:()=>t("/exercises"),children:" Retour aux exercices"})]})}),e.jsxs(X,{children:[e.jsx(ce,{title:" Contrles"}),e.jsx(K,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Difficult"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(G,{variant:m==="easy"?"primary":"outline",size:"sm",onClick:()=>x("easy"),disabled:r,children:"Facile (1 tche)"}),e.jsx(G,{variant:m==="medium"?"primary":"outline",size:"sm",onClick:()=>x("medium"),disabled:r,children:"Moyen (2 tches)"}),e.jsx(G,{variant:m==="hard"?"primary":"outline",size:"sm",onClick:()=>x("hard"),disabled:r,children:"Difficile (3 tches)"})]})]}),e.jsx("div",{className:"flex gap-2",children:r?e.jsx(G,{variant:"danger",onClick:C,children:" Arrter"}):e.jsx(G,{variant:"primary",onClick:q,children:" Commencer"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Temps restant"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[i,"s"]})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Score"}),e.jsx("p",{className:"text-2xl font-bold text-primary-600",children:a.score})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Russies"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.tasksCompleted})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Prcision"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[P,"%"]})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Temps rponse"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:a.avgResponseTime>0?`${(a.avgResponseTime/1e3).toFixed(1)}s`:"-"})]})})]}),e.jsxs("div",{className:"space-y-4",children:[o.map(v=>e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:`border-l-4 ${y(v)} pl-4`,children:[e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all",style:{width:`${v.timeLeft/v.maxTime*100}%`}})})}),e.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",dangerouslySetInnerHTML:{__html:v.question}}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 touch-manipulation",children:v.options.map(N=>e.jsx(G,{variant:"outline",onClick:()=>$(v.id,N),className:"min-h-[44px] touch-none select-none",children:N},N))})]})})},v.id)),o.length===0&&r&&e.jsx(X,{children:e.jsx(K,{children:e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Nouvelle tche en prparation..."})})})}),!r&&e.jsx(X,{children:e.jsx(K,{children:e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:'Clique sur "Commencer" pour lancer le test'})})})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:" Comment jouer"}),e.jsxs(K,{children:[e.jsxs("div",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"1."}),e.jsx("p",{children:"Des tches varies apparaissent alatoirement (couleurs, maths, directions, squences)"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"2."}),e.jsx("p",{children:"Plusieurs tches peuvent tre actives en mme temps selon la difficult"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"3."}),e.jsx("p",{children:"Rponds correctement avant que le temps ne s'coule (barre de progression)"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"4."}),e.jsx("p",{children:"+25 points par bonne rponse, -10 par erreur, -15 par timeout"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"5."}),e.jsx("p",{children:"Gre tes priorits : traite d'abord les tches les plus urgentes !"})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:[e.jsx("strong",{children:" Astuce :"})," Dans un MOBA, tu dois grer ton lane, regarder la minimap, tracker les cooldowns, communiquer avec l'quipe... tout en mme temps ! Ce jeu entrane exactement cette comptence."]})})]})]})]})})}function nm(){const t=tt(),{id:r}=or(),[s,a]=c.useState("idle"),[n,i]=c.useState(0),[l,o]=c.useState({attempts:[],averageTime:0,fastestTime:0,slowestTime:0,consistency:0}),[d,m]=c.useState("medium"),[x,h]=c.useState(!1),[p,g]=c.useState(!1),u=c.useRef(0),b=c.useRef(null),j=5,R=d==="easy"?2e3:d==="medium"?1500:1e3,k=d==="easy"?5e3:d==="medium"?4e3:3e3;c.useEffect(()=>()=>{b.current&&clearTimeout(b.current)},[]);const S=E=>{if(E.length===0)return{attempts:[],averageTime:0,fastestTime:0,slowestTime:0,consistency:0};const I=E.map(U=>U.reactionTime),J=I.reduce((U,T)=>U+T,0)/I.length,V=Math.min(...I),O=Math.max(...I),F=I.reduce((U,T)=>U+Math.pow(T-J,2),0)/I.length,A=Math.sqrt(F);return{attempts:E,averageTime:J,fastestTime:V,slowestTime:O,consistency:A}},$=()=>{b.current&&clearTimeout(b.current),a("waiting");const E=Math.random()*(k-R)+R;b.current=setTimeout(()=>{a("ready"),u.current=Date.now()},E)},q=()=>{if(s==="waiting"){b.current&&clearTimeout(b.current),a("tooEarly");return}if(s==="ready"){const I={reactionTime:Date.now()-u.current,timestamp:Date.now()},J=[...l.attempts,I],V=S(J);o(V),i(n+1),a("result"),n+1<j&&setTimeout(()=>{$()},1500)}},C=E=>{E.preventDefault(),q()},P=()=>{b.current&&clearTimeout(b.current),a("idle"),i(0),o({attempts:[],averageTime:0,fastestTime:0,slowestTime:0,consistency:0}),g(!1)},y=async()=>{if(!(!r||l.averageTime===0)){h(!0);try{await gt.submitScore({exercise_id:parseInt(r),score_value:Math.round(l.averageTime),score_unit:"ms",notes:`Moyenne de ${j} tentatives. Meilleur: ${Math.round(l.fastestTime)}ms, Pire: ${Math.round(l.slowestTime)}ms, Consistance: ${Math.round(l.consistency)}ms`}),g(!0),setTimeout(()=>{t(`/exercises/${r}`)},2e3)}catch(E){console.error("Error submitting score:",E),alert("Erreur lors de la sauvegarde du score. Veuillez ressayer.")}finally{h(!1)}}},v=()=>{switch(s){case"idle":return"bg-gray-200 dark:bg-gray-700";case"waiting":return"bg-red-500";case"ready":return"bg-green-500";case"tooEarly":return"bg-orange-500";case"result":return"bg-blue-500";default:return"bg-gray-200 dark:bg-gray-700"}},N=()=>{switch(s){case"idle":return'Clique sur "Commencer le test" pour dmarrer';case"waiting":return"Attends le vert...";case"ready":return"CLIQUE MAINTENANT !";case"tooEarly":return"Trop tt ! Attends le vert.";case"result":return`${l.attempts[l.attempts.length-1].reactionTime}ms !`;default:return""}},_=n>=j,w=s==="idle"||s==="tooEarly";return e.jsx(Re,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-secondary rounded-xl p-8 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:" Test de Temps de Raction"}),e.jsx("p",{className:"text-primary-100",children:"Mesure ta vitesse de raction en millisecondes"})]}),e.jsx(G,{variant:"outline",onClick:()=>t("/exercises"),children:" Retour aux exercices"})]})}),e.jsxs(X,{children:[e.jsx(ce,{title:" Contrles"}),e.jsx(K,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Difficult"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(G,{variant:d==="easy"?"primary":"outline",size:"sm",onClick:()=>m("easy"),disabled:s!=="idle",children:"Facile (2-5s)"}),e.jsx(G,{variant:d==="medium"?"primary":"outline",size:"sm",onClick:()=>m("medium"),disabled:s!=="idle",children:"Moyen (1.5-4s)"}),e.jsx(G,{variant:d==="hard"?"primary":"outline",size:"sm",onClick:()=>m("hard"),disabled:s!=="idle",children:"Difficile (1-3s)"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[w&&!_&&e.jsx(G,{variant:"primary",onClick:$,children:n===0?" Commencer le test":" Continuer"}),_&&e.jsxs(e.Fragment,{children:[e.jsx(G,{variant:"primary",onClick:P,children:" Recommencer"}),r&&!p&&e.jsx(G,{variant:"primary",onClick:y,disabled:x,children:x?" Sauvegarde...":" Sauvegarder le score"}),p&&e.jsx("div",{className:"text-green-600 font-semibold flex items-center",children:" Score sauvegard ! Redirection..."})]})]})]})})]}),e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{children:"Progression"}),e.jsxs("span",{children:[n," / ",j," tentatives"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:e.jsx("div",{className:"bg-primary-600 h-3 rounded-full transition-all duration-300",style:{width:`${n/j*100}%`}})})]})})}),e.jsx(X,{children:e.jsx(K,{children:e.jsx("div",{className:`${v()} rounded-xl transition-colors duration-150 cursor-pointer select-none flex items-center justify-center min-h-[400px] touch-none`,onClick:q,onTouchStart:C,style:{touchAction:"none"},children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-3xl md:text-5xl font-bold text-white drop-shadow-lg",children:N()})})})})}),l.attempts.length>0&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Moyenne"}),e.jsxs("p",{className:"text-2xl font-bold text-primary-600",children:[Math.round(l.averageTime),"ms"]})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Meilleur"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[Math.round(l.fastestTime),"ms"]})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Pire"}),e.jsxs("p",{className:"text-2xl font-bold text-red-600",children:[Math.round(l.slowestTime),"ms"]})]})}),e.jsx(X,{children:e.jsxs(K,{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Consistance"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["",Math.round(l.consistency),"ms"]})]})})]}),l.attempts.length>0&&e.jsxs(X,{children:[e.jsx(ce,{title:" Historique des tentatives"}),e.jsx(K,{children:e.jsx("div",{className:"space-y-2",children:l.attempts.map((E,I)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:["Tentative ",I+1]}),e.jsxs("span",{className:`text-lg font-bold ${E.reactionTime===l.fastestTime?"text-green-600":E.reactionTime===l.slowestTime?"text-red-600":"text-gray-900 dark:text-white"}`,children:[E.reactionTime,"ms"]})]},E.timestamp))})})]}),e.jsxs(X,{children:[e.jsx(ce,{title:" Comment jouer"}),e.jsxs(K,{children:[e.jsxs("div",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"1."}),e.jsx("p",{children:'Clique sur "Commencer le test" pour dmarrer'})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"2."}),e.jsx("p",{children:"L'cran devient rouge - ATTENDS !"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"3."}),e.jsx("p",{children:"Ds que l'cran devient VERT, clique le plus vite possible"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"4."}),e.jsx("p",{children:"Rpte 5 fois pour obtenir ton temps de raction moyen en millisecondes"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("span",{className:"text-primary-600 font-bold",children:"5."}),e.jsx("p",{children:"Si tu cliques trop tt (sur le rouge), la tentative ne compte pas"})]})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:[e.jsx("strong",{children:" Astuce :"})," Un bon temps de raction dans les jeux esport se situe entre 150-300ms. Les joueurs professionnels peuvent descendre  100-150ms !"]})}),e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-green-900 dark:text-green-100",children:[e.jsx("strong",{children:" Saviez-vous ?"})," Le temps de raction moyen d'un humain est de 250ms pour un stimulus visuel. Avec de l'entranement, vous pouvez descendre  200ms ou moins !"]})}),e.jsx("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-purple-900 dark:text-purple-100",children:[e.jsx("strong",{children:" Consistance :"})," Une bonne consistance (faible cart-type) est aussi importante qu'un temps rapide. Cela montre que votre concentration est stable !"]})})]})]})]})]})})}var Xe=(t=>(t.MEMORY_CARDS="memory_cards",t.PATTERN_RECALL="pattern_recall",t.SEQUENCE_MEMORY="sequence_memory",t.IMAGE_PAIRS="image_pairs",t))(Xe||{}),vt=(t=>(t.EASY="easy",t.MEDIUM="medium",t.HARD="hard",t.EXPERT="expert",t))(vt||{});const St="/memory-exercises",br={async createSession(t){return(await ae.post(`${St}/sessions`,t)).data},async updateSession(t,r){return(await ae.put(`${St}/sessions/${t}`,r)).data},async getSession(t){return(await ae.get(`${St}/sessions/${t}`)).data},async getMyHistory(t){return(await ae.get(`${St}/sessions/me/history`,{params:t})).data},async getLeaderboard(t,r){return(await ae.get(`${St}/leaderboard/${t}`,{params:r})).data},async getMyStats(t){return(await ae.get(`${St}/stats/me`,{params:t})).data},async getUserStats(t,r){return(await ae.get(`${St}/stats/user/${t}`,{params:r})).data},async getPresets(t){return(await ae.get(`${St}/presets/${t}`)).data}},im={gaming:["","","","","","","","","","","","","","","","","","","",""]};function lm({config:t,onComplete:r,onProgress:s}){const[a,n]=c.useState([]),[i,l]=c.useState([]),[o,d]=c.useState(0),[m,x]=c.useState(0),[h,p]=c.useState(0),[g,u]=c.useState(0),[b,j]=c.useState(0),[R,k]=c.useState(0),[S,$]=c.useState(!1),[q,C]=c.useState(!1),[P,y]=c.useState(!0),v=c.useRef(null),N=t.grid_rows||4,_=t.grid_cols||4,w=N*_/2;c.useEffect(()=>(E(),()=>{v.current&&clearInterval(v.current)}),[t]),c.useEffect(()=>{if(S&&!q)return v.current=setInterval(()=>{const A=Date.now()-b;k(A),s&&A%5e3<100&&s(J(A,!1))},100),()=>{v.current&&clearInterval(v.current)}},[S,q,b]),c.useEffect(()=>{o===w&&w>0&&S&&V()},[o,w]);const E=()=>{const A=im.gaming,U=w,T=A.slice(0,U),L=[...T,...T].map((Z,D)=>({id:D,value:Z,isFlipped:!1,isMatched:!1,position:{row:Math.floor(D/_),col:D%_}})).sort(()=>Math.random()-.5).map((Z,D)=>({...Z,id:D,position:{row:Math.floor(D/_),col:D%_}}));n(L),l([]),d(0),x(0),p(0),u(0),k(0),$(!1),C(!1),y(!0)},I=A=>{if(!P||q||i.includes(A)||a[A].isMatched)return;S||($(!0),j(Date.now()));const U=[...i,A];if(l(U),n(T=>T.map(z=>z.id===A?{...z,isFlipped:!0}:z)),U.length===2){y(!1),x(D=>D+1);const[T,z]=U,L=a[T],Z=a[z];L.value===Z.value?(p(D=>D+1),n(D=>D.map(Y=>Y.id===T||Y.id===z?{...Y,isMatched:!0}:Y)),d(D=>D+1),l([]),y(!0)):(u(D=>D+1),setTimeout(()=>{n(D=>D.map(Y=>Y.id===T||Y.id===z?{...Y,isFlipped:!1}:Y)),l([]),y(!0)},1e3))}},J=(A,U)=>({total_moves:m,correct_moves:h,incorrect_moves:g,time_elapsed_ms:A,completed:U}),V=()=>{if(q)return;const A=Date.now()-b;C(!0),k(A),v.current&&clearInterval(v.current),r(J(A,!0))},O=A=>{const U=Math.floor(A/1e3),T=Math.floor(U/60),z=U%60;return`${T}:${z.toString().padStart(2,"0")}`},F=m>0?(h/m*100).toFixed(0):"0";return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-secondary rounded-lg p-3 sm:p-4 mb-4 shadow-lg",children:e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center text-white",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Temps"}),e.jsx("div",{className:"text-base sm:text-xl font-bold",children:O(R)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Paires"}),e.jsxs("div",{className:"text-base sm:text-xl font-bold",children:[o,"/",w]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Coups"}),e.jsx("div",{className:"text-base sm:text-xl font-bold",children:m})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Prcision"}),e.jsxs("div",{className:"text-base sm:text-xl font-bold",children:[F,"%"]})]})]})}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-2 sm:p-4",children:e.jsx("div",{className:"grid gap-2 sm:gap-3",style:{gridTemplateColumns:`repeat(${_}, 1fr)`,gridTemplateRows:`repeat(${N}, 1fr)`,maxWidth:"100%",aspectRatio:`${_} / ${N}`},children:a.map(A=>e.jsxs("button",{onClick:()=>I(A.id),disabled:!P||A.isMatched||A.isFlipped,className:`
                relative aspect-square rounded-lg shadow-md
                transition-all duration-300 transform
                active:scale-95
                ${A.isFlipped||A.isMatched?"bg-white dark:bg-gray-100":"bg-gradient-to-br from-primary-500 to-primary-700"}
                ${A.isMatched?"opacity-60 cursor-not-allowed":""}
                ${!P&&!A.isMatched&&!A.isFlipped?"cursor-not-allowed":"cursor-pointer"}
                hover:scale-105
                touch-manipulation
                select-none
              `,style:{minWidth:"50px",minHeight:"50px"},children:[!A.isFlipped&&!A.isMatched&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white text-2xl sm:text-4xl",children:"?"}),(A.isFlipped||A.isMatched)&&e.jsx("div",{className:`
                  absolute inset-0 flex items-center justify-center
                  text-3xl sm:text-5xl md:text-6xl
                  ${A.isMatched?"animate-bounce-once":""}
                `,children:A.value})]},A.id))})}),q&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-md w-full text-center shadow-2xl",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:"Bravo !"}),e.jsxs("div",{className:"space-y-2 text-gray-700 dark:text-gray-300 mb-6",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Temps :"})," ",O(R)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Coups :"})," ",m]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prcision :"})," ",F,"%"]})]})]})}),e.jsx("div",{className:"mt-4",children:e.jsx(G,{variant:"outline",fullWidth:!0,onClick:E,children:" Recommencer"})})]})}function om({config:t,onComplete:r,onProgress:s}){const a=t.grid_rows||4,n=t.grid_cols||4,i=t.colors||["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899"],l=t.preview_duration_ms||3e3,o=t.time_limit_ms||6e4,[d,m]=c.useState("ready"),[x,h]=c.useState([]),[p,g]=c.useState([]),[u,b]=c.useState(3),[j,R]=c.useState(o),[k,S]=c.useState(0),[$,q]=c.useState(0),[C,P]=c.useState(0),[y,v]=c.useState(0),N=c.useRef(null),_=c.useRef(null);c.useEffect(()=>()=>{N.current&&clearInterval(N.current),_.current&&clearTimeout(_.current)},[]);const w=c.useCallback(()=>{const T=[],z=a*n,L=Math.floor(z*.4);for(let me=0;me<a;me++)for(let M=0;M<n;M++)T.push({row:me,col:M,color:"",isActive:!1,isRevealed:!1});return Array.from({length:z},(me,M)=>M).sort(()=>Math.random()-.5).slice(0,L).forEach(me=>{const M=i[Math.floor(Math.random()*i.length)];T[me].color=M,T[me].isActive=!0}),T},[a,n,i]),E=()=>{const T=w();h(T),g(T.map(Z=>({...Z,isActive:!1,isRevealed:!1}))),m("ready"),b(3);let z=3;const L=setInterval(()=>{z--,b(z),z===0&&(clearInterval(L),m("memorize"),I())},1e3)},I=()=>{S(Date.now()),h(T=>T.map(z=>({...z,isRevealed:!0}))),_.current=setTimeout(()=>{m("recall"),J()},l)},J=()=>{h(T=>T.map(z=>({...z,isRevealed:!1}))),R(o),N.current=setInterval(()=>{R(T=>{const z=T-100;return z<=0?(F(),0):z})},100)},V=(T,z,L)=>{d==="recall"&&g(Z=>Z.map(D=>D.row===T&&D.col===z?{...D,color:L,isActive:!0,isRevealed:!0}:D))},O=(T,z)=>{d==="recall"&&g(L=>L.map(Z=>Z.row===T&&Z.col===z?{...Z,color:"",isActive:!1,isRevealed:!1}:Z))},F=()=>{N.current&&clearInterval(N.current);let T=0,z=0;x.forEach((L,Z)=>{const D=p[Z];L.isActive===D.isActive&&(!L.isActive||L.color===D.color)?T++:z++}),P(T),v(z),q(a*n),m("feedback"),h(L=>L.map(Z=>({...Z,isRevealed:!0}))),setTimeout(()=>{const L=Date.now()-k;m("completed"),r({total_moves:a*n,correct_moves:T,incorrect_moves:z,time_elapsed_ms:L,completed:!0})},3e3)},A=T=>{const z=Math.floor(T/1e3),L=Math.floor(z/60),Z=z%60;return`${L}:${Z.toString().padStart(2,"0")}`},U=$>0?(C/$*100).toFixed(0):"0";return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-secondary rounded-lg p-3 sm:p-4 mb-4 shadow-lg",children:e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-white",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Phase"}),e.jsx("div",{className:"text-sm sm:text-base font-bold capitalize",children:d==="ready"?"Prt...":d==="memorize"?"Mmorise !":d==="recall"?"Reproduis !":d==="feedback"?"Rsultat":"Termin"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:d==="recall"?"Temps restant":"Prcision"}),e.jsx("div",{className:"text-base sm:text-xl font-bold",children:d==="recall"?A(j):`${U}%`})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Cellules"}),e.jsxs("div",{className:"text-base sm:text-xl font-bold",children:[C,"/",a*n]})]})]})}),e.jsxs("div",{className:"flex-1 flex items-center justify-center p-2 sm:p-4",children:[d==="ready"&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-8xl sm:text-9xl font-bold text-primary-600 mb-4",children:u}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-700 dark:text-gray-300",children:"Prpare-toi  mmoriser le motif..."})]}),d!=="ready"&&e.jsx("div",{className:"grid gap-2 sm:gap-3",style:{gridTemplateColumns:`repeat(${n}, 1fr)`,gridTemplateRows:`repeat(${a}, 1fr)`,maxWidth:"100%",aspectRatio:`${n} / ${a}`},children:(d==="memorize"||d==="feedback"?x:p).map((T,z)=>e.jsx("div",{className:`
                  relative aspect-square rounded-lg shadow-md
                  transition-all duration-300
                  ${d==="recall"?"cursor-pointer hover:scale-105 active:scale-95":""}
                  touch-manipulation select-none
                `,style:{backgroundColor:T.isRevealed&&T.isActive?T.color:"#e5e7eb",minWidth:"40px",minHeight:"40px",border:d==="feedback"?x[z].isActive===p[z].isActive&&(!x[z].isActive||x[z].color===p[z].color)?"3px solid #10B981":"3px solid #EF4444":"none"},onClick:()=>{d==="recall"&&T.isActive&&O(T.row,T.col)},children:d==="recall"&&T.isActive&&e.jsx("button",{className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",onClick:L=>{L.stopPropagation(),O(T.row,T.col)},children:""})},z))})]}),d==="recall"&&e.jsxs("div",{className:"mt-4 p-4 bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[e.jsx("p",{className:"text-sm text-center mb-2 text-gray-700 dark:text-gray-300",children:"Touche une cellule puis choisis sa couleur :"}),e.jsx("div",{className:"flex justify-center gap-2 flex-wrap",children:i.map(T=>e.jsx("button",{className:"w-12 h-12 sm:w-14 sm:h-14 rounded-lg shadow-md hover:scale-110 active:scale-95 transition-transform touch-manipulation",style:{backgroundColor:T},onClick:()=>{const z=p.find(L=>!L.isActive);z&&V(z.row,z.col,T)}},T))})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[d==="recall"&&e.jsx(G,{variant:"primary",fullWidth:!0,onClick:F,children:" Valider"}),d==="completed"&&e.jsx(G,{variant:"outline",fullWidth:!0,onClick:E,children:" Recommencer"}),d==="ready"&&e.jsx(G,{variant:"primary",fullWidth:!0,onClick:E,children:" Dmarrer"})]})]})}function cm({config:t,onComplete:r,onProgress:s}){const a=t.grid_rows||3,n=t.grid_cols||3,i=t.initial_sequence_length||3,l=t.max_sequence_length||20,o=t.preview_duration_ms||1e3,[d,m]=c.useState("ready"),[x,h]=c.useState([]),[p,g]=c.useState([]),[u,b]=c.useState([]),[j,R]=c.useState(i),[k,S]=c.useState(i),[$,q]=c.useState(null),[C,P]=c.useState(0),[y,v]=c.useState(0),[N,_]=c.useState(0),[w,E]=c.useState(3),I=c.useRef(null);c.useEffect(()=>(J(),()=>{I.current&&clearTimeout(I.current)}),[a,n]);const J=()=>{const Z=[];let D=0;for(let Y=0;Y<a;Y++)for(let me=0;me<n;me++)Z.push({row:Y,col:me,id:D++,isActive:!1});h(Z)},V=()=>{m("ready"),g([]),b([]),R(i),S(i),v(0),_(0),E(3),P(Date.now()),setTimeout(()=>{O(i)},1e3)},O=c.useCallback(Z=>{const D=a*n,Y=[];for(let me=0;me<Z;me++)Y.push(Math.floor(Math.random()*D));g(Y),b([]),m("showing"),F(Y)},[a,n]),F=Z=>{let D=0;const Y=()=>{if(D>=Z.length){q(null),m("waiting");return}q(Z[D]),I.current=setTimeout(()=>{q(null),setTimeout(()=>{D++,Y()},200)},o)};Y()},A=Z=>{if(d!=="waiting")return;const D=[...u,Z];b(D),v(me=>me+1),q(Z),setTimeout(()=>q(null),200);const Y=D.length-1;if(p[Y]!==Z){T();return}_(me=>me+1),D.length===p.length&&U()},U=()=>{const Z=j+1;if(Z>l){z(!0);return}R(Z),S(D=>Math.max(D,Z)),s&&s({total_moves:y,correct_moves:N,incorrect_moves:y-N,time_elapsed_ms:Date.now()-C,max_sequence_reached:Z,completed:!1}),setTimeout(()=>{O(Z)},1e3)},T=()=>{const Z=w-1;E(Z),Z<=0?z(!1):setTimeout(()=>{b([]),m("showing"),F(p)},1500)},z=Z=>{m(Z?"completed":"failed");const D=Date.now()-C;r({total_moves:y,correct_moves:N,incorrect_moves:y-N,time_elapsed_ms:D,max_sequence_reached:k,completed:!0})},L=()=>(k-i)/(l-i)*100;return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-secondary rounded-lg p-3 sm:p-4 mb-4 shadow-lg",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center text-white",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Niveau"}),e.jsx("div",{className:"text-base sm:text-xl font-bold",children:j})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Record"}),e.jsx("div",{className:"text-base sm:text-xl font-bold",children:k})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Vies"}),e.jsx("div",{className:"text-base sm:text-xl font-bold flex justify-center gap-1",children:Array.from({length:3}).map((Z,D)=>e.jsx("span",{children:D<w?"":""},D))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Prcision"}),e.jsxs("div",{className:"text-base sm:text-xl font-bold",children:[y>0?Math.round(N/y*100):100,"%"]})]})]}),e.jsx("div",{className:"mt-3 h-2 bg-white/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white transition-all duration-500",style:{width:`${L()}%`}})})]}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("div",{className:"text-lg sm:text-xl font-semibold text-gray-700 dark:text-gray-300",children:[d==="ready"&&"Prt  commencer...",d==="showing"&&" Mmorise la squence",d==="waiting"&&"  ton tour !",d==="failed"&&" Partie termine",d==="completed"&&" Bravo, niveau max !"]}),d==="waiting"&&e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[u.length," / ",p.length]})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-2 sm:p-4",children:e.jsx("div",{className:"grid gap-3 sm:gap-4",style:{gridTemplateColumns:`repeat(${n}, 1fr)`,gridTemplateRows:`repeat(${a}, 1fr)`,maxWidth:"100%",aspectRatio:`${n} / ${a}`},children:x.map(Z=>e.jsx("button",{onClick:()=>A(Z.id),disabled:d!=="waiting",className:`
                relative aspect-square rounded-xl shadow-lg
                transition-all duration-200
                ${$===Z.id?"bg-gradient-to-br from-yellow-400 to-orange-500 scale-95 shadow-2xl":"bg-gradient-to-br from-primary-500 to-primary-700"}
                ${d==="waiting"?"cursor-pointer hover:scale-105 active:scale-95":"cursor-not-allowed"}
                touch-manipulation select-none
              `,style:{minWidth:"60px",minHeight:"60px"},children:e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white/20 text-xs font-mono",children:Z.id+1})},Z.id))})}),d==="showing"&&e.jsx("div",{className:"text-center py-2",children:e.jsx("div",{className:"flex justify-center gap-1",children:p.map((Z,D)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${D<=p.indexOf($||-1)?"bg-primary-600":"bg-gray-300 dark:bg-gray-600"}`},D))})}),e.jsxs("div",{className:"mt-4",children:[d==="ready"&&e.jsx(G,{variant:"primary",fullWidth:!0,onClick:V,children:" Dmarrer"}),(d==="failed"||d==="completed")&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-center p-4 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-2",children:d==="completed"?"":""}),e.jsxs("p",{className:"text-lg font-semibold mb-2",children:["Record atteint : ",k]}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Prcision :"," ",y>0?Math.round(N/y*100):100,"%"]})]}),e.jsx(G,{variant:"outline",fullWidth:!0,onClick:V,children:" Recommencer"})]})]})]})}const dm=[{question:"",answer:"",label:"Arme"},{question:"",answer:"",label:"Armure"},{question:"",answer:"",label:"Dgts Magiques"},{question:"",answer:"",label:"Vitesse"},{question:"",answer:"",label:"Sant"},{question:"",answer:"",label:"Prcision"},{question:"",answer:"",label:"Gold"},{question:"",answer:"",label:"Niveau"},{question:"",answer:"",label:"Ralentissement"},{question:"",answer:"",label:"tourdissement"},{question:"",answer:"",label:"Mana"},{question:"",answer:"",label:"Vision"},{question:"",answer:"",label:"Ward"},{question:"",answer:"",label:"Objectif"},{question:"",answer:"",label:"Tour"},{question:"",answer:"",label:"Comptence"},{question:"",answer:"",label:"Zone"},{question:"",answer:"",label:"Force"},{question:"",answer:"",label:"Mobilit"},{question:"",answer:"",label:"Passif"}];function um({config:t,onComplete:r,onProgress:s}){var T;const a=t.grid_rows||4,n=t.grid_cols||4,i=a*n/2,[l,o]=c.useState([]),[d,m]=c.useState([]),[x,h]=c.useState(0),[p,g]=c.useState(0),[u,b]=c.useState(0),[j,R]=c.useState(0),[k,S]=c.useState(0),[$,q]=c.useState(0),[C,P]=c.useState(!1),[y,v]=c.useState(!1),[N,_]=c.useState(!0),[w,E]=c.useState(null),I=c.useRef(null);c.useEffect(()=>(J(),()=>{I.current&&clearInterval(I.current)}),[t]),c.useEffect(()=>{if(C&&!y)return I.current=setInterval(()=>{const z=Date.now()-k;q(z),s&&z%5e3<100&&s(O(z,!1))},100),()=>{I.current&&clearInterval(I.current)}},[C,y,k]),c.useEffect(()=>{x===i&&i>0&&C&&F()},[x,i]);const J=()=>{const z=dm.slice(0,i),L=[];z.forEach((D,Y)=>{L.push({id:Y*2,pairId:Y,type:"question",content:D.question,label:D.label,isFlipped:!1,isMatched:!1}),L.push({id:Y*2+1,pairId:Y,type:"answer",content:D.answer,label:D.label,isFlipped:!1,isMatched:!1})});const Z=L.sort(()=>Math.random()-.5).map((D,Y)=>({...D,id:Y}));o(Z),m([]),h(0),g(0),b(0),R(0),q(0),P(!1),v(!1),_(!0),E(null)},V=z=>{if(!N||y||d.includes(z)||l[z].isMatched||d.length>=2)return;C||(P(!0),S(Date.now()));const L=[...d,z];if(m(L),o(Z=>Z.map(D=>D.id===z?{...D,isFlipped:!0}:D)),L.length===2){_(!1),g(M=>M+1);const[Z,D]=L,Y=l[Z],me=l[D];Y.pairId===me.pairId?(b(M=>M+1),E(Y.pairId),setTimeout(()=>{o(M=>M.map(B=>B.id===Z||B.id===D?{...B,isMatched:!0}:B)),h(M=>M+1),m([]),_(!0),E(null)},1e3)):(R(M=>M+1),setTimeout(()=>{o(M=>M.map(B=>B.id===Z||B.id===D?{...B,isFlipped:!1}:B)),m([]),_(!0)},1200))}},O=(z,L)=>({total_moves:p,correct_moves:u,incorrect_moves:j,time_elapsed_ms:z,completed:L}),F=()=>{if(y)return;const z=Date.now()-k;v(!0),q(z),I.current&&clearInterval(I.current),r(O(z,!0))},A=z=>{const L=Math.floor(z/1e3),Z=Math.floor(L/60),D=L%60;return`${Z}:${D.toString().padStart(2,"0")}`},U=p>0?(u/p*100).toFixed(0):"0";return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"bg-gradient-to-r from-primary-600 to-secondary rounded-lg p-3 sm:p-4 mb-4 shadow-lg",children:e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center text-white",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Temps"}),e.jsx("div",{className:"text-base sm:text-xl font-bold",children:A($)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Paires"}),e.jsxs("div",{className:"text-base sm:text-xl font-bold",children:[x,"/",i]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Essais"}),e.jsx("div",{className:"text-base sm:text-xl font-bold",children:p})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Prcision"}),e.jsxs("div",{className:"text-base sm:text-xl font-bold",children:[U,"%"]})]})]})}),w!==null&&e.jsx("div",{className:"text-center py-2 bg-green-100 dark:bg-green-900/30 rounded-lg mb-4 animate-pulse",children:e.jsxs("p",{className:"text-sm font-semibold text-green-800 dark:text-green-200",children:[" ",(T=l.find(z=>z.pairId===w))==null?void 0:T.label]})}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-2 sm:p-4",children:e.jsx("div",{className:"grid gap-2 sm:gap-3",style:{gridTemplateColumns:`repeat(${n}, 1fr)`,gridTemplateRows:`repeat(${a}, 1fr)`,maxWidth:"100%",aspectRatio:`${n} / ${a}`},children:l.map(z=>e.jsxs("button",{onClick:()=>V(z.id),disabled:!N||z.isMatched||z.isFlipped,className:`
                relative aspect-square rounded-lg shadow-md
                transition-all duration-300 transform
                active:scale-95
                ${z.isFlipped||z.isMatched?"bg-white dark:bg-gray-100":"bg-gradient-to-br from-purple-500 to-pink-600"}
                ${z.isMatched?"opacity-60 cursor-not-allowed":""}
                ${!N&&!z.isMatched&&!z.isFlipped?"cursor-not-allowed":"cursor-pointer"}
                ${d.includes(z.id)?"ring-4 ring-yellow-400":""}
                hover:scale-105
                touch-manipulation
                select-none
              `,style:{minWidth:"50px",minHeight:"50px"},children:[!z.isFlipped&&!z.isMatched&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white",children:[e.jsx("div",{className:"text-2xl sm:text-3xl mb-1",children:""}),e.jsx("div",{className:"text-xs opacity-70",children:"?"})]}),(z.isFlipped||z.isMatched)&&e.jsxs("div",{className:`
                  absolute inset-0 flex flex-col items-center justify-center
                  ${z.isMatched?"animate-bounce-once":""}
                `,children:[e.jsx("div",{className:"text-3xl sm:text-5xl mb-1",children:z.content}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-500 text-center px-1",children:z.label})]})]},z.id))})}),y&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 max-w-md w-full text-center shadow-2xl",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:"Excellent !"}),e.jsxs("div",{className:"space-y-2 text-gray-700 dark:text-gray-300 mb-6",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Temps :"})," ",A($)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Essais :"})," ",p]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prcision :"})," ",U,"%"]})]})]})}),e.jsx("div",{className:"mt-4",children:e.jsx(G,{variant:"outline",fullWidth:!0,onClick:J,children:" Recommencer"})})]})}function mm({exerciseId:t,exerciseName:r,exerciseType:s}){const a=tt(),[n,i]=c.useState([]),[l,o]=c.useState(null),[d,m]=c.useState(null),[x,h]=c.useState(!1),[p,g]=c.useState(!0),[u,b]=c.useState(!1),[j,R]=c.useState(null),[k,S]=c.useState(null);c.useEffect(()=>{$()},[s]);const $=async()=>{var _,w;g(!0),R(null);try{const E=await br.getPresets(s);i(E),E.length>0&&o(E[0])}catch(E){console.error("Failed to load presets:",E),R(((w=(_=E.response)==null?void 0:_.data)==null?void 0:w.detail)||"Erreur de chargement des configurations")}finally{g(!1)}},q=async()=>{var _,w;if(l){R(null),b(!0);try{const E=await br.createSession({exercise_id:t,config:l.config});m(E),h(!0),S(null)}catch(E){console.error("Failed to create session:",E),R(((w=(_=E.response)==null?void 0:_.data)==null?void 0:w.detail)||"Erreur de cration de la session")}finally{b(!1)}}},C=async _=>{if(d)try{await br.updateSession(d.id,{total_moves:_.total_moves,correct_moves:_.correct_moves,incorrect_moves:_.incorrect_moves,time_elapsed_ms:_.time_elapsed_ms,max_sequence_reached:_.max_sequence_reached})}catch(w){console.warn("Failed to auto-save progress:",w)}},P=async _=>{var w,E;if(d){b(!0);try{const I=await br.updateSession(d.id,{completed_at:new Date().toISOString(),total_moves:_.total_moves,correct_moves:_.correct_moves,incorrect_moves:_.incorrect_moves,time_elapsed_ms:_.time_elapsed_ms,max_sequence_reached:_.max_sequence_reached});S(I.final_score||0),h(!1)}catch(I){console.error("Failed to save results:",I),R(((E=(w=I.response)==null?void 0:w.data)==null?void 0:E.detail)||"Erreur de sauvegarde des rsultats")}finally{b(!1)}}},y=()=>{m(null),h(!1),S(null)},v=_=>{switch(_){case vt.EASY:return"bg-green-500";case vt.MEDIUM:return"bg-yellow-500";case vt.HARD:return"bg-orange-500";case vt.EXPERT:return"bg-red-500";default:return"bg-gray-500"}},N=()=>{if(!l||!d)return null;const _={config:l.config,onComplete:P,onProgress:C};switch(s){case Xe.MEMORY_CARDS:return e.jsx(lm,{..._});case Xe.PATTERN_RECALL:return e.jsx(om,{..._});case Xe.SEQUENCE_MEMORY:return e.jsx(cm,{..._});case Xe.IMAGE_PAIRS:return e.jsx(um,{..._});default:return e.jsx("div",{children:"Type d'exercice non support"})}};return p?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Chargement..."})]})}):j?e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("span",{className:"text-6xl mb-4 block",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-red-600 dark:text-red-400 mb-2",children:"Erreur"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:j}),e.jsx(G,{variant:"primary",onClick:$,children:"Ressayer"})]})})}):x&&l?e.jsxs("div",{className:"h-full",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r}),e.jsx("span",{className:`px-3 py-1 rounded-full text-white text-sm font-semibold ${v(l.difficulty)}`,children:l.name})]}),N()]}):k!==null?e.jsxs(X,{children:[e.jsx(ce,{title:" Exercice termin !"}),e.jsx(K,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsxs("h3",{className:"text-3xl font-bold text-primary-600 mb-2",children:["Score: ",k.toFixed(0)]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Difficult: ",l==null?void 0:l.name]}),e.jsxs("div",{className:"flex gap-3 justify-center flex-wrap",children:[e.jsx(G,{variant:"primary",onClick:y,children:" Rejouer"}),e.jsx(G,{variant:"outline",onClick:()=>a("/exercises"),children:" Retour aux exercices"}),e.jsx(G,{variant:"secondary",onClick:()=>a(`/exercises/${t}`),children:" Voir mes stats"})]})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(X,{children:[e.jsx(ce,{title:r,subtitle:"Choisis ta difficult pour commencer"}),e.jsxs(K,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:n.map(_=>e.jsxs("button",{onClick:()=>o(_),className:`
                  p-6 rounded-lg border-2 transition-all
                  ${(l==null?void 0:l.name)===_.name?"border-primary-600 bg-primary-50 dark:bg-primary-900/20":"border-gray-300 dark:border-gray-600 hover:border-primary-400"}
                  touch-manipulation
                `,children:[e.jsx("div",{className:`w-12 h-12 rounded-full mx-auto mb-3 flex items-center justify-center ${v(_.difficulty)}`,children:e.jsxs("span",{className:"text-2xl text-white",children:[_.difficulty===vt.EASY&&"",_.difficulty===vt.MEDIUM&&"",_.difficulty===vt.HARD&&"",_.difficulty===vt.EXPERT&&""]})}),e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:_.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[_.config.grid_rows&&_.config.grid_cols?`Grille ${_.config.grid_rows}${_.config.grid_cols}`:"",_.config.initial_sequence_length?`Squence ${_.config.initial_sequence_length}+`:""]})]},_.name))}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(G,{variant:"primary",size:"lg",onClick:q,disabled:!l||u,children:u?"Chargement...":" Commencer"})})]})]}),e.jsxs(X,{children:[e.jsx(ce,{title:" Comment jouer"}),e.jsx(K,{children:e.jsxs("div",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[s===Xe.MEMORY_CARDS&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:" Objectif :"})," Trouve toutes les paires de cartes identiques"]}),e.jsxs("p",{children:[e.jsx("strong",{children:" Comment :"})," Clique sur 2 cartes pour les retourner. Si elles correspondent, elles restent visibles."]})]}),s===Xe.PATTERN_RECALL&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:" Objectif :"})," Mmorise et reproduis le motif de couleurs"]}),e.jsxs("p",{children:[e.jsx("strong",{children:" Comment :"})," Observe le motif, puis recr-le en cliquant sur les cellules"]})]}),s===Xe.SEQUENCE_MEMORY&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:" Objectif :"})," Mmorise et rpte la squence (style Simon)"]}),e.jsxs("p",{children:[e.jsx("strong",{children:" Comment :"})," Observe l'ordre des cases qui s'allument, puis reproduis-le"]})]}),s===Xe.IMAGE_PAIRS&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:" Objectif :"})," Associe les paires d'images lies au gaming"]}),e.jsxs("p",{children:[e.jsx("strong",{children:" Comment :"})," Trouve les paires d'icnes qui vont ensemble (arme + dgts, etc.)"]})]}),e.jsxs("p",{className:"text-primary-600 dark:text-primary-400",children:[e.jsx("strong",{children:" Astuce :"})," Tes performances sont automatiquement sauvegardes et ton score sera ajout  tes statistiques !"]})]})})]})]})}function xm(){const{exerciseId:t}=or(),r=tt(),[s,a]=c.useState(null),[n,i]=c.useState(!0),[l,o]=c.useState(null);c.useEffect(()=>{t&&d(parseInt(t))},[t]);const d=async h=>{var p,g;i(!0),o(null);try{const u=await gt.getExercise(h);a(u),u.category!==Ir.MEMOIRE&&o("Cet exercice n'est pas un exercice de mmoire visuelle")}catch(u){console.error("Failed to load exercise:",u),o(((g=(p=u.response)==null?void 0:p.data)==null?void 0:g.detail)||"Erreur de chargement de l'exercice")}finally{i(!1)}},m=h=>{const p=h.name.toLowerCase();return p.includes("carte")||p.includes("card")||p.includes("paires")?Xe.MEMORY_CARDS:p.includes("motif")||p.includes("pattern")?Xe.PATTERN_RECALL:p.includes("squence")||p.includes("sequence")||p.includes("simon")?Xe.SEQUENCE_MEMORY:p.includes("image")||p.includes("association")?Xe.IMAGE_PAIRS:Xe.MEMORY_CARDS};if(n)return e.jsx(Re,{children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Chargement de l'exercice..."})]})})});if(l||!s)return e.jsx(Re,{children:e.jsx(X,{children:e.jsx(K,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("span",{className:"text-6xl mb-4 block",children:""}),e.jsx("h3",{className:"text-xl font-semibold text-red-600 dark:text-red-400 mb-2",children:"Erreur"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:l||"Exercice introuvable"}),e.jsx(G,{variant:"primary",onClick:()=>r("/exercises"),children:"Retour aux exercices"})]})})})});const x=m(s);return e.jsx(Re,{children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("div",{className:"mb-4",children:e.jsx(G,{variant:"outline",size:"sm",onClick:()=>r("/exercises"),children:" Retour aux exercices"})}),e.jsx(mm,{exerciseId:s.id,exerciseName:s.name,exerciseType:x})]})})}var hm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pm=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gm=(t,r)=>{const s=c.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,children:o,...d},m)=>c.createElement("svg",{ref:m,...hm,width:n,height:n,stroke:a,strokeWidth:l?Number(i)*24/Number(n):i,className:`lucide lucide-${pm(t)}`,...d},[...r.map(([x,h])=>c.createElement(x,h)),...(Array.isArray(o)?o:[o])||[]]));return s.displayName=`${t}`,s};var Xr=gm;const fm=Xr("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),bm=Xr("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),ym=Xr("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),vm=Xr("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);var Is={variant:"default",colors:{primary:"bg-blue-500",primaryHover:"hover:bg-blue-600",accent:"bg-cyan-500",accentHover:"hover:bg-cyan-600",background:"bg-slate-900",backgroundSecondary:"bg-slate-800",card:"bg-slate-700",cardHover:"hover:bg-slate-600",text:"text-white",textSecondary:"text-gray-300",border:"border-slate-600",success:"bg-green-500",warning:"bg-yellow-500",error:"bg-red-500"},borderRadius:"lg",shadows:"md"},jm={variant:"ermite",colors:{primary:"bg-emerald-600",primaryHover:"hover:bg-emerald-700",accent:"bg-amber-500",accentHover:"hover:bg-amber-600",background:"bg-slate-950",backgroundSecondary:"bg-slate-900",card:"bg-slate-800",cardHover:"hover:bg-slate-700",text:"text-gray-100",textSecondary:"text-gray-400",border:"border-slate-700",success:"bg-emerald-500",warning:"bg-amber-500",error:"bg-rose-500"},borderRadius:"xl",fontFamily:"font-mono",shadows:"lg"},Nm={variant:"shinkofa",colors:{primary:"bg-teal-600",primaryHover:"hover:bg-teal-700",accent:"bg-orange-500",accentHover:"hover:bg-orange-600",background:"bg-stone-900",backgroundSecondary:"bg-stone-800",card:"bg-stone-700",cardHover:"hover:bg-stone-600",text:"text-stone-50",textSecondary:"text-stone-300",border:"border-stone-600",success:"bg-teal-500",warning:"bg-amber-500",error:"bg-red-500"},borderRadius:"2xl",shadows:"md"},wm={variant:"esport",colors:{primary:"bg-purple-600",primaryHover:"hover:bg-purple-700",accent:"bg-pink-500",accentHover:"hover:bg-pink-600",background:"bg-gray-900",backgroundSecondary:"bg-gray-800",card:"bg-gray-700",cardHover:"hover:bg-gray-600",text:"text-white",textSecondary:"text-gray-300",border:"border-gray-600",success:"bg-green-500",warning:"bg-yellow-500",error:"bg-red-500"},borderRadius:"lg",shadows:"xl"},km={default:Is,ermite:jm,shinkofa:Nm,esport:wm};function Sm(t){return km[t]||Is}function ct(t){return t?typeof t=="string"?Sm(t):t:Is}function dt(t){return{bgPrimary:t.colors.primary,bgPrimaryHover:t.colors.primaryHover,bgAccent:t.colors.accent,bgAccentHover:t.colors.accentHover,bgMain:t.colors.background,bgSecondary:t.colors.backgroundSecondary,bgCard:t.colors.card,bgCardHover:t.colors.cardHover,textMain:t.colors.text,textSecondary:t.colors.textSecondary,border:t.colors.border,borderRadius:`rounded-${t.borderRadius}`,bgSuccess:t.colors.success,bgWarning:t.colors.warning,bgError:t.colors.error,shadow:`shadow-${t.shadows}`,font:t.fontFamily||""}}function ut(t,r){return r?`${t} ${r}`:t}var Cm={gaming:["","","","","","","","","","","","","","","","","","","",""]};function Em({config:t,className:r,theme:s,onComplete:a,onProgress:n}){const[i,l]=c.useState("medium"),[o,d]=c.useState([]),[m,x]=c.useState([]),[h,p]=c.useState(0),[g,u]=c.useState(0),[b,j]=c.useState(0),[R,k]=c.useState(0),[S,$]=c.useState(0),[q,C]=c.useState(0),[P,y]=c.useState(!1),[v,N]=c.useState(!1),[_,w]=c.useState(!0),E=c.useRef(null),I=()=>{switch(i){case"easy":return{rows:2,cols:3};case"medium":return{rows:4,cols:4};case"hard":return{rows:4,cols:5}}},{rows:J,cols:V}=I(),O=J*V/2,F=ct(s),A=dt(F);c.useEffect(()=>(U(),()=>{E.current&&clearInterval(E.current)}),[i]),c.useEffect(()=>{if(P&&!v)return E.current=setInterval(()=>{const Y=Date.now()-S;C(Y),n&&Y%5e3<100&&n(z(Y,!1))},100),()=>{E.current&&clearInterval(E.current)}},[P,v,S]),c.useEffect(()=>{h===O&&O>0&&P&&L()},[h,O]);const U=()=>{const Y=Cm.gaming,me=O,M=Y.slice(0,me),Q=[...M,...M].map((se,ue)=>({id:ue,value:se,isFlipped:!1,isMatched:!1,position:{row:Math.floor(ue/V),col:ue%V}})).sort(()=>Math.random()-.5).map((se,ue)=>({...se,id:ue,position:{row:Math.floor(ue/V),col:ue%V}}));d(Q),x([]),p(0),u(0),j(0),k(0),C(0),y(!1),N(!1),w(!0)},T=Y=>{if(!_||v||m.includes(Y)||o[Y].isMatched)return;P||(y(!0),$(Date.now()));const me=[...m,Y];if(x(me),d(M=>M.map(B=>B.id===Y?{...B,isFlipped:!0}:B)),me.length===2){w(!1),u(ue=>ue+1);const[M,B]=me,Q=o[M],se=o[B];Q.value===se.value?(j(ue=>ue+1),d(ue=>ue.map(ye=>ye.id===M||ye.id===B?{...ye,isMatched:!0}:ye)),p(ue=>ue+1),x([]),w(!0)):(k(ue=>ue+1),setTimeout(()=>{d(ue=>ue.map(ye=>ye.id===M||ye.id===B?{...ye,isFlipped:!1}:ye)),x([]),w(!0)},1e3))}},z=(Y,me)=>({total_moves:g,correct_moves:b,incorrect_moves:R,time_elapsed_ms:Y,completed:me}),L=()=>{if(v)return;const Y=Date.now()-S;N(!0),C(Y),E.current&&clearInterval(E.current),a&&a({exercise_type:t.exercise_type,difficulty:t.difficulty,config:t,is_completed:!0,total_moves:g,correct_moves:b,incorrect_moves:R,time_elapsed_ms:Y,accuracy:g>0?b/g*100:0})},Z=Y=>{const me=Math.floor(Y/1e3),M=Math.floor(me/60),B=me%60;return`${M}:${B.toString().padStart(2,"0")}`},D=g>0?(b/g*100).toFixed(0):"0";return e.jsxs("div",{className:ut(`h-full flex flex-col ${A.bgMain} ${A.textMain}`,r),children:[!P&&e.jsxs("div",{className:`${A.bgSecondary} ${A.borderRadius} p-4 mb-4`,children:[e.jsx("p",{className:`text-center mb-3 font-semibold ${A.textMain}`,children:"Choisis ton niveau de difficult :"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:()=>l("easy"),className:`
                px-4 py-3 ${A.borderRadius} font-semibold transition-all
                ${i==="easy"?`${A.bgSuccess} text-white scale-105`:`${A.bgCard} ${A.bgCardHover} ${A.border} border`}
              `,children:[" Facile",e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"3 paires"})]}),e.jsxs("button",{onClick:()=>l("medium"),className:`
                px-4 py-3 ${A.borderRadius} font-semibold transition-all
                ${i==="medium"?`${A.bgPrimary} text-white scale-105`:`${A.bgCard} ${A.bgCardHover} ${A.border} border`}
              `,children:[" Moyen",e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"8 paires"})]}),e.jsxs("button",{onClick:()=>l("hard"),className:`
                px-4 py-3 ${A.borderRadius} font-semibold transition-all
                ${i==="hard"?`${A.bgError} text-white scale-105`:`${A.bgCard} ${A.bgCardHover} ${A.border} border`}
              `,children:[" Difficile",e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"10 paires"})]})]})]}),e.jsx("div",{className:`bg-gradient-to-r ${A.bgPrimary} ${A.borderRadius} p-3 sm:p-4 mb-4 ${A.shadow}`,children:e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Temps"}),e.jsx("div",{className:"text-base sm:text-xl font-bold",children:Z(q)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Paires"}),e.jsxs("div",{className:"text-base sm:text-xl font-bold",children:[h,"/",O]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Coups"}),e.jsx("div",{className:"text-base sm:text-xl font-bold",children:g})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Prcision"}),e.jsxs("div",{className:"text-base sm:text-xl font-bold",children:[D,"%"]})]})]})}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-2 sm:p-4",children:e.jsx("div",{className:"grid gap-2 sm:gap-3",style:{gridTemplateColumns:`repeat(${V}, 1fr)`,gridTemplateRows:`repeat(${J}, 1fr)`,maxWidth:"100%",aspectRatio:`${V} / ${J}`},children:o.map(Y=>e.jsxs("button",{onClick:()=>T(Y.id),disabled:!_||Y.isMatched||Y.isFlipped,className:`
                relative aspect-square ${A.borderRadius} ${A.shadow}
                transition-all duration-300 transform
                active:scale-95
                ${Y.isFlipped||Y.isMatched?"bg-white dark:bg-gray-100":`bg-gradient-to-br ${A.bgAccent} ${A.bgAccentHover}`}
                ${Y.isMatched?"opacity-60 cursor-not-allowed":""}
                ${!_&&!Y.isMatched&&!Y.isFlipped?"cursor-not-allowed":"cursor-pointer"}
                hover:scale-105
                touch-manipulation
                select-none
              `,style:{minWidth:"50px",minHeight:"50px"},children:[!Y.isFlipped&&!Y.isMatched&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white text-2xl sm:text-4xl",children:"?"}),(Y.isFlipped||Y.isMatched)&&e.jsx("div",{className:`
                  absolute inset-0 flex items-center justify-center
                  text-3xl sm:text-5xl md:text-6xl
                  ${Y.isMatched?"animate-pulse":""}
                `,children:Y.value})]},Y.id))})}),v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fade-in",children:e.jsxs("div",{className:`${A.bgSecondary} ${A.borderRadius} p-6 max-w-md w-full text-center shadow-2xl animate-slide-up relative`,children:[e.jsx("button",{onClick:()=>N(!1),className:"absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full bg-gray-700 hover:bg-gray-600 text-white transition-colors","aria-label":"Fermer",children:""}),e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Bravo !"}),e.jsxs("div",{className:`space-y-2 ${A.textSecondary} mb-6`,children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Temps :"})," ",Z(q)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Coups :"})," ",g]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prcision :"})," ",D,"%"]})]}),e.jsx("button",{onClick:U,className:`w-full px-6 py-3 ${A.bgPrimary} ${A.bgPrimaryHover} ${A.borderRadius} font-semibold transition-all`,children:" Recommencer"})]})}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:U,className:`w-full px-6 py-3 ${A.bgCard} ${A.bgCardHover} ${A.borderRadius} ${A.border} border transition-all`,children:" Recommencer"})})]})}function Mm({config:t,className:r,theme:s,onComplete:a,onProgress:n}){const i=t.grid_rows||4,l=t.grid_cols||4,o=t.colors||["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899"],d=t.preview_duration_ms||3e3,m=t.time_limit_ms||6e4,[x,h]=c.useState("ready"),[p,g]=c.useState([]),[u,b]=c.useState([]),[j,R]=c.useState(3),[k,S]=c.useState(m),[$,q]=c.useState(0),[C,P]=c.useState(0),[y,v]=c.useState(0),[N,_]=c.useState(0),[w,E]=c.useState(null),I=c.useRef(null),J=c.useRef(null),V=ct(s),O=dt(V);c.useEffect(()=>()=>{I.current&&clearInterval(I.current),J.current&&clearTimeout(J.current)},[]);const F=c.useCallback(()=>{const M=[],B=i*l,Q=Math.floor(B*.4);for(let Fe=0;Fe<i;Fe++)for(let ie=0;ie<l;ie++)M.push({row:Fe,col:ie,color:"",isActive:!1,isRevealed:!1});return Array.from({length:B},(Fe,ie)=>ie).sort(()=>Math.random()-.5).slice(0,Q).forEach(Fe=>{const ie=o[Math.floor(Math.random()*o.length)];M[Fe].color=ie,M[Fe].isActive=!0}),M},[i,l,o]),A=()=>{const M=F();g(M),b(M.map(se=>({...se,isActive:!1,isRevealed:!1}))),h("ready"),R(3);let B=3;const Q=setInterval(()=>{B--,R(B),B===0&&(clearInterval(Q),h("memorize"),U())},1e3)},U=()=>{q(Date.now()),g(M=>M.map(B=>({...B,isRevealed:!0}))),J.current=setTimeout(()=>{h("recall"),T()},d)},T=()=>{g(M=>M.map(B=>({...B,isRevealed:!1}))),S(m),I.current=setInterval(()=>{S(M=>{const B=M-100;return B<=0?(D(),0):B})},100)},z=(M,B)=>{x==="recall"&&E({row:M,col:B})},L=M=>{x!=="recall"||!w||(b(B=>B.map(Q=>Q.row===w.row&&Q.col===w.col?{...Q,color:M,isActive:!0,isRevealed:!0}:Q)),E(null))},Z=(M,B)=>{x==="recall"&&(b(Q=>Q.map(se=>se.row===M&&se.col===B?{...se,color:"",isActive:!1,isRevealed:!1}:se)),w&&w.row===M&&w.col===B&&E(null))},D=()=>{I.current&&clearInterval(I.current);let M=0,B=0;p.forEach((Q,se)=>{const ue=u[se];Q.isActive===ue.isActive&&(!Q.isActive||Q.color===ue.color)?M++:B++}),v(M),_(B),P(i*l),h("feedback"),g(Q=>Q.map(se=>({...se,isRevealed:!0}))),setTimeout(()=>{const Q=Date.now()-$;h("completed"),a&&a({exercise_type:t.exercise_type,difficulty:t.difficulty,config:t,is_completed:!0,total_moves:i*l,correct_moves:M,incorrect_moves:B,time_elapsed_ms:Q,accuracy:M/(i*l)*100})},3e3)},Y=M=>{const B=Math.floor(M/1e3),Q=Math.floor(B/60),se=B%60;return`${Q}:${se.toString().padStart(2,"0")}`},me=C>0?(y/C*100).toFixed(0):"0";return e.jsxs("div",{className:ut(`h-full flex flex-col ${O.bgMain} ${O.textMain}`,r),children:[e.jsx("div",{className:`bg-gradient-to-r ${O.bgPrimary} ${O.borderRadius} p-3 sm:p-4 mb-4 ${O.shadow}`,children:e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Phase"}),e.jsx("div",{className:"text-sm sm:text-base font-bold capitalize",children:x==="ready"?"Prt...":x==="memorize"?"Mmorise !":x==="recall"?"Reproduis !":x==="feedback"?"Rsultat":"Termin"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:x==="recall"?"Temps restant":"Prcision"}),e.jsx("div",{className:"text-base sm:text-xl font-bold",children:x==="recall"?Y(k):`${me}%`})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Cellules"}),e.jsxs("div",{className:"text-base sm:text-xl font-bold",children:[y,"/",i*l]})]})]})}),e.jsxs("div",{className:"flex-1 flex items-center justify-center p-2 sm:p-4",children:[x==="ready"&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-8xl sm:text-9xl font-bold ${O.bgAccent.replace("bg-","text-")} mb-4`,children:j}),e.jsx("p",{className:`text-lg sm:text-xl ${O.textSecondary}`,children:"Prpare-toi  mmoriser le motif..."})]}),x!=="ready"&&e.jsx("div",{className:"grid gap-2 sm:gap-3",style:{gridTemplateColumns:`repeat(${l}, 1fr)`,gridTemplateRows:`repeat(${i}, 1fr)`,maxWidth:"100%",aspectRatio:`${l} / ${i}`},children:(x==="memorize"||x==="feedback"?p:u).map((M,B)=>e.jsx("div",{className:`
                  relative aspect-square ${O.borderRadius} ${O.shadow}
                  transition-all duration-300
                  ${x==="recall"?"cursor-pointer hover:scale-105 active:scale-95":""}
                  touch-manipulation select-none
                `,style:{backgroundColor:M.isRevealed&&M.isActive?M.color:"#e5e7eb",minWidth:"40px",minHeight:"40px",border:x==="feedback"?p[B].isActive===u[B].isActive&&(!p[B].isActive||p[B].color===u[B].color)?"3px solid #10B981":"3px solid #EF4444":x==="recall"&&w&&w.row===M.row&&w.col===M.col?"4px solid #3B82F6":"none"},onClick:()=>{x==="recall"&&z(M.row,M.col)},children:x==="recall"&&M.isActive&&e.jsx("button",{className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs",onClick:Q=>{Q.stopPropagation(),Z(M.row,M.col)},children:""})},B))})]}),x==="recall"&&e.jsxs("div",{className:`mt-4 p-4 ${O.bgSecondary} ${O.borderRadius} ${O.shadow}`,children:[e.jsx("p",{className:`text-sm text-center mb-2 ${O.textSecondary}`,children:w?"Choisis la couleur pour la cellule slectionne :":"Touche une cellule puis choisis sa couleur :"}),e.jsx("div",{className:"flex justify-center gap-2 flex-wrap",children:o.map(M=>e.jsx("button",{className:`w-12 h-12 sm:w-14 sm:h-14 ${O.borderRadius} ${O.shadow} hover:scale-110 active:scale-95 transition-transform touch-manipulation ${w?"":"opacity-50 cursor-not-allowed"}`,style:{backgroundColor:M},disabled:!w,onClick:()=>L(M)},M))})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[x==="recall"&&e.jsx("button",{onClick:D,className:`flex-1 px-6 py-3 ${O.bgPrimary} ${O.bgPrimaryHover} ${O.borderRadius} font-semibold transition-all`,children:" Valider"}),x==="completed"&&e.jsx("button",{onClick:A,className:`flex-1 px-6 py-3 ${O.bgCard} ${O.bgCardHover} ${O.borderRadius} ${O.border} border transition-all`,children:" Recommencer"}),x==="ready"&&e.jsx("button",{onClick:A,className:`flex-1 px-6 py-3 ${O.bgPrimary} ${O.bgPrimaryHover} ${O.borderRadius} font-semibold transition-all`,children:" Dmarrer"})]})]})}function Rm({config:t,className:r,theme:s,onComplete:a,onProgress:n}){const i=t.grid_rows||3,l=t.grid_cols||3,o=t.initial_sequence_length||3,d=t.max_sequence_length||20,m=t.preview_duration_ms||1e3,[x,h]=c.useState("ready"),[p,g]=c.useState([]),[u,b]=c.useState([]),[j,R]=c.useState([]),[k,S]=c.useState(o),[$,q]=c.useState(o),[C,P]=c.useState(null),[y,v]=c.useState(0),[N,_]=c.useState(0),[w,E]=c.useState(0),[I,J]=c.useState(3),V=c.useRef(null),O=ct(s),F=dt(O);c.useEffect(()=>(A(),()=>{V.current&&clearTimeout(V.current)}),[i,l]);const A=()=>{const M=[];let B=0;for(let Q=0;Q<i;Q++)for(let se=0;se<l;se++)M.push({row:Q,col:se,id:B++,isActive:!1});g(M)},U=()=>{h("ready"),b([]),R([]),S(o),q(o),_(0),E(0),J(3),v(Date.now()),setTimeout(()=>{T(o)},1e3)},T=c.useCallback(M=>{const B=i*l,Q=[];for(let se=0;se<M;se++)Q.push(Math.floor(Math.random()*B));b(Q),R([]),h("showing"),z(Q)},[i,l]),z=M=>{let B=0;const Q=()=>{if(B>=M.length){P(null),h("waiting");return}P(M[B]),V.current=setTimeout(()=>{P(null),setTimeout(()=>{B++,Q()},200)},m)};Q()},L=M=>{if(x!=="waiting")return;const B=[...j,M];R(B),_(se=>se+1),P(M),setTimeout(()=>P(null),200);const Q=B.length-1;if(u[Q]!==M){D();return}E(se=>se+1),B.length===u.length&&Z()},Z=()=>{const M=k+1;if(M>d){Y(!0);return}S(M),q(B=>Math.max(B,M)),n&&n({exercise_type:t.exercise_type,difficulty:t.difficulty,config:t,is_completed:!1,total_moves:N,correct_moves:w,incorrect_moves:N-w,time_elapsed_ms:Date.now()-y,max_sequence_reached:M,accuracy:N>0?w/N*100:100}),setTimeout(()=>{T(M)},1e3)},D=()=>{const M=I-1;J(M),M<=0?Y(!1):setTimeout(()=>{R([]),h("showing"),z(u)},1500)},Y=M=>{h(M?"completed":"failed");const B=Date.now()-y;a&&a({exercise_type:t.exercise_type,difficulty:t.difficulty,config:t,is_completed:!0,total_moves:N,correct_moves:w,incorrect_moves:N-w,time_elapsed_ms:B,max_sequence_reached:$,accuracy:N>0?w/N*100:100})},me=()=>($-o)/(d-o)*100;return e.jsxs("div",{className:ut(`h-full flex flex-col ${F.bgMain} ${F.textMain}`,r),children:[e.jsxs("div",{className:`bg-gradient-to-r ${F.bgPrimary} ${F.borderRadius} p-3 sm:p-4 mb-4 ${F.shadow}`,children:[e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Niveau"}),e.jsx("div",{className:"text-base sm:text-xl font-bold",children:k})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Record"}),e.jsx("div",{className:"text-base sm:text-xl font-bold",children:$})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Vies"}),e.jsx("div",{className:"text-base sm:text-xl font-bold flex justify-center gap-1",children:Array.from({length:3}).map((M,B)=>e.jsx("span",{children:B<I?"":""},B))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Prcision"}),e.jsxs("div",{className:"text-base sm:text-xl font-bold",children:[N>0?Math.round(w/N*100):100,"%"]})]})]}),e.jsx("div",{className:"mt-3 h-2 bg-white/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-white transition-all duration-500",style:{width:`${me()}%`}})})]}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("div",{className:`text-lg sm:text-xl font-semibold ${F.textMain}`,children:[x==="ready"&&"Prt  commencer...",x==="showing"&&" Mmorise la squence",x==="waiting"&&"  ton tour !",x==="failed"&&" Partie termine",x==="completed"&&" Bravo, niveau max !"]}),x==="waiting"&&e.jsxs("div",{className:`text-sm ${F.textSecondary} mt-1`,children:[j.length," / ",u.length]})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-2 sm:p-4",children:e.jsx("div",{className:"grid gap-3 sm:gap-4",style:{gridTemplateColumns:`repeat(${l}, 1fr)`,gridTemplateRows:`repeat(${i}, 1fr)`,maxWidth:"100%",aspectRatio:`${l} / ${i}`},children:p.map(M=>e.jsx("button",{onClick:()=>L(M.id),disabled:x!=="waiting",className:`
                relative aspect-square ${F.borderRadius}
                transition-all duration-200
                ${C===M.id?"bg-white scale-110 shadow-[0_0_30px_rgba(255,255,255,0.8)] animate-pulse ring-4 ring-white":`bg-gradient-to-br ${F.bgAccent} ${F.shadow}`}
                ${x==="waiting"?"cursor-pointer hover:scale-105 active:scale-95":"cursor-not-allowed"}
                touch-manipulation select-none
              `,style:{minWidth:"60px",minHeight:"60px"},children:e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white/20 text-xs font-mono",children:M.id+1})},M.id))})}),x==="showing"&&e.jsx("div",{className:"text-center py-2",children:e.jsx("div",{className:"flex justify-center gap-1",children:u.map((M,B)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${B<=u.indexOf(C||-1)?F.bgAccent.replace("bg-","bg-opacity-100 bg-"):`${F.bgCard} opacity-50`}`},B))})}),e.jsxs("div",{className:"mt-4",children:[x==="ready"&&e.jsx("button",{onClick:U,className:`w-full px-6 py-3 ${F.bgPrimary} ${F.bgPrimaryHover} ${F.borderRadius} font-semibold transition-all`,children:" Dmarrer"}),(x==="failed"||x==="completed")&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:`text-center p-4 ${F.bgSecondary} ${F.borderRadius}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:x==="completed"?"":""}),e.jsxs("p",{className:"text-lg font-semibold mb-2",children:["Record atteint : ",$]}),e.jsxs("p",{className:`text-sm ${F.textSecondary}`,children:["Prcision :"," ",N>0?Math.round(w/N*100):100,"%"]})]}),e.jsx("button",{onClick:U,className:`w-full px-6 py-3 ${F.bgCard} ${F.bgCardHover} ${F.borderRadius} ${F.border} border transition-all`,children:" Recommencer"})]})]})]})}var _m=[{question:"",answer:"",label:"Arme"},{question:"",answer:"",label:"Armure"},{question:"",answer:"",label:"Dgts Magiques"},{question:"",answer:"",label:"Vitesse"},{question:"",answer:"",label:"Sant"},{question:"",answer:"",label:"Prcision"},{question:"",answer:"",label:"Gold"},{question:"",answer:"",label:"Niveau"},{question:"",answer:"",label:"Ralentissement"},{question:"",answer:"",label:"tourdissement"},{question:"",answer:"",label:"Mana"},{question:"",answer:"",label:"Vision"},{question:"",answer:"",label:"Ward"},{question:"",answer:"",label:"Objectif"},{question:"",answer:"",label:"Tour"},{question:"",answer:"",label:"Comptence"},{question:"",answer:"",label:"Zone"},{question:"",answer:"",label:"Force"},{question:"",answer:"",label:"Mobilit"},{question:"",answer:"",label:"Passif"}];function Am({config:t,className:r,theme:s,onComplete:a,onProgress:n}){var M;const[i,l]=c.useState("medium"),o=()=>{switch(i){case"easy":return{rows:2,cols:3};case"medium":return{rows:4,cols:4};case"hard":return{rows:4,cols:5}}},{rows:d,cols:m}=o(),x=d*m/2,[h,p]=c.useState([]),[g,u]=c.useState([]),[b,j]=c.useState(0),[R,k]=c.useState(0),[S,$]=c.useState(0),[q,C]=c.useState(0),[P,y]=c.useState(0),[v,N]=c.useState(0),[_,w]=c.useState(!1),[E,I]=c.useState(!1),[J,V]=c.useState(!0),[O,F]=c.useState(null),A=c.useRef(null),U=ct(s),T=dt(U);c.useEffect(()=>(z(),()=>{A.current&&clearInterval(A.current)}),[i]),c.useEffect(()=>{if(_&&!E)return A.current=setInterval(()=>{const B=Date.now()-P;N(B),n&&B%5e3<100&&n(Z(B,!1))},100),()=>{A.current&&clearInterval(A.current)}},[_,E,P]),c.useEffect(()=>{b===x&&x>0&&_&&D()},[b,x]);const z=()=>{const B=_m.slice(0,x),Q=[];B.forEach((ue,ye)=>{Q.push({id:ye*2,pairId:ye,type:"question",content:ue.question,label:ue.label,isFlipped:!1,isMatched:!1}),Q.push({id:ye*2+1,pairId:ye,type:"answer",content:ue.answer,label:ue.label,isFlipped:!1,isMatched:!1})});const se=Q.sort(()=>Math.random()-.5).map((ue,ye)=>({...ue,id:ye}));p(se),u([]),j(0),k(0),$(0),C(0),N(0),w(!1),I(!1),V(!0),F(null)},L=B=>{if(!J||E||g.includes(B)||h[B].isMatched||g.length>=2)return;_||(w(!0),y(Date.now()));const Q=[...g,B];if(u(Q),p(se=>se.map(ue=>ue.id===B?{...ue,isFlipped:!0}:ue)),Q.length===2){V(!1),k(ie=>ie+1);const[se,ue]=Q,ye=h[se],Fe=h[ue];ye.pairId===Fe.pairId?($(ie=>ie+1),F(ye.pairId),setTimeout(()=>{p(ie=>ie.map(le=>le.id===se||le.id===ue?{...le,isMatched:!0}:le)),j(ie=>ie+1),u([]),V(!0),F(null)},1e3)):(C(ie=>ie+1),setTimeout(()=>{p(ie=>ie.map(le=>le.id===se||le.id===ue?{...le,isFlipped:!1}:le)),u([]),V(!0)},1200))}},Z=(B,Q)=>({total_moves:R,correct_moves:S,incorrect_moves:q,time_elapsed_ms:B,completed:Q}),D=()=>{if(E)return;const B=Date.now()-P;I(!0),N(B),A.current&&clearInterval(A.current),a&&a({exercise_type:t.exercise_type,difficulty:t.difficulty,config:t,is_completed:!0,total_moves:R,correct_moves:S,incorrect_moves:q,time_elapsed_ms:B,accuracy:R>0?S/R*100:0})},Y=B=>{const Q=Math.floor(B/1e3),se=Math.floor(Q/60),ue=Q%60;return`${se}:${ue.toString().padStart(2,"0")}`},me=R>0?(S/R*100).toFixed(0):"0";return e.jsxs("div",{className:ut(`h-full flex flex-col ${T.bgMain} ${T.textMain}`,r),children:[!_&&e.jsxs("div",{className:`${T.bgSecondary} ${T.borderRadius} p-4 mb-4`,children:[e.jsx("p",{className:`text-center mb-3 font-semibold ${T.textMain}`,children:"Choisis ton niveau de difficult :"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:()=>l("easy"),className:`
                px-4 py-3 ${T.borderRadius} font-semibold transition-all
                ${i==="easy"?`${T.bgSuccess} text-white scale-105`:`${T.bgCard} ${T.bgCardHover} ${T.border} border`}
              `,children:[" Facile",e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"3 paires"})]}),e.jsxs("button",{onClick:()=>l("medium"),className:`
                px-4 py-3 ${T.borderRadius} font-semibold transition-all
                ${i==="medium"?`${T.bgPrimary} text-white scale-105`:`${T.bgCard} ${T.bgCardHover} ${T.border} border`}
              `,children:[" Moyen",e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"8 paires"})]}),e.jsxs("button",{onClick:()=>l("hard"),className:`
                px-4 py-3 ${T.borderRadius} font-semibold transition-all
                ${i==="hard"?`${T.bgError} text-white scale-105`:`${T.bgCard} ${T.bgCardHover} ${T.border} border`}
              `,children:[" Difficile",e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"10 paires"})]})]})]}),e.jsx("div",{className:`bg-gradient-to-r ${T.bgPrimary} ${T.borderRadius} p-3 sm:p-4 mb-4 ${T.shadow}`,children:e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Temps"}),e.jsx("div",{className:"text-base sm:text-xl font-bold",children:Y(v)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Paires"}),e.jsxs("div",{className:"text-base sm:text-xl font-bold",children:[b,"/",x]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Essais"}),e.jsx("div",{className:"text-base sm:text-xl font-bold",children:R})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs sm:text-sm opacity-80",children:"Prcision"}),e.jsxs("div",{className:"text-base sm:text-xl font-bold",children:[me,"%"]})]})]})}),O!==null&&e.jsx("div",{className:`text-center py-2 ${T.bgSuccess} ${T.borderRadius} mb-4 animate-pulse`,children:e.jsxs("p",{className:`text-sm font-semibold ${T.textMain}`,children:[" ",(M=h.find(B=>B.pairId===O))==null?void 0:M.label]})}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-2 sm:p-4",children:e.jsx("div",{className:"grid gap-2 sm:gap-3",style:{gridTemplateColumns:`repeat(${m}, 1fr)`,gridTemplateRows:`repeat(${d}, 1fr)`,maxWidth:"100%",aspectRatio:`${m} / ${d}`},children:h.map(B=>e.jsxs("button",{onClick:()=>L(B.id),disabled:!J||B.isMatched||B.isFlipped,className:`
                relative aspect-square ${T.borderRadius} ${T.shadow}
                transition-all duration-300 transform
                active:scale-95
                ${B.isFlipped||B.isMatched?"bg-white dark:bg-gray-100":`bg-gradient-to-br ${T.bgAccent}`}
                ${B.isMatched?"opacity-60 cursor-not-allowed":""}
                ${!J&&!B.isMatched&&!B.isFlipped?"cursor-not-allowed":"cursor-pointer"}
                ${g.includes(B.id)?"ring-4 ring-yellow-400":""}
                hover:scale-105
                touch-manipulation
                select-none
              `,style:{minWidth:"50px",minHeight:"50px"},children:[!B.isFlipped&&!B.isMatched&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white",children:[e.jsx("div",{className:"text-2xl sm:text-3xl mb-1",children:""}),e.jsx("div",{className:"text-xs opacity-70",children:"?"})]}),(B.isFlipped||B.isMatched)&&e.jsxs("div",{className:`
                  absolute inset-0 flex flex-col items-center justify-center
                  ${B.isMatched?"animate-pulse":""}
                `,children:[e.jsx("div",{className:"text-3xl sm:text-5xl mb-1",children:B.content}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-500 text-center px-1",children:B.label})]})]},B.id))})}),E&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fade-in",children:e.jsxs("div",{className:`${T.bgSecondary} ${T.borderRadius} p-6 max-w-md w-full text-center shadow-2xl animate-slide-up relative`,children:[e.jsx("button",{onClick:()=>I(!1),className:"absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full bg-gray-700 hover:bg-gray-600 text-white transition-colors","aria-label":"Fermer",children:""}),e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Excellent !"}),e.jsxs("div",{className:`space-y-2 ${T.textSecondary} mb-6`,children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Temps :"})," ",Y(v)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Essais :"})," ",R]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Prcision :"})," ",me,"%"]})]}),e.jsx("button",{onClick:z,className:`w-full px-6 py-3 ${T.bgPrimary} ${T.bgPrimaryHover} ${T.borderRadius} font-semibold transition-all`,children:" Recommencer"})]})}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:z,className:`w-full px-6 py-3 ${T.bgCard} ${T.bgCardHover} ${T.borderRadius} ${T.border} border transition-all`,children:" Recommencer"})})]})}var Tm=[{name:"Cohrence Cardiaque",description:"5s inspiration / 5s expiration",inhale:5,hold:0,exhale:5,rest:0,frequency:432},{name:"Relaxation 4-7-8",description:"Calme profond et sommeil",inhale:4,hold:7,exhale:8,rest:0,frequency:396},{name:"nergisant",description:"Boost d'nergie",inhale:4,hold:4,exhale:4,rest:4,frequency:528}];function Pm({patterns:t=Tm,defaultPatternIndex:r=0,enableSound:s=!0,className:a,theme:n,onComplete:i,onProgress:l}){const[o,d]=c.useState(!1),[m,x]=c.useState(r),[h,p]=c.useState("inhale"),[g,u]=c.useState(t[r].inhale),[b,j]=c.useState(s),[R,k]=c.useState(0),[S,$]=c.useState(0),q=c.useRef(null),C=c.useRef(null),P=c.useRef(null),y=t[m],v=ct(n),N=dt(v);c.useEffect(()=>(typeof window<"u"&&(q.current=new(window.AudioContext||window.webkitAudioContext),P.current=q.current.createGain(),P.current.connect(q.current.destination),P.current.gain.value=0),()=>{C.current&&C.current.stop(),q.current&&q.current.close()}),[]),c.useEffect(()=>{if(!(!q.current||!P.current))if(o&&b){C.current||(C.current=q.current.createOscillator(),C.current.type="sine",C.current.frequency.value=y.frequency,C.current.connect(P.current),C.current.start());const V=h==="exhale"?.1:.05;P.current.gain.setTargetAtTime(V,q.current.currentTime,.3)}else C.current&&P.current&&P.current.gain.setTargetAtTime(0,q.current.currentTime,.3)},[o,b,h,y.frequency]),c.useEffect(()=>{if(!o)return;const V=setInterval(()=>{u(O=>{if(O<=1){let F="inhale",A=y.inhale;return h==="inhale"?y.hold>0?(F="hold",A=y.hold):(F="exhale",A=y.exhale):h==="hold"?(F="exhale",A=y.exhale):h==="exhale"?y.rest>0?(F="rest",A=y.rest):(F="inhale",A=y.inhale,k(U=>U+1)):(F="inhale",A=y.inhale,k(U=>U+1)),p(F),l&&l({pattern_name:y.name,cycles_completed:R,duration_ms:Date.now()-S}),A}return O-1})},1e3);return()=>clearInterval(V)},[o,h,y,R]);const _=()=>{o?i&&i({pattern_name:y.name,cycles_completed:R,duration_ms:Date.now()-S}):(p("inhale"),u(y.inhale),k(0),$(Date.now())),d(!o)},w=V=>{x(V),d(!1),p("inhale"),u(t[V].inhale),k(0),C.current&&(C.current.frequency.value=t[V].frequency)},E=()=>{switch(h){case"inhale":return"Inspire";case"hold":return"Retiens";case"exhale":return"Expire";case"rest":return"Pause"}},I=()=>{switch(h){case"inhale":return"from-blue-400 to-blue-600";case"hold":return"from-purple-400 to-purple-600";case"exhale":return"from-green-400 to-green-600";case"rest":return"from-gray-400 to-gray-600"}},J=()=>{const V=h==="inhale"?y.inhale:h==="hold"?y.hold:h==="exhale"?y.exhale:y.rest,O=1-g/V;return h==="inhale"?.3+O*.7:h==="exhale"?1-O*.7:1};return e.jsxs("div",{className:ut(`${N.bgMain} ${N.borderRadius} p-6 space-y-6`,a),children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h3",{className:`text-2xl font-bold ${N.textMain}`,children:" Respiration Guide"})}),e.jsx("div",{className:"flex gap-2",children:t.map((V,O)=>e.jsx("button",{onClick:()=>w(O),className:`flex-1 px-3 py-2 ${N.borderRadius} text-xs font-semibold transition-all ${m===O?`${N.bgAccent} ${N.textMain}`:`${N.bgCard} ${N.textSecondary} ${N.bgCardHover}`}`,children:V.name},O))}),e.jsx("p",{className:`text-sm ${N.textSecondary} text-center`,children:y.description}),e.jsx("div",{className:"relative flex items-center justify-center h-64",children:e.jsx("div",{className:`absolute w-48 h-48 rounded-full bg-gradient-to-br ${I()} transition-transform duration-1000 ease-in-out flex items-center justify-center shadow-2xl`,style:{transform:`scale(${J()})`,boxShadow:o?`0 0 60px rgba(96, 165, 250, ${J()*.5})`:"0 0 20px rgba(96, 165, 250, 0.3)"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:g}),e.jsx("div",{className:"text-lg text-white/90",children:E()})]})})}),e.jsxs("div",{className:`text-center ${N.textSecondary} text-sm`,children:["Cycles complts : ",R]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:_,className:`flex-1 px-6 py-4 ${N.borderRadius} font-semibold transition-all flex items-center justify-center gap-2 ${o?`${N.bgWarning} hover:opacity-90`:`${N.bgAccent} ${N.bgAccentHover}`} ${N.textMain}`,children:o?e.jsxs(e.Fragment,{children:[e.jsx(fm,{size:20}),"Pause"]}):e.jsxs(e.Fragment,{children:[e.jsx(bm,{size:20}),"Dmarrer"]})}),e.jsx("button",{onClick:()=>j(!b),className:`px-6 py-4 ${N.borderRadius} transition-all flex items-center gap-2 ${b?`${N.bgCard} ${N.bgCardHover}`:`${N.bgSecondary} opacity-60`} ${N.textMain}`,title:b?"Dsactiver le son":"Activer le son",children:b?e.jsx(ym,{size:20}):e.jsx(vm,{size:20})})]}),e.jsxs("div",{className:`${N.bgSecondary} ${N.borderRadius} p-3 text-sm ${N.textSecondary}`,children:[e.jsxs("p",{className:"font-semibold mb-1",children:[" Frquence : ",y.frequency," Hz"]}),e.jsxs("p",{className:"text-xs opacity-80",children:[y.frequency===432&&"Harmonie naturelle et relaxation",y.frequency===396&&"Libration du stress et des peurs",y.frequency===528&&"Transformation et rparation"]})]})]})}function Fm({totalAttempts:t=5,className:r,theme:s,onComplete:a,onProgress:n}){const[i,l]=c.useState("idle"),[o,d]=c.useState(0),[m,x]=c.useState("medium"),[h,p]=c.useState({attempts:[],averageTime:0,fastestTime:0,slowestTime:0,consistency:0}),g=c.useRef(0),u=c.useRef(null),b=ct(s),j=dt(b);c.useEffect(()=>()=>{u.current&&clearTimeout(u.current)},[]);const R=()=>{switch(m){case"easy":return{min:2e3,max:5e3};case"medium":return{min:1500,max:4e3};case"hard":return{min:1e3,max:3e3}}},k=y=>{if(y.length===0)return{attempts:[],averageTime:0,fastestTime:0,slowestTime:0,consistency:0};const v=y.map(J=>J.reactionTime),N=v.reduce((J,V)=>J+V,0)/v.length,_=Math.min(...v),w=Math.max(...v),E=v.reduce((J,V)=>J+Math.pow(V-N,2),0)/v.length,I=Math.sqrt(E);return{attempts:y,averageTime:N,fastestTime:_,slowestTime:w,consistency:I}},S=()=>{u.current&&clearTimeout(u.current),l("waiting");const y=R(),v=Math.random()*(y.max-y.min)+y.min;u.current=setTimeout(()=>{l("ready"),g.current=Date.now()},v)},$=()=>{if(i==="waiting"){u.current&&clearTimeout(u.current),l("tooEarly");return}if(i==="ready"){const v={reactionTime:Date.now()-g.current,timestamp:Date.now()},N=[...h.attempts,v],_=k(N);p(_),d(o+1),l("result"),n&&n({..._,is_completed:!1}),o+1>=t?a&&a({..._,is_completed:!0}):setTimeout(()=>{S()},1500)}},q=()=>{u.current&&clearTimeout(u.current),l("idle"),d(0),p({attempts:[],averageTime:0,fastestTime:0,slowestTime:0,consistency:0})},C=()=>{switch(i){case"waiting":return j.bgError;case"ready":return j.bgSuccess;case"tooEarly":return j.bgWarning;default:return j.bgPrimary}},P=()=>{var y;switch(i){case"idle":return"Cliquez pour commencer";case"waiting":return"Attendez...";case"ready":return"CLIQUEZ MAINTENANT !";case"tooEarly":return"Trop tt ! Attendez le vert";case"result":return`${(y=h.attempts[h.attempts.length-1])==null?void 0:y.reactionTime}ms`}};return e.jsxs("div",{className:ut(`h-full flex flex-col ${j.bgMain} ${j.textMain} p-6`,r),children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:" Test de Temps de Raction"}),e.jsxs("p",{className:j.textSecondary,children:["Tentative ",o+1," / ",t]})]}),i==="idle"&&e.jsxs("div",{className:`${j.bgSecondary} ${j.borderRadius} p-4 mb-6`,children:[e.jsx("p",{className:`text-center mb-3 font-semibold ${j.textMain}`,children:"Choisis ton niveau de difficult :"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:()=>x("easy"),className:`
                px-4 py-3 ${j.borderRadius} font-semibold transition-all
                ${m==="easy"?`${j.bgSuccess} text-white scale-105`:`${j.bgCard} ${j.bgCardHover} ${j.border} border`}
              `,children:[" Facile",e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"2-5s"})]}),e.jsxs("button",{onClick:()=>x("medium"),className:`
                px-4 py-3 ${j.borderRadius} font-semibold transition-all
                ${m==="medium"?`${j.bgPrimary} text-white scale-105`:`${j.bgCard} ${j.bgCardHover} ${j.border} border`}
              `,children:[" Moyen",e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"1.5-4s"})]}),e.jsxs("button",{onClick:()=>x("hard"),className:`
                px-4 py-3 ${j.borderRadius} font-semibold transition-all
                ${m==="hard"?`${j.bgError} text-white scale-105`:`${j.bgCard} ${j.bgCardHover} ${j.border} border`}
              `,children:[" Difficile",e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"1-3s"})]})]})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center mb-6",children:e.jsx("button",{onClick:$,disabled:i==="result",className:`
            w-full max-w-md aspect-square ${j.borderRadius}
            ${C()}
            transition-all duration-200 transform
            ${i!=="result"?"hover:scale-105 active:scale-95":""}
            touch-manipulation select-none
            flex items-center justify-center
            text-xl sm:text-3xl font-bold
          `,children:P()})}),h.attempts.length>0&&e.jsx("div",{className:`${j.bgSecondary} ${j.borderRadius} p-4 mb-4`,children:e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:`text-xs ${j.textSecondary}`,children:"Moyenne"}),e.jsxs("div",{className:"text-lg font-bold",children:[Math.round(h.averageTime),"ms"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:`text-xs ${j.textSecondary}`,children:"Plus rapide"}),e.jsxs("div",{className:"text-lg font-bold text-green-500",children:[Math.round(h.fastestTime),"ms"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:`text-xs ${j.textSecondary}`,children:"Plus lent"}),e.jsxs("div",{className:"text-lg font-bold text-orange-500",children:[Math.round(h.slowestTime),"ms"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:`text-xs ${j.textSecondary}`,children:"Rgularit"}),e.jsxs("div",{className:"text-lg font-bold",children:["",Math.round(h.consistency),"ms"]})]})]})}),e.jsxs("div",{className:"flex gap-2",children:[i==="idle"&&e.jsx("button",{onClick:S,className:`flex-1 px-6 py-3 ${j.bgPrimary} ${j.bgPrimaryHover} ${j.borderRadius} font-semibold transition-all`,children:" Dmarrer le Test"}),o>=t&&e.jsx("button",{onClick:q,className:`flex-1 px-6 py-3 ${j.bgCard} ${j.bgCardHover} ${j.borderRadius} ${j.border} border transition-all`,children:" Recommencer"}),i==="tooEarly"&&e.jsx("button",{onClick:()=>l("idle"),className:`flex-1 px-6 py-3 ${j.bgWarning} hover:opacity-90 ${j.borderRadius} transition-all`,children:"Ressayer"})]})]})}function Dm({duration:t=60,targetSize:r=40,targetDuration:s=1500,spawnInterval:a=1e3,className:n,theme:i,onComplete:l,onProgress:o}){const[d,m]=c.useState(!1),[x,h]=c.useState(t),[p,g]=c.useState([]),[u,b]=c.useState({hits:0,misses:0,score:0,avgReactionTime:0,reactionTimes:[],completed:!1}),j=c.useRef(null),R=c.useRef(0),k=ct(i),S=dt(k);c.useEffect(()=>{if(!d)return;const y=setInterval(()=>{h(v=>v<=1?(P(),0):v-1)},1e3);return()=>clearInterval(y)},[d]),c.useEffect(()=>{if(!d||!j.current)return;const y=setInterval(()=>{$()},a);return()=>clearInterval(y)},[d,a]),c.useEffect(()=>{if(!d)return;const y=setInterval(()=>{const v=Date.now();g(N=>N.filter(_=>v-_.spawnTime>s?(b(w=>{const E={...w,misses:w.misses+1,score:Math.max(0,w.score-10)};return o&&o(E),E}),!1):!0))},100);return()=>clearInterval(y)},[d,s]);const $=()=>{if(!j.current)return;const y=j.current.getBoundingClientRect(),v=r+10,N=Math.random()*(y.width-v*2)+v,_=Math.random()*(y.height-v*2)+v,w={id:R.current++,x:N,y:_,spawnTime:Date.now()};g(E=>[...E,w])},q=y=>{const v=Date.now()-y.spawnTime,N=[...u.reactionTimes,v],_=N.reduce((w,E)=>w+E,0)/N.length;b(w=>{const E={...w,hits:w.hits+1,score:w.score+10,reactionTimes:N,avgReactionTime:_};return o&&o(E),E}),g(w=>w.filter(E=>E.id!==y.id))},C=()=>{m(!0),h(t),g([]),b({hits:0,misses:0,score:0,avgReactionTime:0,reactionTimes:[],completed:!1})},P=()=>{m(!1),g([]);const y={...u,completed:!0};b(y),l&&l(y)};return e.jsxs("div",{className:ut(`h-full flex flex-col ${S.bgMain} ${S.textMain}`,n),children:[e.jsx("div",{className:`${S.bgPrimary} ${S.borderRadius} p-4 mb-4`,children:e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs opacity-80",children:"Temps"}),e.jsxs("div",{className:"text-xl font-bold",children:[x,"s"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs opacity-80",children:"Touchs"}),e.jsx("div",{className:"text-xl font-bold text-green-400",children:u.hits})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs opacity-80",children:"Rats"}),e.jsx("div",{className:"text-xl font-bold text-red-400",children:u.misses})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs opacity-80",children:"Score"}),e.jsx("div",{className:"text-xl font-bold",children:u.score})]})]})}),e.jsxs("div",{ref:j,className:`flex-1 relative ${S.bgSecondary} ${S.borderRadius} overflow-hidden`,style:{minHeight:"400px"},children:[!d&&e.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Vision Priphrique"}),e.jsx("p",{className:`${S.textSecondary} mb-6 text-center max-w-md`,children:"Fixez le centre et cliquez sur les cibles qui apparaissent avec votre vision priphrique"}),e.jsx("button",{onClick:C,className:`px-8 py-4 ${S.bgPrimary} ${S.bgPrimaryHover} ${S.borderRadius} font-semibold transition-all text-lg`,children:" Dmarrer"})]}),d&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-4 h-4 bg-white rounded-full z-10"}),p.map(y=>{const _=1-(Date.now()-y.spawnTime)/s;return e.jsx("button",{onClick:()=>q(y),className:"absolute transform -translate-x-1/2 -translate-y-1/2 rounded-full transition-all hover:scale-110 active:scale-95 touch-manipulation",style:{left:y.x,top:y.y,width:r,height:r,background:`radial-gradient(circle, rgba(234, 179, 8, ${_}), rgba(249, 115, 22, ${_*.5}))`,boxShadow:`0 0 ${20*_}px rgba(234, 179, 8, ${_})`}},y.id)})]})]}),u.completed&&e.jsxs("div",{className:`${S.bgSecondary} ${S.borderRadius} p-4 mt-4`,children:[e.jsx("h3",{className:"text-xl font-bold mb-2 text-center",children:"Rsultats"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:["Prcision: ",u.hits>0?Math.round(u.hits/(u.hits+u.misses)*100):0,"%"]}),e.jsxs("div",{children:["Temps moyen: ",Math.round(u.avgReactionTime),"ms"]})]}),e.jsx("button",{onClick:C,className:`w-full mt-4 px-6 py-3 ${S.bgPrimary} ${S.bgPrimaryHover} ${S.borderRadius} transition-all`,children:" Recommencer"})]})]})}function Om({duration:t=90,difficulty:r="medium",className:s,theme:a,onComplete:n,onProgress:i}){const[l,o]=c.useState(!1),[d,m]=c.useState(t),[x,h]=c.useState([]),[p,g]=c.useState(r),[u,b]=c.useState({tasksCompleted:0,tasksFailed:0,score:0,avgResponseTime:0,responseTimes:[],completed:!1}),j=c.useRef(0),R=ct(a),k=dt(R),S=p==="easy"?1:p==="medium"?2:3,$=p==="easy"?4e3:p==="medium"?3e3:2e3,q=p==="easy"?8e3:p==="medium"?6e3:4e3;c.useEffect(()=>{if(!l)return;const O=setInterval(()=>{m(F=>F<=1?(E(),0):F-1)},1e3);return()=>clearInterval(O)},[l]),c.useEffect(()=>{if(!l)return;const O=setInterval(()=>{x.length<S&&N()},$);return()=>clearInterval(O)},[l,x.length,S,$]),c.useEffect(()=>{if(!l)return;const O=setInterval(()=>{h(F=>F.map(A=>({...A,timeLeft:A.timeLeft-100})).filter(A=>A.timeLeft<=0?(b(U=>{const T={...U,tasksFailed:U.tasksFailed+1,score:Math.max(0,U.score-15)};return i&&i(T),T}),!1):!0))},100);return()=>clearInterval(O)},[l]);const C=()=>{const O=["Rouge","Bleu","Vert","Jaune","Orange","Violet"],F=["#ef4444","#3b82f6","#22c55e","#eab308","#f97316","#a855f7"],A=O[Math.floor(Math.random()*O.length)],U=Math.floor(Math.random()*F.length),T=O[U];return{id:j.current++,type:"color",question:A,correctAnswer:T,options:O,timeLeft:q,maxTime:q,spawnTime:Date.now()}},P=()=>{const O=["+","-","*"],F=O[Math.floor(Math.random()*O.length)];let A=Math.floor(Math.random()*20)+1,U=Math.floor(Math.random()*10)+1,T=0;F==="+"?T=A+U:F==="-"?T=A-U:(A=Math.floor(Math.random()*10)+1,U=Math.floor(Math.random()*10)+1,T=A*U);const z=[T+Math.floor(Math.random()*5)+1,T-Math.floor(Math.random()*5)-1,T+Math.floor(Math.random()*10)+5],L=[T.toString(),...z.map(String)].filter((Z,D,Y)=>Y.indexOf(Z)===D).sort(()=>Math.random()-.5);return{id:j.current++,type:"math",question:`${A} ${F} ${U} = ?`,correctAnswer:T.toString(),options:L,timeLeft:q,maxTime:q,spawnTime:Date.now()}},y=()=>{const O=["Haut","Bas","Gauche","Droite"],F=["","","",""],A=Math.floor(Math.random()*O.length);return{id:j.current++,type:"direction",question:F[A],correctAnswer:O[A],options:O,timeLeft:q,maxTime:q,spawnTime:Date.now()}},v=()=>{const O=p==="easy"?3:p==="medium"?4:5,F=Array.from({length:O},()=>Math.floor(Math.random()*9)+1),A=F.join("  "),U=F[F.length-1].toString(),T=[U,(Math.floor(Math.random()*9)+1).toString(),(Math.floor(Math.random()*9)+1).toString(),(Math.floor(Math.random()*9)+1).toString()].filter((z,L,Z)=>Z.indexOf(z)===L).slice(0,4).sort(()=>Math.random()-.5);return{id:j.current++,type:"sequence",question:A,correctAnswer:U,options:T,timeLeft:q,maxTime:q,spawnTime:Date.now()}},N=()=>{const O=[C,P,y,v],F=O[Math.floor(Math.random()*O.length)],A=F();h(U=>[...U,A])},_=(O,F)=>{const A=x.find(z=>z.id===O);if(!A)return;const U=Date.now()-A.spawnTime,T=F===A.correctAnswer;b(z=>{const L=T?[...z.responseTimes,U]:z.responseTimes,Z={...z,tasksCompleted:T?z.tasksCompleted+1:z.tasksCompleted,tasksFailed:T?z.tasksFailed:z.tasksFailed+1,score:T?z.score+25:Math.max(0,z.score-10),responseTimes:L,avgResponseTime:L.length>0?L.reduce((D,Y)=>D+Y,0)/L.length:0};return i&&i(Z),Z}),h(z=>z.filter(L=>L.id!==O))},w=()=>{o(!0),m(t),h([]),b({tasksCompleted:0,tasksFailed:0,score:0,avgResponseTime:0,responseTimes:[],completed:!1}),j.current=0},E=()=>{o(!1),h([]);const O={...u,completed:!0};b(O),n&&n(O)},I=O=>{const F=O.timeLeft/O.maxTime*100;return F>60?"border-green-500":F>30?"border-yellow-500":"border-red-500"},J=u.tasksCompleted+u.tasksFailed>0?(u.tasksCompleted/(u.tasksCompleted+u.tasksFailed)*100).toFixed(1):"0.0",V=O=>{switch(O){case"color":return" Couleur du texte (pas le mot)";case"math":return" Calcule";case"direction":return" Direction de la flche";case"sequence":return" Dernier nombre"}};return e.jsxs("div",{className:ut(`h-full flex flex-col ${k.bgMain} ${k.textMain}`,s),children:[e.jsxs("div",{className:`${k.bgPrimary} ${k.borderRadius} p-4 mb-4`,children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("h2",{className:"text-2xl font-bold",children:" Test Multi-Tches"}),e.jsx("p",{className:`text-sm ${k.textSecondary} mt-1`,children:"Gre plusieurs tches simultanment comme dans un MOBA"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs opacity-80",children:"Temps"}),e.jsxs("div",{className:"text-xl font-bold text-orange-400",children:[d,"s"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs opacity-80",children:"Score"}),e.jsx("div",{className:"text-xl font-bold",children:u.score})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs opacity-80",children:"Russies"}),e.jsx("div",{className:"text-xl font-bold text-green-400",children:u.tasksCompleted})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs opacity-80",children:"Prcision"}),e.jsxs("div",{className:"text-xl font-bold text-blue-400",children:[J,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs opacity-80",children:"Temps rponse"}),e.jsx("div",{className:"text-xl font-bold text-purple-400",children:u.avgResponseTime>0?`${(u.avgResponseTime/1e3).toFixed(1)}s`:"-"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3 mb-4",children:[!l&&x.length===0&&e.jsxs("div",{className:`${k.bgSecondary} ${k.borderRadius} p-8 text-center`,children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Multi-Tches"}),e.jsxs("p",{className:`${k.textSecondary} mb-4`,children:["Des tches varies apparaissent (couleurs, maths, directions, squences).",e.jsx("br",{}),"Rponds correctement avant que le temps s'coule !"]}),e.jsxs("div",{className:`${k.bgCard} ${k.borderRadius} p-4 mb-4`,children:[e.jsx("p",{className:`text-center mb-3 font-semibold ${k.textMain}`,children:"Choisis ton niveau de difficult :"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:()=>g("easy"),className:`
                    px-4 py-3 ${k.borderRadius} font-semibold transition-all
                    ${p==="easy"?`${k.bgSuccess} text-white scale-105`:`${k.bgCard} ${k.bgCardHover} ${k.border} border`}
                  `,children:[" Facile",e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"1 tche"})]}),e.jsxs("button",{onClick:()=>g("medium"),className:`
                    px-4 py-3 ${k.borderRadius} font-semibold transition-all
                    ${p==="medium"?`${k.bgPrimary} text-white scale-105`:`${k.bgCard} ${k.bgCardHover} ${k.border} border`}
                  `,children:[" Moyen",e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"2 tches"})]}),e.jsxs("button",{onClick:()=>g("hard"),className:`
                    px-4 py-3 ${k.borderRadius} font-semibold transition-all
                    ${p==="hard"?`${k.bgError} text-white scale-105`:`${k.bgCard} ${k.bgCardHover} ${k.border} border`}
                  `,children:[" Difficile",e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"3 tches"})]})]})]}),e.jsx("div",{className:`${k.bgCard} ${k.borderRadius} p-4 text-sm ${k.textSecondary}`,children:e.jsx("p",{children:"+25 pts correct | -10 pts erreur | -15 pts timeout"})})]}),x.map(O=>{const F=O.timeLeft/O.maxTime*100;return e.jsxs("div",{className:`${k.bgSecondary} ${k.borderRadius} overflow-hidden`,children:[e.jsx("div",{className:"w-full h-2 bg-gray-700",children:e.jsx("div",{className:`h-2 transition-all ${F>60?"bg-green-500":F>30?"bg-yellow-500":"bg-red-500"}`,style:{width:`${F}%`}})}),e.jsxs("div",{className:`border-l-4 ${I(O)} p-4`,children:[e.jsx("div",{className:`text-xs ${k.textSecondary} mb-2`,children:V(O.type)}),e.jsx("div",{className:"text-lg font-semibold mb-4",style:O.type==="color"?{color:O.question==="Rouge"?"#ef4444":O.question==="Bleu"?"#3b82f6":O.question==="Vert"?"#22c55e":O.question==="Jaune"?"#eab308":O.question==="Orange"?"#f97316":"#a855f7"}:O.type==="direction"?{fontSize:"3rem",textAlign:"center"}:{},children:O.question}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 touch-manipulation",children:O.options.map(A=>e.jsx("button",{onClick:()=>_(O.id,A),className:`px-4 py-3 ${k.bgCard} ${k.bgCardHover} ${k.borderRadius} ${k.border} border transition-all min-h-[44px] touch-none select-none font-semibold`,children:A},A))})]})]},O.id)}),l&&x.length===0&&e.jsx("div",{className:`${k.bgSecondary} ${k.borderRadius} p-8 text-center`,children:e.jsx("p",{className:k.textSecondary,children:"Nouvelle tche en prparation..."})})]}),e.jsx("div",{className:"flex gap-2",children:l?e.jsx("button",{onClick:E,className:`flex-1 px-6 py-3 ${k.bgError} hover:opacity-90 ${k.borderRadius} font-semibold transition-all`,children:" Arrter"}):e.jsx("button",{onClick:w,className:`flex-1 px-6 py-3 ${k.bgPrimary} ${k.bgPrimaryHover} ${k.borderRadius} font-semibold transition-all`,children:" Dmarrer"})}),u.completed&&e.jsxs("div",{className:`${k.bgSecondary} ${k.borderRadius} p-4 mt-4`,children:[e.jsx("h3",{className:"text-xl font-bold mb-3 text-center",children:"Rsultats"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:["Score final: ",u.score]}),e.jsxs("div",{children:["Prcision: ",J,"%"]}),e.jsxs("div",{children:["Tches russies: ",u.tasksCompleted]}),e.jsxs("div",{children:["Temps moyen: ",u.avgResponseTime>0?`${(u.avgResponseTime/1e3).toFixed(1)}s`:"-"]})]}),e.jsx("button",{onClick:w,className:`w-full mt-4 px-6 py-3 ${k.bgPrimary} ${k.bgPrimaryHover} ${k.borderRadius} transition-all`,children:" Recommencer"})]})]})}var qe=1280,Ue=720,Ht=25,bt=80,yr=35,Kr=.1,rr=qe*Kr,cs=qe*(1-Kr),sr=Ue*Kr,ds=Ue*(1-Kr);function $m({duration:t=60,className:r,theme:s,onComplete:a}){const[n,i]=c.useState("medium"),[l,o]=c.useState("idle"),[d,m]=c.useState({dodges:0,timeAlive:0,projectilesSpawned:0,accuracy:0,survivalLevel:1}),[x,h]=c.useState(!1),p=c.useRef({x:qe/2,y:Ue/2}),g=c.useRef([]),u=c.useRef(!1),b=c.useRef({x:0,y:0}),j=c.useRef(null),R=c.useRef(null),k=c.useRef(),S=c.useRef(0),$=c.useRef(0),q=c.useRef(0),C=c.useRef(0),P=c.useRef(0),y=c.useRef(l),v=c.useRef(1),N=c.useRef(n),_=ct(s),w=dt(_);c.useEffect(()=>{y.current=l},[l]),c.useEffect(()=>{N.current=n},[n]);const E=c.useCallback(()=>{const Q=N.current,se=v.current;if(Q==="survival"){const ue=2+se*.3,ye=Math.max(800,2e3-se*100),Fe=Math.min(15,3+Math.floor(se/2));return{projectileSpeed:ue+(Math.random()*2-1),spawnInterval:ye,maxProjectiles:Fe,projectileRadius:Math.max(8,15-se)}}switch(Q){case"easy":return{projectileSpeed:3,spawnInterval:2e3,maxProjectiles:3,projectileRadius:18};case"medium":return{projectileSpeed:5,spawnInterval:1500,maxProjectiles:5,projectileRadius:15};case"hard":return{projectileSpeed:7,spawnInterval:1e3,maxProjectiles:8,projectileRadius:12};default:return{projectileSpeed:3.5,spawnInterval:1500,maxProjectiles:5,projectileRadius:12}}},[]),I=()=>{const Q=["targeted","wave","circle","cross","random"];return Q[Math.floor(Math.random()*Q.length)]},J=c.useCallback(Q=>{const se=E(),ue=Q||(N.current==="survival"?I():"targeted");let ye=[];const Fe=p.current.x,ie=p.current.y;switch(ue){case"targeted":{const ve=Math.floor(Math.random()*4);let Ae,Me;switch(ve){case 0:Ae=Math.random()*qe,Me=-20;break;case 1:Ae=qe+20,Me=Math.random()*Ue;break;case 2:Ae=Math.random()*qe,Me=Ue+20;break;case 3:Ae=-20,Me=Math.random()*Ue;break;default:Ae=0,Me=0}const ee=Fe-Ae+(Math.random()-.5)*50,fe=ie-Me+(Math.random()-.5)*50,de=Math.sqrt(ee*ee+fe*fe),pe=ee/de*se.projectileSpeed,W=fe/de*se.projectileSpeed;ye.push({x:Ae,y:Me,vx:pe,vy:W});break}case"wave":{const ve=Math.random()>.5,Ae=3+Math.floor(Math.random()*3);for(let Me=0;Me<Ae;Me++){const ee=ve?-20:qe+20,fe=Ue/(Ae+1)*(Me+1),de=(ve?1:-1)*se.projectileSpeed,pe=(Math.random()-.5)*se.projectileSpeed*.5;ye.push({x:ee,y:fe,vx:de,vy:pe})}break}case"circle":{const ve=6+Math.floor(Math.random()*4),Ae=qe/2,Me=Ue/2;for(let ee=0;ee<ve;ee++){const fe=Math.PI*2*ee/ve,de=Math.cos(fe)*se.projectileSpeed,pe=Math.sin(fe)*se.projectileSpeed;ye.push({x:Ae,y:Me,vx:de,vy:pe})}break}case"cross":{const ve=se.projectileSpeed;ye.push({x:qe/2,y:-20,vx:0,vy:ve},{x:qe/2,y:Ue+20,vx:0,vy:-ve},{x:-20,y:Ue/2,vx:ve,vy:0},{x:qe+20,y:Ue/2,vx:-ve,vy:0});break}case"random":{const ve=Math.random()*qe,Ae=Math.random()*Ue,Me=Math.random()*Math.PI*2,ee=Math.cos(Me)*se.projectileSpeed,fe=Math.sin(Me)*se.projectileSpeed;ye.push({x:ve,y:Ae,vx:ee,vy:fe});break}}const le=ye.map(ve=>({id:P.current++,x:ve.x,y:ve.y,vx:ve.vx,vy:ve.vy,radius:se.projectileRadius,color:ue==="targeted"?"#ef4444":ue==="wave"?"#f59e0b":ue==="circle"?"#8b5cf6":ue==="cross"?"#06b6d4":"#ec4899"}));g.current=[...g.current,...le],m(ve=>({...ve,projectilesSpawned:ve.projectilesSpawned+le.length}))},[E]),V=c.useCallback(Q=>{const se=Q.x-p.current.x,ue=Q.y-p.current.y;return Math.sqrt(se*se+ue*ue)<Q.radius+Ht},[]),O=c.useCallback(()=>{if(y.current!=="playing")return;const Q=Date.now(),se=E();if(u.current){const ve=p.current.x+b.current.x*5,Ae=p.current.y+b.current.y*5;p.current={x:Math.max(rr+Ht,Math.min(cs-Ht,ve)),y:Math.max(sr+Ht,Math.min(ds-Ht,Ae))}}Q-C.current>se.spawnInterval&&(g.current.length<se.maxProjectiles&&J(),C.current=Q);let ue=0;g.current=g.current.map(le=>({...le,x:le.x+le.vx,y:le.y+le.vy})).filter(le=>le.x<-50||le.x>qe+50||le.y<-50||le.y>Ue+50?(ue++,!1):V(le)?(y.current="gameOver",o("gameOver"),!1):!0),ue>0&&m(le=>({...le,dodges:le.dodges+ue}));const ye=Q-S.current-q.current;if(N.current==="survival"){const le=Math.floor(ye/1e4)+1;le!==v.current&&(v.current=le)}if(m(le=>({...le,timeAlive:ye,survivalLevel:v.current,accuracy:le.projectilesSpawned>0?le.dodges/le.projectilesSpawned*100:0})),N.current!=="survival"&&ye>=t*1e3){y.current="gameOver",o("gameOver");return}const Fe=j.current;if(!Fe)return;const ie=Fe.getContext("2d");if(ie){ie.fillStyle="#0f172a",ie.fillRect(0,0,qe,Ue),ie.strokeStyle="#334155",ie.lineWidth=2,ie.strokeRect(rr,sr,cs-rr,ds-sr),ie.fillStyle="#1e293b",ie.fillRect(rr,sr,cs-rr,ds-sr),ie.strokeStyle="#1e293b",ie.lineWidth=1;for(let le=0;le<qe;le+=50)ie.beginPath(),ie.moveTo(le,0),ie.lineTo(le,Ue),ie.stroke();for(let le=0;le<Ue;le+=50)ie.beginPath(),ie.moveTo(0,le),ie.lineTo(qe,le),ie.stroke();if(g.current.forEach(le=>{ie.fillStyle=le.color,ie.beginPath(),ie.arc(le.x,le.y,le.radius,0,Math.PI*2),ie.fill(),ie.shadowBlur=15,ie.shadowColor=le.color,ie.fill(),ie.shadowBlur=0}),ie.fillStyle="#3b82f6",ie.beginPath(),ie.arc(p.current.x,p.current.y,Ht,0,Math.PI*2),ie.fill(),ie.shadowBlur=20,ie.shadowColor="#3b82f6",ie.fill(),ie.shadowBlur=0,u.current){ie.strokeStyle="#60a5fa",ie.lineWidth=3,ie.beginPath(),ie.moveTo(p.current.x,p.current.y);const le=Math.atan2(b.current.y,b.current.x),ve=30;ie.lineTo(p.current.x+Math.cos(le)*ve,p.current.y+Math.sin(le)*ve),ie.stroke()}k.current=requestAnimationFrame(O)}},[E,J,V,t]);c.useEffect(()=>(l==="playing"?k.current||(k.current=requestAnimationFrame(O)):k.current&&(cancelAnimationFrame(k.current),k.current=void 0),()=>{k.current&&cancelAnimationFrame(k.current)}),[l,O]);const F=()=>{u.current=!0},A=Q=>{if(!u.current||!R.current)return;const se=R.current.getBoundingClientRect(),ue=se.left+se.width/2,ye=se.top+se.height/2;let Fe,ie;if("touches"in Q){if(Q.touches.length===0)return;Fe=Q.touches[0].clientX,ie=Q.touches[0].clientY}else Fe=Q.clientX,ie=Q.clientY;let le=Fe-ue,ve=ie-ye;const Ae=Math.sqrt(le*le+ve*ve);Ae>bt&&(le=le/Ae*bt,ve=ve/Ae*bt),b.current={x:le/bt,y:ve/bt}},U=()=>{u.current=!1,b.current={x:0,y:0}},T=async()=>{if(!document.fullscreenElement){const Q=document.querySelector(".dodge-master-container");if(Q)try{if(await Q.requestFullscreen(),h(!0),screen.orientation&&"lock"in screen.orientation)try{await screen.orientation.lock("landscape")}catch(se){console.warn("Landscape lock failed:",se)}}catch(se){console.warn("Fullscreen failed:",se)}}o("playing"),p.current={x:qe/2,y:Ue/2},g.current=[],b.current={x:0,y:0},u.current=!1,v.current=1,m({dodges:0,timeAlive:0,projectilesSpawned:0,accuracy:0,survivalLevel:1}),P.current=0,S.current=Date.now(),q.current=0,C.current=Date.now()},z=()=>{o("paused"),$.current=Date.now()},L=()=>{q.current+=Date.now()-$.current,o("playing")},Z=()=>{o("idle"),p.current={x:qe/2,y:Ue/2},g.current=[],v.current=1,m({dodges:0,timeAlive:0,projectilesSpawned:0,accuracy:0,survivalLevel:1})},D=async()=>{if(document.fullscreenElement)await Y();else try{const Q=document.querySelector(".dodge-master-container");if(Q){if(await Q.requestFullscreen(),screen.orientation&&"lock"in screen.orientation)try{await screen.orientation.lock("landscape")}catch(se){console.warn("Orientation lock not supported:",se)}h(!0)}}catch(Q){console.error("Fullscreen request failed:",Q)}},Y=async()=>{try{if(document.fullscreenElement){if(await document.exitFullscreen(),screen.orientation&&"unlock"in screen.orientation)try{screen.orientation.unlock()}catch(Q){console.warn("Orientation unlock not supported:",Q)}h(!1)}}catch(Q){console.error("Exit fullscreen failed:",Q)}};c.useEffect(()=>{const Q=()=>{h(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",Q),()=>document.removeEventListener("fullscreenchange",Q)},[]),c.useEffect(()=>{l==="gameOver"&&a&&a({exercise_type:"dodge_master",difficulty:n,is_completed:n==="survival"?!0:d.timeAlive>=t*1e3,dodges_successful:d.dodges,time_alive_ms:d.timeAlive,projectiles_spawned:d.projectilesSpawned,accuracy:d.accuracy,survival_level:d.survivalLevel})},[l,d,n,t,a]);const me=Q=>`${Math.floor(Q/1e3)}s`,M=Q=>{switch(Q){case"easy":return" Facile";case"medium":return" Moyen";case"hard":return" Difficile";case"survival":return" Survie"}},B=Q=>{switch(Q){case"easy":return"3 projectiles max";case"medium":return"5 projectiles max";case"hard":return"8 projectiles max";case"survival":return"Difficult progressive infinie"}};return e.jsxs("div",{className:ut(`dodge-master-container h-full flex flex-col ${w.bgMain} ${w.textMain}`,r),children:[l==="idle"&&e.jsxs("div",{className:`${w.bgSecondary} ${w.borderRadius} p-4 mb-4`,children:[e.jsx("p",{className:`text-center mb-3 font-semibold ${w.textMain}`,children:"Choisis ta difficult :"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:["easy","medium","hard","survival"].map(Q=>e.jsxs("button",{onClick:()=>i(Q),className:`
                  px-4 py-3 ${w.borderRadius} font-semibold transition-all
                  ${n===Q?Q==="survival"?"bg-purple-600 text-white scale-105":Q==="hard"?`${w.bgError} text-white scale-105`:Q==="medium"?`${w.bgPrimary} text-white scale-105`:`${w.bgSuccess} text-white scale-105`:`${w.bgCard} ${w.bgCardHover} ${w.border} border`}
                `,children:[M(Q),e.jsx("div",{className:"text-xs opacity-70 mt-1",children:B(Q)})]},Q))}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:D,className:`w-full px-4 py-2 ${w.bgCard} ${w.bgCardHover} ${w.borderRadius} ${w.border} border text-sm transition-all`,children:x?" Quitter le plein cran":" Mode plein cran (paysage recommand)"})})]}),l!=="idle"&&e.jsx("div",{className:`bg-gradient-to-r ${w.bgPrimary} ${w.borderRadius} p-3 mb-4 ${w.shadow}`,children:e.jsxs("div",{className:`grid ${n==="survival"?"grid-cols-5":"grid-cols-4"} gap-2 text-center text-sm`,children:[e.jsxs("div",{children:[e.jsx("div",{className:"opacity-80",children:"Temps"}),e.jsx("div",{className:"font-bold",children:me(d.timeAlive)})]}),n==="survival"&&e.jsxs("div",{children:[e.jsx("div",{className:"opacity-80",children:"Niveau"}),e.jsx("div",{className:"font-bold text-purple-300",children:d.survivalLevel})]}),e.jsxs("div",{children:[e.jsx("div",{className:"opacity-80",children:"Esquives"}),e.jsx("div",{className:"font-bold",children:d.dodges})]}),e.jsxs("div",{children:[e.jsx("div",{className:"opacity-80",children:"Prcision"}),e.jsxs("div",{className:"font-bold",children:[d.accuracy.toFixed(0),"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"opacity-80",children:"Projectiles"}),e.jsx("div",{className:"font-bold",children:g.current.length})]})]})}),e.jsxs("div",{className:"flex-1 flex items-center justify-center bg-gray-900 rounded-lg overflow-hidden mb-4 relative",children:[e.jsx("canvas",{ref:j,width:qe,height:Ue,className:"w-full h-auto max-h-screen",style:{touchAction:"none",aspectRatio:"16/9"}}),l==="paused"&&e.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:e.jsxs("div",{className:`${w.bgSecondary} ${w.borderRadius} p-6 text-center`,children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx("div",{className:"text-xl font-bold mb-4",children:"Pause"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:L,className:`px-6 py-3 ${w.bgPrimary} ${w.bgPrimaryHover} ${w.borderRadius} font-semibold transition-all`,children:" Reprendre"}),e.jsx("button",{onClick:Z,className:`px-6 py-3 ${w.bgError} hover:opacity-90 ${w.borderRadius} font-semibold transition-all`,children:" Arrter"})]})]})})]}),l==="playing"&&e.jsx("div",{className:"fixed left-8 bottom-8 z-50",children:e.jsxs("div",{ref:R,className:"relative",style:{width:bt*2,height:bt*2},onTouchStart:F,onTouchMove:A,onTouchEnd:U,onMouseDown:F,onMouseMove:A,onMouseUp:U,onMouseLeave:U,children:[e.jsx("div",{className:"absolute inset-0 bg-gray-700/70 rounded-full border-4 border-gray-600 shadow-lg"}),e.jsx("div",{className:"absolute bg-blue-500 rounded-full shadow-xl transition-transform",style:{width:yr*2,height:yr*2,left:`calc(50% - ${yr}px + ${b.current.x*bt}px)`,top:`calc(50% - ${yr}px + ${b.current.y*bt}px)`}})]})}),l==="playing"&&e.jsxs("div",{className:"fixed right-8 bottom-8 z-50 flex gap-2",children:[e.jsx("button",{onClick:z,className:`px-6 py-3 ${w.bgCard} ${w.bgCardHover} ${w.borderRadius} font-semibold transition-all shadow-lg`,children:" Pause"}),e.jsx("button",{onClick:Z,className:`px-6 py-3 ${w.bgError} hover:opacity-90 ${w.borderRadius} font-semibold transition-all shadow-lg`,children:" Stop"})]}),e.jsxs("div",{className:"mt-4",children:[l==="idle"&&e.jsx("button",{onClick:T,className:`w-full px-6 py-4 ${w.bgPrimary} ${w.bgPrimaryHover} ${w.borderRadius} font-semibold text-lg transition-all`,children:" Dmarrer"}),l==="gameOver"&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:`${w.bgSecondary} ${w.borderRadius} p-4 text-center`,children:[e.jsx("div",{className:"text-2xl mb-2",children:n==="survival"?` Niveau ${d.survivalLevel} atteint !`:d.timeAlive>=t*1e3?" Victoire !":" Game Over"}),e.jsxs("div",{className:"text-sm opacity-80",children:[d.dodges," esquives  ",d.accuracy.toFixed(0),"% prcision",n==="survival"&&`  Niveau ${d.survivalLevel}`]})]}),e.jsxs("div",{className:`${w.bgSecondary} ${w.borderRadius} p-4`,children:[e.jsx("p",{className:"text-center text-sm mb-2 opacity-80",children:"Changer de difficult:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["easy","medium","hard","survival"].map(Q=>e.jsx("button",{onClick:()=>i(Q),className:`
                      px-3 py-2 ${w.borderRadius} text-sm font-semibold transition-all
                      ${n===Q?Q==="survival"?"bg-purple-600 text-white":Q==="hard"?"bg-red-600 text-white":Q==="medium"?"bg-blue-600 text-white":"bg-green-600 text-white":`${w.bgCard} ${w.bgCardHover} opacity-70`}
                    `,children:M(Q).split(" ")[0]},Q))})]}),e.jsx("button",{onClick:T,className:`w-full px-6 py-3 ${w.bgPrimary} ${w.bgPrimaryHover} ${w.borderRadius} font-semibold transition-all`,children:" Recommencer"}),x&&e.jsx("button",{onClick:Y,className:`w-full px-6 py-3 ${w.bgCard} ${w.bgCardHover} ${w.borderRadius} font-semibold transition-all`,children:" Quitter le plein cran"})]})]})]})}var it=1280,lt=720,ar=20,yt=25,Zr=.1,us=it*Zr,Oa=it*(1-Zr),ms=lt*Zr,$a=lt*(1-Zr),vr={line:{speed:12,width:50,maxDistance:700,color:"#ef4444",cooldown:800},circle:{speed:9,width:100,maxDistance:400,color:"#8b5cf6",cooldown:1500},cone:{speed:10,width:150,maxDistance:500,color:"#06b6d4",cooldown:1e3}};function Lm({duration:t=60,className:r,theme:s,onComplete:a}){const[n,i]=c.useState("medium"),[l,o]=c.useState("idle"),[d,m]=c.useState({hits:0,misses:0,accuracy:0,combo:0,maxCombo:0,timeAlive:0}),[x,h]=c.useState(!1),p=c.useRef(!1),g=c.useRef({x:0,y:0}),u=c.useRef({x:it/2,y:lt/2}),b=c.useRef([]),j=c.useRef([]),R=c.useRef({line:0,circle:0,cone:0}),k=c.useRef(-Math.PI/2),S=c.useRef(null),$=c.useRef(1),q=c.useRef(null),C=c.useRef(null),P=c.useRef(null),y=c.useRef(),v=c.useRef(0),N=c.useRef(0),_=c.useRef(0),w=c.useRef(0),E=c.useRef(0),I=c.useRef(0),J=c.useRef(l),V=c.useRef(n),O=c.useRef(1),F=c.useRef(0),A=ct(s),U=dt(A);c.useEffect(()=>{J.current=l},[l]),c.useEffect(()=>{V.current=n},[n]);const T=c.useCallback(()=>({easy:{targetSpeed:1.5,spawnInterval:2500,maxTargets:3},medium:{targetSpeed:2.5,spawnInterval:1800,maxTargets:5},hard:{targetSpeed:3.5,spawnInterval:1200,maxTargets:7},survival:{targetSpeed:2+O.current*.4,spawnInterval:Math.max(800,2e3-O.current*100),maxTargets:Math.min(10,3+Math.floor(O.current/2))}})[V.current],[]),z=c.useCallback(()=>{const ee=T();if(b.current.length>=ee.maxTargets)return;const fe=Math.floor(Math.random()*4);let de,pe,W,re;switch(fe){case 0:de=Math.random()*it,pe=-yt,W=(Math.random()-.5)*ee.targetSpeed,re=ee.targetSpeed;break;case 1:de=it+yt,pe=Math.random()*lt,W=-ee.targetSpeed,re=(Math.random()-.5)*ee.targetSpeed;break;case 2:de=Math.random()*it,pe=lt+yt,W=(Math.random()-.5)*ee.targetSpeed,re=-ee.targetSpeed;break;default:de=-yt,pe=Math.random()*lt,W=ee.targetSpeed,re=(Math.random()-.5)*ee.targetSpeed;break}b.current.push({id:E.current++,x:de,y:pe,vx:W,vy:re,radius:yt,color:"#f59e0b"})},[T]),L=c.useCallback(ee=>{const fe=Date.now();if(R.current[ee]>fe||J.current!=="playing")return;const de=vr[ee],pe=u.current,W=k.current,re=ee==="circle"?$.current:void 0;j.current.push({id:I.current++,type:ee,x:pe.x,y:pe.y,angle:W,distance:0,progress:0,speed:de.speed,width:de.width,color:de.color,targetDistance:re}),R.current[ee]=fe+de.cooldown,S.current=null},[]),Z=c.useCallback(()=>{const ee=Date.now();Object.keys(R.current).forEach(fe=>{const de=fe;R.current[de]<ee&&(R.current[de]=0)})},[]),D=c.useCallback(()=>{let ee=0;const fe=new Set;j.current.forEach(de=>{de.type==="circle"&&!de.exploded||b.current.forEach(pe=>{if(fe.has(pe.id))return;const W=de.x+Math.cos(de.angle)*de.distance,re=de.y+Math.sin(de.angle)*de.distance;let f=!1;if(de.type==="line"){const te=pe.x-W,ne=pe.y-re;f=Math.sqrt(te*te+ne*ne)<pe.radius+de.width/2}else if(de.type==="circle"){const te=pe.x-W,ne=pe.y-re;f=Math.sqrt(te*te+ne*ne)<de.width}else if(de.type==="cone"){const te=pe.x-de.x,ne=pe.y-de.y,ge=Math.atan2(ne,te),Ne=Math.abs(ge-de.angle),be=Math.min(Ne,2*Math.PI-Ne),Se=Math.PI/3,_e=Math.sqrt(te*te+ne*ne);f=be<Se/2&&_e<de.distance+pe.radius}f&&(fe.add(pe.id),ee++)})}),fe.size>0&&(b.current=b.current.filter(de=>!fe.has(de.id)),m(de=>{const pe=de.hits+ee,W=de.combo+ee,re=Math.max(de.maxCombo,W),f=pe+de.misses,te=f>0?pe/f*100:0;return{...de,hits:pe,combo:W,maxCombo:re,accuracy:te}}))},[]),Y=c.useCallback(()=>{if(J.current!=="playing")return;const ee=Date.now(),fe=(ee-v.current-_.current)/1e3;if(fe>=t){y.current&&cancelAnimationFrame(y.current),J.current="gameOver",o("gameOver");return}V.current==="survival"&&fe-F.current>=10&&(O.current++,F.current=fe);const de=T();if(ee-w.current>de.spawnInterval&&(z(),w.current=ee),p.current){const te=u.current.x+g.current.x*5,ne=u.current.y+g.current.y*5;u.current={x:Math.max(us+ar,Math.min(Oa-ar,te)),y:Math.max(ms+ar,Math.min($a-ar,ne))}}b.current=b.current.filter(f=>(f.x+=f.vx,f.y+=f.vy,f.x>-yt*2&&f.x<it+yt*2&&f.y>-yt*2&&f.y<lt+yt*2)),j.current=j.current.filter(f=>{const te=vr[f.type];if(f.type==="circle"){const ne=(f.targetDistance||1)*te.maxDistance;if(!f.exploded&&f.distance>=ne)f.exploded=!0,f.progress=0;else if(f.exploded){if(f.progress+=.1,f.progress>=1)return m(ge=>({...ge,misses:ge.misses+1,combo:0,accuracy:ge.hits/(ge.hits+ge.misses+1)*100||0})),!1}else f.distance+=f.speed,f.progress=f.distance/te.maxDistance}else if(f.distance+=f.speed,f.progress=f.distance/te.maxDistance,f.progress>=1)return m(ne=>({...ne,misses:ne.misses+1,combo:0,accuracy:ne.hits/(ne.hits+ne.misses+1)*100||0})),!1;return!0}),D(),Z(),m(f=>({...f,timeAlive:fe}));const pe=C.current;if(!pe)return;const W=pe.getContext("2d");if(!W)return;if(W.fillStyle="#0f172a",W.fillRect(0,0,it,lt),W.strokeStyle="#334155",W.lineWidth=2,W.strokeRect(us,ms,Oa-us,$a-ms),b.current.forEach(f=>{W.beginPath(),W.arc(f.x,f.y,f.radius,0,Math.PI*2),W.fillStyle=f.color,W.fill(),W.strokeStyle="#fff",W.lineWidth=2,W.stroke()}),j.current.forEach(f=>{const te=f.x+Math.cos(f.angle)*f.distance,ne=f.y+Math.sin(f.angle)*f.distance;if(W.save(),f.type==="line")W.globalAlpha=Math.max(.3,1-f.progress),W.strokeStyle=f.color,W.lineWidth=f.width,W.lineCap="round",W.beginPath(),W.moveTo(f.x,f.y),W.lineTo(te,ne),W.stroke();else if(f.type==="circle")if(f.exploded){const ge=f.width*f.progress;W.globalAlpha=1-f.progress,W.beginPath(),W.arc(te,ne,ge,0,Math.PI*2),W.fillStyle=f.color,W.fill(),W.strokeStyle="#fff",W.lineWidth=3,W.stroke()}else W.globalAlpha=.9,W.beginPath(),W.arc(te,ne,12,0,Math.PI*2),W.fillStyle=f.color,W.fill(),W.strokeStyle="#fff",W.lineWidth=2,W.stroke(),W.globalAlpha=.3,W.strokeStyle=f.color,W.lineWidth=2,W.setLineDash([5,5]),W.beginPath(),W.moveTo(f.x,f.y),W.lineTo(te,ne),W.stroke(),W.setLineDash([]);else if(f.type==="cone"){W.globalAlpha=Math.max(.3,1-f.progress),W.fillStyle=f.color,W.beginPath(),W.moveTo(f.x,f.y);const ge=Math.PI/3;W.arc(f.x,f.y,f.distance,f.angle-ge/2,f.angle+ge/2),W.closePath(),W.fill(),W.strokeStyle="#fff",W.lineWidth=2,W.stroke()}W.restore()}),S.current){const f=S.current,te=vr[f],ne=u.current,ge=k.current,Ne=f==="circle"?$.current*te.maxDistance:te.maxDistance,be=ne.x+Math.cos(ge)*Ne,Se=ne.y+Math.sin(ge)*Ne;if(W.save(),W.globalAlpha=.4,f==="line")W.strokeStyle=te.color,W.lineWidth=te.width,W.lineCap="round",W.setLineDash([10,10]),W.beginPath(),W.moveTo(ne.x,ne.y),W.lineTo(be,Se),W.stroke(),W.setLineDash([]);else if(f==="circle")W.strokeStyle=te.color,W.lineWidth=3,W.setLineDash([8,8]),W.beginPath(),W.moveTo(ne.x,ne.y),W.lineTo(be,Se),W.stroke(),W.setLineDash([]),W.globalAlpha=.3,W.beginPath(),W.arc(be,Se,te.width,0,Math.PI*2),W.fillStyle=te.color,W.fill(),W.globalAlpha=.6,W.strokeStyle="#fff",W.lineWidth=3,W.stroke();else if(f==="cone"){W.fillStyle=te.color,W.beginPath(),W.moveTo(ne.x,ne.y);const _e=Math.PI/3;W.arc(ne.x,ne.y,te.maxDistance,ge-_e/2,ge+_e/2),W.closePath(),W.fill(),W.globalAlpha=.6,W.strokeStyle="#fff",W.lineWidth=2,W.stroke()}W.restore()}const re=u.current;if(W.beginPath(),W.arc(re.x,re.y,ar,0,Math.PI*2),W.fillStyle="#10b981",W.fill(),W.strokeStyle="#fff",W.lineWidth=3,W.stroke(),p.current){const f=g.current;(f.x!==0||f.y!==0)&&(W.strokeStyle="#10b981",W.lineWidth=2,W.beginPath(),W.moveTo(re.x,re.y),W.lineTo(re.x+f.x*40,re.y+f.y*40),W.stroke())}y.current=requestAnimationFrame(Y)},[t,T,z,D,Z]),me=c.useCallback(async()=>{const ee=P.current;if(ee&&!document.fullscreenElement)try{await ee.requestFullscreen(),h(!0)}catch(fe){console.warn("Fullscreen failed:",fe)}if(screen.orientation&&"lock"in screen.orientation)try{await screen.orientation.lock("landscape")}catch(fe){console.warn("Landscape lock failed:",fe)}u.current={x:it/2,y:lt/2},b.current=[],j.current=[],R.current={line:0,circle:0,cone:0},E.current=0,I.current=0,O.current=1,F.current=0,m({hits:0,misses:0,accuracy:0,combo:0,maxCombo:0,timeAlive:0}),v.current=Date.now(),_.current=0,w.current=Date.now(),o("playing")},[]),M=c.useCallback(()=>{o("paused"),N.current=Date.now()},[]),B=c.useCallback(()=>{_.current+=Date.now()-N.current,o("playing")},[]),Q=c.useCallback(()=>{y.current&&cancelAnimationFrame(y.current),J.current="gameOver",o("gameOver")},[]),se=c.useCallback(async()=>{document.fullscreenElement&&(await document.exitFullscreen(),screen.orientation&&"unlock"in screen.orientation&&screen.orientation.unlock(),h(!1))},[]),ue=c.useCallback(async()=>{if(document.fullscreenElement)await se();else try{const ee=P.current;if(ee&&(await ee.requestFullscreen(),h(!0),screen.orientation&&"lock"in screen.orientation))try{await screen.orientation.lock("landscape")}catch(fe){console.warn("Orientation lock not supported:",fe)}}catch(ee){console.error("Fullscreen request failed:",ee)}},[se]);c.useEffect(()=>(l==="playing"?y.current=requestAnimationFrame(Y):y.current&&cancelAnimationFrame(y.current),()=>{y.current&&cancelAnimationFrame(y.current)}),[l,Y]),c.useEffect(()=>{l==="gameOver"&&a&&a({exercise_type:"skillshot_trainer",score:Math.round(d.accuracy),max_score:100,duration:Math.round(d.timeAlive),metadata:{hits:d.hits,misses:d.misses,accuracy:d.accuracy,maxCombo:d.maxCombo,difficulty:n}})},[l,d,n,a]),c.useEffect(()=>{const ee=()=>{h(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",ee),()=>document.removeEventListener("fullscreenchange",ee)},[]);const ye=c.useCallback(()=>{p.current=!0},[]),Fe=c.useCallback(ee=>{if(!p.current)return;const de=ee.currentTarget.getBoundingClientRect(),pe=de.width/2,W=de.height/2;let re,f;if("touches"in ee){if(ee.touches.length===0)return;re=ee.touches[0].clientX,f=ee.touches[0].clientY}else re=ee.clientX,f=ee.clientY;const te=re-de.left-pe,ne=f-de.top-W,ge=Math.sqrt(te*te+ne*ne),Ne=de.width/2;if(ge>Ne){const be=Math.atan2(ne,te);g.current={x:Math.cos(be),y:Math.sin(be)},k.current=be}else g.current={x:te/Ne,y:ne/Ne},ge>10&&(k.current=Math.atan2(ne,te))},[]),ie=c.useCallback(()=>{p.current=!1,g.current={x:0,y:0}},[]),le=c.useCallback((ee,fe)=>{S.current=fe;const pe=ee.currentTarget.getBoundingClientRect();q.current={x:pe.left+pe.width/2,y:pe.top+pe.height/2}},[]),ve=c.useCallback(ee=>{if(!S.current||!q.current)return;let fe,de;if("touches"in ee){if(ee.touches.length===0)return;fe=ee.touches[0].clientX,de=ee.touches[0].clientY}else fe=ee.clientX,de=ee.clientY;const pe=fe-q.current.x,W=de-q.current.y,re=Math.sqrt(pe*pe+W*W);re>1&&(k.current=Math.atan2(W,pe));const te=Math.min(re/150,1);$.current=Math.max(.3,te)},[]),Ae=c.useCallback(ee=>{S.current===ee&&L(ee),S.current=null,q.current=null},[L]),Me=ee=>{const fe=Date.now(),de=R.current[ee];if(de===0)return 0;const pe=vr[ee];return Math.max(0,de-fe)/pe.cooldown*100};return e.jsxs("div",{ref:P,className:ut("relative w-full h-full",r),children:[l==="playing"&&e.jsx("div",{className:"fixed inset-0 z-0",children:e.jsx("canvas",{ref:C,width:it,height:lt,className:"w-full h-full object-contain bg-slate-950",style:{touchAction:"none"}})}),l==="idle"&&e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[e.jsx("canvas",{ref:C,width:it,height:lt,className:"w-full h-auto max-h-screen bg-slate-950 rounded-lg shadow-2xl mb-6",style:{touchAction:"none"}}),e.jsxs("div",{className:"text-center space-y-6 pb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-bold mb-2 ${U.textMain}`,children:" Skillshot Trainer"}),e.jsx("p",{className:"text-gray-400",children:"Entranez votre prcision de skillshots MOBA"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Difficult"}),e.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:["easy","medium","hard","survival"].map(ee=>e.jsxs("button",{onClick:()=>i(ee),className:`px-4 py-2 rounded-lg font-semibold transition-all ${n===ee?`${U.bgPrimary} text-white`:`${U.bgCard} text-gray-400 ${U.bgCardHover}`}`,children:[ee==="easy"&&" Facile",ee==="medium"&&" Moyen",ee==="hard"&&" Difficile",ee==="survival"&&" Survie"]},ee))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:ue,className:`w-full max-w-md mx-auto px-4 py-2 ${U.bgCard} ${U.bgCardHover} ${U.borderRadius} ${U.border} border text-sm transition-all`,children:x?" Quitter le plein cran":" Mode plein cran (paysage recommand)"}),e.jsx("button",{onClick:me,className:`px-8 py-4 ${U.bgPrimary} ${U.bgPrimaryHover} ${U.borderRadius} font-bold text-lg transition-all`,children:" Commencer"})]}),e.jsxs("div",{className:`${U.bgCard} p-4 rounded-lg text-left max-w-md mx-auto`,children:[e.jsx("h3",{className:"font-semibold mb-2 text-emerald-400",children:" Instructions"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:" Joystick (gauche): Dplacer le personnage"}),e.jsx("li",{children:" Boutons (droite): Lancer les skillshots"}),e.jsx("li",{children:"  Ligne: Projectile rapide en ligne droite"}),e.jsx("li",{children:"  Cercle: Zone d'effet AoE"}),e.jsx("li",{children:"  Cne: Skillshot en cne"}),e.jsx("li",{children:" Touchez les cibles orange avec vos sorts!"})]})]})]})]}),l==="playing"&&e.jsxs("div",{className:"fixed inset-0 pointer-events-none",style:{zIndex:9999},children:[e.jsx("div",{className:"absolute top-4 left-4 right-4 pointer-events-auto",children:e.jsxs("div",{className:"flex justify-between items-center bg-black/60 backdrop-blur rounded-lg p-3 text-white",children:[e.jsxs("div",{className:"flex gap-4 text-sm",children:[e.jsxs("span",{className:"font-semibold",children:[" ",Math.floor(d.timeAlive),"s"]}),e.jsxs("span",{className:"text-emerald-400",children:[" ",d.hits]}),e.jsxs("span",{className:"text-red-400",children:[" ",d.misses]}),e.jsxs("span",{className:"text-amber-400",children:[" Combo: ",d.combo]}),e.jsxs("span",{className:"text-blue-400",children:[" ",d.accuracy.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:M,className:"px-3 py-1 bg-amber-600 hover:bg-amber-700 rounded font-semibold text-sm",children:" Pause"}),e.jsx("button",{onClick:Q,className:"px-3 py-1 bg-red-600 hover:bg-red-700 rounded font-semibold text-sm",children:" Stop"})]})]})}),e.jsx("div",{className:"fixed left-4 bottom-4 pointer-events-auto",children:e.jsx("div",{className:"relative w-32 h-32 bg-gray-800/70 rounded-full border-4 border-gray-600 shadow-lg",onTouchStart:ye,onTouchMove:Fe,onTouchEnd:ie,onMouseDown:ye,onMouseMove:Fe,onMouseUp:ie,onMouseLeave:ie,style:{touchAction:"none"},children:e.jsx("div",{className:"absolute top-1/2 left-1/2 w-12 h-12 bg-emerald-500 rounded-full shadow-lg transition-transform",style:{transform:`translate(-50%, -50%) translate(${g.current.x*30}px, ${g.current.y*30}px)`}})})}),e.jsx("div",{className:"fixed right-4 bottom-4 pointer-events-auto",children:e.jsxs("div",{className:"relative",style:{width:"220px",height:"100px"},children:[e.jsxs("button",{onTouchStart:ee=>le(ee,"line"),onTouchMove:ve,onTouchEnd:()=>Ae("line"),onMouseDown:ee=>le(ee,"line"),onMouseMove:ve,onMouseUp:()=>Ae("line"),disabled:Me("line")>0,className:"absolute w-20 h-20 bg-red-600 hover:bg-red-700 disabled:bg-gray-700 disabled:opacity-50 rounded-full shadow-lg font-bold text-2xl transition-all",style:{touchAction:"none",right:"0px",bottom:"0px"},children:[e.jsx("span",{className:"relative z-10",children:""}),Me("line")>0&&e.jsx("div",{className:"absolute inset-0 bg-black/70 rounded-full",style:{clipPath:`polygon(50% 50%, 50% 0%, ${50+50*Math.sin(Me("line")/100*2*Math.PI)}% ${50-50*Math.cos(Me("line")/100*2*Math.PI)}%)`}})]}),e.jsxs("button",{onTouchStart:ee=>le(ee,"circle"),onTouchMove:ve,onTouchEnd:()=>Ae("circle"),onMouseDown:ee=>le(ee,"circle"),onMouseMove:ve,onMouseUp:()=>Ae("circle"),disabled:Me("circle")>0,className:"absolute w-20 h-20 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-700 disabled:opacity-50 rounded-full shadow-lg font-bold text-2xl transition-all",style:{touchAction:"none",right:"90px",bottom:"10px"},children:[e.jsx("span",{className:"relative z-10",children:""}),Me("circle")>0&&e.jsx("div",{className:"absolute inset-0 bg-black/70 rounded-full",style:{clipPath:`polygon(50% 50%, 50% 0%, ${50+50*Math.sin(Me("circle")/100*2*Math.PI)}% ${50-50*Math.cos(Me("circle")/100*2*Math.PI)}%)`}})]}),e.jsxs("button",{onTouchStart:ee=>le(ee,"cone"),onTouchMove:ve,onTouchEnd:()=>Ae("cone"),onMouseDown:ee=>le(ee,"cone"),onMouseMove:ve,onMouseUp:()=>Ae("cone"),disabled:Me("cone")>0,className:"absolute w-20 h-20 bg-cyan-600 hover:bg-cyan-700 disabled:bg-gray-700 disabled:opacity-50 rounded-full shadow-lg font-bold text-2xl transition-all",style:{touchAction:"none",right:"180px",bottom:"20px"},children:[e.jsx("span",{className:"relative z-10",children:""}),Me("cone")>0&&e.jsx("div",{className:"absolute inset-0 bg-black/70 rounded-full",style:{clipPath:`polygon(50% 50%, 50% 0%, ${50+50*Math.sin(Me("cone")/100*2*Math.PI)}% ${50-50*Math.cos(Me("cone")/100*2*Math.PI)}%)`}})]})]})})]}),l==="paused"&&e.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center",style:{zIndex:1e4},children:e.jsxs("div",{className:`${U.bgCard} p-8 rounded-2xl max-w-md text-center space-y-4`,children:[e.jsx("h2",{className:"text-3xl font-bold text-amber-400",children:" Pause"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:B,className:`w-full px-6 py-3 ${U.bgPrimary} ${U.bgPrimaryHover} ${U.borderRadius} font-semibold transition-all`,children:" Reprendre"}),e.jsx("button",{onClick:Q,className:`w-full px-6 py-3 ${U.bgCard} ${U.bgCardHover} ${U.borderRadius} font-semibold transition-all`,children:" Arrter"})]})]})}),l==="gameOver"&&e.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center p-4",style:{zIndex:1e4},children:e.jsxs("div",{className:`${U.bgCard} p-6 rounded-xl max-w-lg w-full text-center space-y-4 relative`,children:[e.jsx("button",{onClick:()=>{o("idle"),x&&se()},className:"absolute top-3 right-3 w-8 h-8 flex items-center justify-center rounded-full bg-gray-700 hover:bg-gray-600 text-white transition-colors","aria-label":"Fermer",children:""}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-1 text-emerald-400",children:" Partie Termine!"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Rsultats de votre performance"})]}),e.jsx("div",{className:`${U.bgCard} p-4 rounded-lg space-y-2`,children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Cibles touches"}),e.jsx("p",{className:"text-xl font-bold text-emerald-400",children:d.hits})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Tirs manqus"}),e.jsx("p",{className:"text-xl font-bold text-red-400",children:d.misses})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Prcision"}),e.jsxs("p",{className:"text-xl font-bold text-blue-400",children:[d.accuracy.toFixed(1),"%"]})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Meilleur combo"}),e.jsx("p",{className:"text-xl font-bold text-amber-400",children:d.maxCombo})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-300",children:"Changer la difficult"}),e.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:["easy","medium","hard","survival"].map(ee=>e.jsxs("button",{onClick:()=>i(ee),className:`px-3 py-1.5 rounded-lg text-sm font-semibold transition-all ${n===ee?`${U.bgPrimary} text-white`:`${U.bgCard} text-gray-400 ${U.bgCardHover}`}`,children:[ee==="easy"&&" Facile",ee==="medium"&&" Moyen",ee==="hard"&&" Difficile",ee==="survival"&&" Survie"]},ee))})]}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx("button",{onClick:me,className:`px-6 py-2.5 ${U.bgPrimary} ${U.bgPrimaryHover} ${U.borderRadius} font-semibold transition-all`,children:" Rejouer"}),x&&e.jsx("button",{onClick:se,className:`px-6 py-2.5 ${U.bgCard} ${U.bgCardHover} ${U.borderRadius} font-semibold transition-all`,children:" Quitter"})]})]})})]})}var Je=1280,At=720,Im=-37.5*Math.PI/180,qm=At/2+120,Vn=100,nr=200,jr=120,Nr=Je-200,xt=t=>qm+(t-Vn)*Math.tan(Im),wr={melee:{attackRange:80,attackDamage:60,attackSpeed:1.2,movementSpeed:4},ranged:{attackRange:250,attackDamage:45,attackSpeed:1.5,movementSpeed:3.5}},Um={melee:{maxHealth:100,goldValue:20,spawnChance:.5},ranged:{maxHealth:80,goldValue:18,spawnChance:.3},cannon:{maxHealth:200,goldValue:60,spawnChance:.2}};function Hm({duration:t=120,className:r,theme:s="ermite",onComplete:a}){const n=ct(s),i=dt(n),[l,o]=c.useState("idle"),[d,m]=c.useState("medium"),[x,h]=c.useState("melee"),[p,g]=c.useState(!1),[u,b]=c.useState({gold:0,cs:0,missedCs:0,accuracy:100,perfectHits:0,combo:0,maxCombo:0,timeElapsed:0}),j=c.useRef(null),R=c.useRef(null),k=c.useRef(),S=c.useRef("idle"),$=c.useRef("medium"),q=c.useRef({x:nr,y:xt(nr)}),C=c.useRef(!1),P=c.useRef({x:0,y:0}),y=c.useRef(0),v=c.useRef(null),N=c.useRef([]),_=c.useRef({position:{x:Nr,y:xt(Nr)},targetCreepId:null,attackCooldown:0,lastAttackTime:0}),w=c.useRef(0),E=c.useRef(0),I=c.useRef(0),J=c.useRef(0),V=c.useRef(0),O=c.useRef(0),F=c.useRef([]),A=c.useRef([]),U=c.useRef(new Map),T=c.useRef([]),z=c.useRef(0);c.useEffect(()=>{S.current=l},[l]),c.useEffect(()=>{$.current=d},[d]);const L=c.useCallback((re,f,te,ne=10)=>{const ge=[];for(let Ne=0;Ne<ne;Ne++){const be=Math.PI*2*Ne/ne+Math.random()*.5,Se=2+Math.random()*3;ge.push({x:re,y:f,vx:Math.cos(be)*Se,vy:Math.sin(be)*Se-2,life:1,maxLife:1,color:te==="gold"?"#fbbf24":te==="combo"?"#f97316":te==="death"?"#ef4444":"#ffffff",size:te==="gold"?6:4,type:te})}F.current.push(...ge)},[]),Z=c.useCallback((re,f,te,ne)=>{A.current.push({x:re,y:f,text:te,color:ne,life:1,maxLife:1,vy:-1.5})},[]),D=c.useCallback(re=>{F.current=F.current.filter(f=>(f.life-=re,f.x+=f.vx,f.y+=f.vy,f.vy+=.2,f.life>0))},[]),Y=c.useCallback(re=>{A.current=A.current.filter(f=>(f.life-=re,f.y+=f.vy,f.life>0))},[]),me=c.useCallback((re,f,te,ne,ge)=>{T.current.push({id:z.current++,fromX:re,fromY:f,toX:te,toY:ne,currentX:re,currentY:f,life:1,maxLife:1,type:ge})},[]),M=c.useCallback(re=>{T.current=T.current.filter(f=>{if(f.life-=re*(f.type==="melee"?5:2),f.type==="ranged"){const te=1-f.life/f.maxLife;f.currentX=f.fromX+(f.toX-f.fromX)*te,f.currentY=f.fromY+(f.toY-f.fromY)*te}return f.life>0})},[]),B=c.useCallback(()=>{switch($.current){case"easy":return{enemyAttackSpeed:.4,waveInterval:3e4,creepHealthDecayRate:.25};case"medium":return{enemyAttackSpeed:.6,waveInterval:3e4,creepHealthDecayRate:.4};case"hard":return{enemyAttackSpeed:.9,waveInterval:3e4,creepHealthDecayRate:.6};case"survival":return{enemyAttackSpeed:1.2,waveInterval:3e4,creepHealthDecayRate:.8};default:return{enemyAttackSpeed:.6,waveInterval:3e4,creepHealthDecayRate:.4}}},[]),Q=c.useCallback(()=>{const re=[];O.current++;const f=O.current%3===0,te=["melee","melee","melee","ranged","ranged","ranged"];f&&te.push("cannon");const ne=90,ge=Je-Vn+100;te.forEach((Ne,be)=>{const Se=Um[Ne],_e=ge+be*ne,at=xt(_e);re.push({id:w.current++,type:Ne,position:{x:_e,y:at},maxHealth:Se.maxHealth,currentHealth:Se.maxHealth,goldValue:Se.goldValue,moving:!0,targetX:nr+100+Math.random()*100})}),N.current=[...N.current,...re]},[]),se=c.useCallback(re=>{const f=B();N.current=N.current.filter(te=>(te.moving&&te.position.x>te.targetX&&(te.position.x-=.5*re*60,te.position.y=xt(te.position.x),te.position.x<=te.targetX&&(te.moving=!1)),te.currentHealth-=f.creepHealthDecayRate*re,te.currentHealth<=0?(L(te.position.x,te.position.y,"death",8),Z(te.position.x,te.position.y-30,"MISSED!","#ef4444"),b(ne=>({...ne,missedCs:ne.missedCs+1,combo:0,accuracy:ne.cs/(ne.cs+ne.missedCs+1)*100||100})),!1):!0))},[B,L,Z]),ue=c.useCallback(()=>{const re=B(),f=_.current,te=Date.now();if(!f.targetCreepId||!N.current.find(ne=>ne.id===f.targetCreepId)){const ne=N.current.filter(ge=>!ge.moving).sort((ge,Ne)=>Math.abs(ge.position.x-f.position.x)-Math.abs(Ne.position.x-f.position.x))[0];ne&&(f.targetCreepId=ne.id)}if(f.targetCreepId){const ne=N.current.find(ge=>ge.id===f.targetCreepId);ne&&(te-f.lastAttackTime)/1e3>=1/re.enemyAttackSpeed&&(ne.currentHealth-=40,f.lastAttackTime=te)}},[B]),ye=c.useCallback(()=>{const re=wr[x],f=Date.now(),te=(f-y.current)/1e3,ne=q.current,ge=N.current.filter(Se=>Math.sqrt(Math.pow(Se.position.x-ne.x,2)+Math.pow(Se.position.y-ne.y,2))<=re.attackRange);let Ne=null;v.current!==null&&(Ne=ge.find(Se=>Se.id===v.current)||null,Ne||(v.current=null));const be=Ne||(ge.length>0?ge.sort((Se,_e)=>Math.abs(Se.position.x-ne.x)-Math.abs(_e.position.x-ne.x))[0]:null);if(be)me(ne.x,ne.y,be.position.x,be.position.y,x);else{const Se=ne.x+re.attackRange,_e=ne.y;me(ne.x,ne.y,Se,_e,x)}if(!(te<1/re.attackSpeed)&&be){if(be.currentHealth-=re.attackDamage,be.currentHealth<=0){const Se=be.currentHealth>-20;L(be.position.x,be.position.y,"gold",Se?20:12),Z(be.position.x,be.position.y-35,`+${be.goldValue}g`,"#fbbf24"),Se&&Z(be.position.x,be.position.y-50,"PERFECT!","#10b981"),b(_e=>({..._e,gold:_e.gold+be.goldValue,cs:_e.cs+1,combo:_e.combo+1,maxCombo:Math.max(_e.maxCombo,_e.combo+1),perfectHits:_e.perfectHits+(Se?1:0),accuracy:(_e.cs+1)/(_e.cs+1+_e.missedCs)*100})),u.combo>=2&&L(ne.x,ne.y-30,"combo",5)}U.current.set(be.id,Date.now()),y.current=f}},[x,L,Z,me,u.combo]),Fe=c.useCallback(()=>{const re=R.current,f=re==null?void 0:re.getContext("2d");if(!f||!re||S.current!=="playing")return;const te=Date.now(),ne=(te-E.current-J.current)/1e3,ge=1/60;if(ne>=t){o("gameOver");return}if(b(oe=>({...oe,timeElapsed:ne})),te-I.current>B().waveInterval&&(Q(),I.current=te),se(ge),ue(),D(ge),Y(ge),M(ge),C.current){const He=wr[x].movementSpeed;q.current.x+=P.current.x*He,q.current.y+=P.current.y*He,q.current.x=Math.max(50,Math.min(Je-50,q.current.x)),q.current.y=Math.max(50,Math.min(At-50,q.current.y))}f.fillStyle="#0f172a",f.fillRect(0,0,Je,At);const Ne=160,be=xt(0),Se=xt(Je);f.save(),f.fillStyle="#1a1f2e",f.fillRect(0,0,Je,At),f.fillStyle="#2d3748",f.beginPath(),f.moveTo(0,be-Ne/2),f.lineTo(Je,Se-Ne/2),f.lineTo(Je,Se+Ne/2),f.lineTo(0,be+Ne/2),f.closePath(),f.fill(),f.strokeStyle="#4a5568",f.lineWidth=2,f.setLineDash([20,15]),f.beginPath(),f.moveTo(0,be),f.lineTo(Je,Se),f.stroke(),f.setLineDash([]),f.strokeStyle="#64748b",f.lineWidth=4,f.beginPath(),f.moveTo(0,be-Ne/2),f.lineTo(Je,Se-Ne/2),f.stroke(),f.beginPath(),f.moveTo(0,be+Ne/2),f.lineTo(Je,Se+Ne/2),f.stroke();for(let oe=1;oe<10;oe++){const He=Je*oe/10,Ye=xt(He);f.fillStyle="#374151",f.fillRect(He-1,Ye-Ne/2,2,Ne)}f.restore();const _e=xt(jr);f.fillStyle="#3b82f6",f.font="bold 40px Arial",f.textAlign="center",f.textBaseline="middle",f.fillText("",jr,_e),f.fillStyle="#10b981",f.fillRect(jr-20,_e-35,40,5),f.strokeStyle="#059669",f.strokeRect(jr-20,_e-35,40,5),N.current.forEach(oe=>{const He=oe.currentHealth/oe.maxHealth;f.font="bold 32px Arial",f.textAlign="center",f.textBaseline="middle";let Ye="";if(oe.type==="melee"?Ye="":oe.type==="ranged"?Ye="":oe.type==="cannon"&&(Ye=""),f.fillText(Ye,oe.position.x,oe.position.y),v.current===oe.id){f.strokeStyle="#fbbf24",f.lineWidth=3,f.beginPath(),f.arc(oe.position.x,oe.position.y,25,0,Math.PI*2),f.stroke();const qt=28+Math.sin(te/150)*3;f.strokeStyle="rgba(251, 191, 36, 0.5)",f.lineWidth=2,f.beginPath(),f.arc(oe.position.x,oe.position.y,qt,0,Math.PI*2),f.stroke()}const nt=40,qs=5,es=oe.position.x-nt/2,ts=oe.position.y-25;f.fillStyle="#334155",f.fillRect(es,ts,nt,qs);const Qn=wr[x].attackDamage,Us=oe.currentHealth<=Qn,Hs=U.current.get(oe.id),zs=(Hs?te-Hs:999999)<200;if(Us){const qt=.7+Math.sin(te/200)*.3;f.fillStyle=zs?"#fbbf24":`rgba(239, 68, 68, ${qt})`}else f.fillStyle=zs?"#fbbf24":"#10b981";if(f.fillRect(es,ts,nt*He,qs),Us&&oe.currentHealth>0){const qt=(oe.currentHealth-20)/oe.maxHealth;qt>0&&(f.fillStyle="#10b981",f.fillRect(es,ts-1,nt*qt,1))}f.fillStyle="#fbbf24",f.font="bold 12px Arial",f.textAlign="center",f.fillText(`${oe.goldValue}g`,oe.position.x,oe.position.y+25)});const at=_.current;f.font="bold 40px Arial",f.textAlign="center",f.textBaseline="middle",f.fillStyle="#dc2626",f.fillText("",at.position.x,at.position.y);const We=q.current;f.font="bold 36px Arial",f.textAlign="center",f.textBaseline="middle";const It=x==="melee"?"":"";if(f.fillText(It,We.x,We.y),f.strokeStyle="rgba(139, 92, 246, 0.3)",f.lineWidth=2,f.setLineDash([5,5]),f.beginPath(),f.arc(We.x,We.y,wr[x].attackRange,0,Math.PI*2),f.stroke(),f.setLineDash([]),u.combo>=3){const oe=Math.min(u.combo/10,1),He=30+u.combo*3,Ye=Math.sin(te/100)*5;f.save(),f.globalAlpha=.3+oe*.3;const nt=f.createRadialGradient(We.x,We.y,0,We.x,We.y,He+Ye);nt.addColorStop(0,u.combo>=5?"#f97316":"#fbbf24"),nt.addColorStop(.5,u.combo>=5?"#ea580c":"#f59e0b"),nt.addColorStop(1,"transparent"),f.fillStyle=nt,f.beginPath(),f.arc(We.x,We.y,He+Ye,0,Math.PI*2),f.fill(),f.restore()}T.current.forEach(oe=>{if(f.save(),f.globalAlpha=oe.life/oe.maxLife,oe.type==="melee"){const He=1-oe.life/oe.maxLife,Ye=Math.PI*He,nt=40;f.strokeStyle=x==="melee"?"#8b5cf6":"#06b6d4",f.lineWidth=6,f.lineCap="round",f.beginPath(),f.arc(oe.toX,oe.toY,nt,-Math.PI/4+Ye-Math.PI/2,-Math.PI/4+Ye+Math.PI/2),f.stroke(),f.strokeStyle="#ffffff",f.lineWidth=2,f.stroke()}else{const He=f.createRadialGradient(oe.currentX,oe.currentY,0,oe.currentX,oe.currentY,8);He.addColorStop(0,"#06b6d4"),He.addColorStop(.5,"#0891b2"),He.addColorStop(1,"transparent"),f.fillStyle=He,f.beginPath(),f.arc(oe.currentX,oe.currentY,8,0,Math.PI*2),f.fill(),f.strokeStyle="rgba(6, 182, 212, 0.5)",f.lineWidth=3,f.beginPath(),f.moveTo(oe.fromX,oe.fromY),f.lineTo(oe.currentX,oe.currentY),f.stroke()}f.restore()}),F.current.forEach(oe=>{f.save(),f.globalAlpha=oe.life/oe.maxLife,f.fillStyle=oe.color,f.beginPath(),f.arc(oe.x,oe.y,oe.size,0,Math.PI*2),f.fill(),f.restore()}),A.current.forEach(oe=>{f.save(),f.globalAlpha=oe.life/oe.maxLife,f.fillStyle=oe.color,f.font="bold 16px Arial",f.textAlign="center",f.strokeStyle="#000000",f.lineWidth=3,f.strokeText(oe.text,oe.x,oe.y),f.fillText(oe.text,oe.x,oe.y),f.restore()}),k.current=requestAnimationFrame(Fe)},[t,x,B,Q,se,ue,D,Y,M,L,Z,u.combo]),ie=c.useCallback(async()=>{if(!document.fullscreenElement){const re=j.current;if(re)try{if(await re.requestFullscreen(),g(!0),screen.orientation&&"lock"in screen.orientation)try{await screen.orientation.lock("landscape")}catch(f){console.warn("Landscape lock failed:",f)}}catch(f){console.warn("Fullscreen failed:",f)}}o("playing"),q.current={x:nr,y:xt(nr)},N.current=[],P.current={x:0,y:0},C.current=!1,w.current=0,O.current=0,v.current=null,_.current={position:{x:Nr,y:xt(Nr)},targetCreepId:null,attackCooldown:0,lastAttackTime:0},b({gold:0,cs:0,missedCs:0,accuracy:100,perfectHits:0,combo:0,maxCombo:0,timeElapsed:0}),E.current=Date.now(),J.current=0,I.current=Date.now(),y.current=0,F.current=[],A.current=[],U.current.clear(),T.current=[],setTimeout(()=>{Q()},500)},[Q]),le=c.useCallback(()=>{o("paused"),V.current=Date.now()},[]),ve=c.useCallback(()=>{J.current+=Date.now()-V.current,o("playing")},[]),Ae=c.useCallback(()=>{o("gameOver"),S.current="gameOver"},[]),Me=c.useCallback(async()=>{document.fullscreenElement&&(await document.exitFullscreen(),screen.orientation&&"unlock"in screen.orientation&&screen.orientation.unlock(),g(!1))},[]),ee=c.useCallback(async()=>{if(document.fullscreenElement)await Me();else try{const re=j.current;if(re&&(await re.requestFullscreen(),g(!0),screen.orientation&&"lock"in screen.orientation))try{await screen.orientation.lock("landscape")}catch(f){console.warn("Orientation lock not supported:",f)}}catch(re){console.error("Fullscreen request failed:",re)}},[Me]);c.useEffect(()=>(l==="playing"?k.current=requestAnimationFrame(Fe):k.current&&cancelAnimationFrame(k.current),()=>{k.current&&cancelAnimationFrame(k.current)}),[l,Fe]),c.useEffect(()=>{l==="gameOver"&&a&&a({exercise_type:"last_hit_trainer",score:u.gold,max_score:1e4,duration:Math.round(u.timeElapsed),metadata:{gold:u.gold,cs:u.cs,missedCs:u.missedCs,accuracy:u.accuracy,perfectHits:u.perfectHits,maxCombo:u.maxCombo,championType:x,difficulty:d}})},[l,u,x,d,a]),c.useEffect(()=>{const re=()=>{g(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",re),()=>document.removeEventListener("fullscreenchange",re)},[]);const fe=c.useCallback(()=>{C.current=!0},[]),de=c.useCallback(re=>{if(!C.current)return;const te=re.currentTarget.getBoundingClientRect(),ne=te.left+te.width/2,ge=te.top+te.height/2;let Ne,be;if("touches"in re){if(re.touches.length===0)return;Ne=re.touches[0].clientX,be=re.touches[0].clientY}else Ne=re.clientX,be=re.clientY;const Se=Ne-ne,_e=be-ge,at=Math.sqrt(Se*Se+_e*_e),We=te.width/2;if(at>0){const It=Se/at,oe=_e/at,Ye=Math.min(at,We)/We;P.current={x:It*Ye,y:oe*Ye}}},[]),pe=c.useCallback(()=>{C.current=!1,P.current={x:0,y:0}},[]),W=c.useCallback(re=>{if(S.current!=="playing")return;const f=R.current;if(!f)return;const te=f.getBoundingClientRect(),ne=Je/te.width,ge=At/te.height;let Ne,be;if("touches"in re){if(re.touches.length===0)return;Ne=re.touches[0].clientX,be=re.touches[0].clientY}else Ne=re.clientX,be=re.clientY;const Se=(Ne-te.left)*ne,_e=(be-te.top)*ge,at=20,We=N.current.find(It=>Math.sqrt(Math.pow(It.position.x-Se,2)+Math.pow(It.position.y-_e,2))<=at);We&&(v.current=We.id)},[]);return e.jsxs("div",{ref:j,className:ut("relative w-full h-full",r),children:[l==="playing"&&e.jsx("div",{className:"fixed inset-0 z-0",children:e.jsx("canvas",{ref:R,width:Je,height:At,className:"w-full h-full object-contain bg-slate-950",style:{touchAction:"none"},onClick:W,onTouchStart:W})}),l==="idle"&&e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[e.jsx("canvas",{ref:R,width:Je,height:At,className:"w-full h-auto max-h-screen bg-slate-950 rounded-lg shadow-2xl mb-6",style:{touchAction:"none"}}),e.jsxs("div",{className:"text-center space-y-6 pb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:`text-2xl font-bold mb-2 ${i.textMain}`,children:" Last Hit Trainer"}),e.jsx("p",{className:"text-gray-400",children:"Entranez votre farming MOBA"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Type de Champion"}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsxs("button",{onClick:()=>h("melee"),className:`px-6 py-3 rounded-lg font-semibold transition-all ${x==="melee"?"bg-purple-600 text-white scale-105":"bg-slate-800 text-gray-400 hover:bg-slate-700"}`,children:[" Corps--corps",e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"Courte porte, dgts levs"})]}),e.jsxs("button",{onClick:()=>h("ranged"),className:`px-6 py-3 rounded-lg font-semibold transition-all ${x==="ranged"?"bg-cyan-600 text-white scale-105":"bg-slate-800 text-gray-400 hover:bg-slate-700"}`,children:[" Distance",e.jsx("div",{className:"text-xs opacity-70 mt-1",children:"Longue porte, dgts moyens"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Difficult"}),e.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:["easy","medium","hard","survival"].map(re=>e.jsxs("button",{onClick:()=>m(re),className:`px-4 py-2 rounded-lg font-semibold transition-all ${d===re?`${i.bgPrimary} text-white`:`${i.bgCard} text-gray-400 ${i.bgCardHover}`}`,children:[re==="easy"&&" Facile",re==="medium"&&" Moyen",re==="hard"&&" Difficile",re==="survival"&&" Survie"]},re))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:ee,className:`w-full max-w-md mx-auto px-4 py-2 ${i.bgCard} ${i.bgCardHover} ${i.borderRadius} ${i.border} border text-sm transition-all`,children:p?" Quitter le plein cran":" Mode plein cran (paysage recommand)"}),e.jsx("button",{onClick:ie,className:`px-8 py-4 ${i.bgPrimary} ${i.bgPrimaryHover} ${i.borderRadius} font-bold text-lg transition-all`,children:" Commencer"})]}),e.jsxs("div",{className:`${i.bgCard} p-4 rounded-lg text-left max-w-md mx-auto`,children:[e.jsx("h3",{className:"font-semibold mb-2 text-emerald-400",children:" Instructions"}),e.jsxs("ul",{className:"text-sm text-gray-300 space-y-1",children:[e.jsx("li",{children:" Joystick (gauche): Dplacer le champion"}),e.jsx("li",{children:" Bouton (droite): Attaque basique"}),e.jsx("li",{children:" Last hit les creeps pour gagner de l'or"}),e.jsx("li",{children:" L'ennemi (rouge) attaque aussi les creeps"}),e.jsx("li",{children:" Barre rouge = zone de last hit parfait"}),e.jsx("li",{children:" Maximisez votre CS et combo!"})]})]})]})]}),l==="playing"&&e.jsxs("div",{className:"fixed inset-0 pointer-events-none",style:{zIndex:9999},children:[e.jsx("div",{className:"absolute top-4 left-4 right-4 pointer-events-auto",children:e.jsxs("div",{className:"flex justify-between items-center bg-black/60 backdrop-blur rounded-lg p-3 text-white",children:[e.jsxs("div",{className:"flex gap-4 text-sm",children:[e.jsxs("span",{className:"font-semibold",children:[" ",Math.floor(u.timeElapsed),"s"]}),e.jsxs("span",{className:"text-amber-400",children:[" ",u.gold,"g"]}),e.jsxs("span",{className:"text-emerald-400",children:[" CS: ",u.cs]}),e.jsxs("span",{className:"text-gray-400",children:[" ",u.missedCs]}),e.jsxs("span",{className:"text-blue-400",children:[" ",u.accuracy.toFixed(1),"%"]}),e.jsxs("span",{className:"text-purple-400",children:[" Combo: ",u.combo]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:le,className:"px-3 py-1 bg-amber-600 hover:bg-amber-700 rounded font-semibold text-sm",children:" Pause"}),e.jsx("button",{onClick:Ae,className:"px-3 py-1 bg-red-600 hover:bg-red-700 rounded font-semibold text-sm",children:" Stop"})]})]})}),e.jsx("div",{className:"fixed left-4 bottom-4 pointer-events-auto",children:e.jsx("div",{className:"relative w-32 h-32 bg-gray-800/70 rounded-full border-4 border-gray-600 shadow-lg",onTouchStart:fe,onTouchMove:de,onTouchEnd:pe,onMouseDown:fe,onMouseMove:de,onMouseUp:pe,onMouseLeave:pe,style:{touchAction:"none"},children:e.jsx("div",{className:"absolute top-1/2 left-1/2 w-12 h-12 bg-emerald-500 rounded-full shadow-lg transition-transform",style:{transform:`translate(-50%, -50%) translate(${P.current.x*30}px, ${P.current.y*30}px)`}})})}),e.jsx("div",{className:"fixed right-4 bottom-4 pointer-events-auto",children:e.jsx("button",{onTouchStart:ye,onClick:ye,className:"w-24 h-24 bg-red-600 hover:bg-red-700 rounded-full shadow-lg font-bold text-3xl transition-all active:scale-95",style:{touchAction:"none"},children:""})})]}),l==="paused"&&e.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center",style:{zIndex:1e4},children:e.jsxs("div",{className:`${i.bgCard} p-8 rounded-2xl max-w-md text-center space-y-4`,children:[e.jsx("h2",{className:"text-3xl font-bold text-amber-400",children:" Pause"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:ve,className:`w-full px-6 py-3 ${i.bgPrimary} ${i.bgPrimaryHover} ${i.borderRadius} font-semibold transition-all`,children:" Reprendre"}),e.jsx("button",{onClick:Ae,className:`w-full px-6 py-3 ${i.bgCard} ${i.bgCardHover} ${i.borderRadius} font-semibold transition-all`,children:" Arrter"})]})]})}),l==="gameOver"&&e.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center p-4",style:{zIndex:1e4},children:e.jsxs("div",{className:`${i.bgCard} p-6 rounded-xl max-w-lg w-full text-center space-y-4 relative`,children:[e.jsx("button",{onClick:()=>{o("idle"),p&&Me()},className:"absolute top-3 right-3 w-8 h-8 flex items-center justify-center rounded-full bg-gray-700 hover:bg-gray-600 text-white transition-colors","aria-label":"Fermer",children:""}),e.jsx("h2",{className:"text-3xl font-bold text-emerald-400",children:" Farming Termin!"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-left",children:[e.jsxs("div",{className:`${i.bgSecondary} p-3 rounded-lg`,children:[e.jsx("div",{className:"text-gray-400 text-sm",children:"Or Total"}),e.jsxs("div",{className:"text-2xl font-bold text-amber-400",children:[u.gold,"g"]})]}),e.jsxs("div",{className:`${i.bgSecondary} p-3 rounded-lg`,children:[e.jsx("div",{className:"text-gray-400 text-sm",children:"CS Total"}),e.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:u.cs})]}),e.jsxs("div",{className:`${i.bgSecondary} p-3 rounded-lg`,children:[e.jsx("div",{className:"text-gray-400 text-sm",children:"Prcision"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[u.accuracy.toFixed(1),"%"]})]}),e.jsxs("div",{className:`${i.bgSecondary} p-3 rounded-lg`,children:[e.jsx("div",{className:"text-gray-400 text-sm",children:"Max Combo"}),e.jsx("div",{className:"text-2xl font-bold text-purple-400",children:u.maxCombo})]}),e.jsxs("div",{className:`${i.bgSecondary} p-3 rounded-lg`,children:[e.jsx("div",{className:"text-gray-400 text-sm",children:"Last Hits Parfaits"}),e.jsx("div",{className:"text-2xl font-bold text-pink-400",children:u.perfectHits})]}),e.jsxs("div",{className:`${i.bgSecondary} p-3 rounded-lg`,children:[e.jsx("div",{className:"text-gray-400 text-sm",children:"CS Rats"}),e.jsx("div",{className:"text-2xl font-bold text-red-400",children:u.missedCs})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{o("idle"),p&&Me()},className:`flex-1 px-6 py-2.5 ${i.bgPrimary} ${i.bgPrimaryHover} ${i.borderRadius} font-semibold transition-all`,children:" Rejouer"}),p&&e.jsx("button",{onClick:Me,className:`px-6 py-2.5 ${i.bgCard} ${i.bgCardHover} ${i.borderRadius} font-semibold transition-all`,children:" Quitter"})]})]})})]})}const Es=[{id:"memory-cards",type:"MEMORY_CARDS",title:"Memory Cards",description:"Retrouve les paires de cartes identiques. Amliore ta mmoire visuelle et ta concentration.",category:"memory",difficulty:["EASY","MEDIUM","HARD"],thumbnail:"/images/exercises/memory-cards.png",icon:"",component:Em,defaultConfig:{grid_rows:4,grid_cols:4,time_weight:.5,accuracy_weight:.5,difficulty:"MEDIUM"},tags:["mmoire","concentration","visuel"],estimatedDuration:3},{id:"pattern-recall",type:"PATTERN_RECALL",title:"Pattern Recall",description:"Mmorise et reproduis le motif de couleurs. Entrane ta mmoire visuelle spatiale.",category:"memory",difficulty:["EASY","MEDIUM","HARD"],thumbnail:"/images/exercises/pattern-recall.png",icon:"",component:Mm,defaultConfig:{grid_rows:3,grid_cols:3,colors:["#3CB371","#FF9800","#FFD600","#E53935","#8E24AA"],preview_duration_ms:3e3,difficulty:"MEDIUM"},tags:["mmoire","spatial","couleurs"],estimatedDuration:4},{id:"sequence-memory",type:"SEQUENCE_MEMORY",title:"Sequence Memory",description:"Mmorise et reproduis la squence. Dveloppe ta mmoire de travail.",category:"memory",difficulty:["EASY","MEDIUM","HARD"],thumbnail:"/images/exercises/sequence-memory.png",icon:"",component:Rm,defaultConfig:{sequence_length:5,preview_duration_ms:2e3,difficulty:"MEDIUM"},tags:["mmoire","squence","working memory"],estimatedDuration:5},{id:"image-pairs",type:"IMAGE_PAIRS",title:"Image Pairs",description:"Retrouve les paires d'images identiques. Mmoire visuelle avance.",category:"memory",difficulty:["EASY","MEDIUM","HARD"],thumbnail:"/images/exercises/image-pairs.png",icon:"",component:Am,defaultConfig:{grid_rows:4,grid_cols:4,images:[],time_weight:.5,accuracy_weight:.5,difficulty:"MEDIUM"},tags:["mmoire","visuel","images"],estimatedDuration:4},{id:"reaction-time",type:"REACTION_TIME",title:"Reaction Time",description:"Clique le plus vite possible quand la cible apparat. Amliore tes rflexes.",category:"reflexes",difficulty:["EASY","MEDIUM","HARD"],thumbnail:"/images/exercises/reaction-time.png",icon:"",component:Fm,defaultConfig:{trials:10,min_delay_ms:1e3,max_delay_ms:3e3,difficulty:"MEDIUM"},tags:["rflexes","temps de raction","rapidit"],estimatedDuration:2},{id:"peripheral-vision",type:"PERIPHERAL_VISION",title:"Peripheral Vision",description:"Repre les cibles dans ta vision priphrique. Essentiel pour l'awareness en jeu.",category:"attention",difficulty:["EASY","MEDIUM","HARD"],thumbnail:"/images/exercises/peripheral-vision.png",icon:"",component:Dm,defaultConfig:{target_radius:300,target_duration_ms:1500,distractor_count:3,difficulty:"MEDIUM"},tags:["vision","awareness","priphrique"],estimatedDuration:3},{id:"multitask",type:"MULTITASK",title:"MultiTask",description:"Gre plusieurs tches simultanment. Amliore ta gestion cognitive en teamfight.",category:"attention",difficulty:["EASY","MEDIUM","HARD"],thumbnail:"/images/exercises/multitask.png",icon:"",component:Om,defaultConfig:{tasks:["color_matching","number_counting","shape_rotation"],task_duration_ms:3e4,difficulty:"MEDIUM"},tags:["multitasking","attention","gestion cognitive"],estimatedDuration:5},{id:"last-hit-trainer",type:"LAST_HIT_TRAINER",title:"Last Hit Trainer",description:"Entrane-toi au last hit sur les sbires. Timing et prcision essentiels.",category:"gaming",difficulty:["EASY","MEDIUM","HARD"],thumbnail:"/images/exercises/last-hit-trainer.png",icon:"",component:Hm,defaultConfig:{minion_hp:100,minion_spawn_interval_ms:3e3,attack_damage:50,difficulty:"MEDIUM"},tags:["MOBA","last hit","farming","timing"],estimatedDuration:5},{id:"dodge-master",type:"DODGE_MASTER",title:"Dodge Master",description:"Esquive les projectiles ennemis. Amliore ton positionnement et tes rflexes.",category:"gaming",difficulty:["EASY","MEDIUM","HARD"],thumbnail:"/images/exercises/dodge-master.png",icon:"",component:$m,defaultConfig:{projectile_speed:300,player_speed:250,difficulty:"MEDIUM"},tags:["MOBA","dodge","positionnement","rflexes"],estimatedDuration:4},{id:"skillshot-trainer",type:"SKILLSHOT_TRAINER",title:"Skillshot Trainer",description:"Vise et touche les cibles en mouvement. Matrise tes skillshots.",category:"gaming",difficulty:["EASY","MEDIUM","HARD"],thumbnail:"/images/exercises/skillshot-trainer.png",icon:"",component:Lm,defaultConfig:{projectile_speed:400,target_speed:200,difficulty:"MEDIUM"},tags:["MOBA","skillshot","vise","prcision"],estimatedDuration:5},{id:"breathing",type:"BREATHING",title:"Respiration Guide",description:"Exercices de respiration avec frquences audio. Rduis ton stress avant les matchs.",category:"wellbeing",difficulty:["EASY"],thumbnail:"/images/exercises/breathing.png",icon:"",component:Pm,defaultConfig:{pattern:"cardiac_coherence",duration_minutes:5,frequency_hz:.1},tags:["bien-tre","respiration","stress","relaxation"],estimatedDuration:5}];function zm(t){return Es.find(r=>r.id===t)}const Ms={memory:{label:"Mmoire",description:"Exercices pour amliorer la mmoire visuelle, spatiale et de travail",icon:"",color:"primary"},reflexes:{label:"Rflexes",description:"Entranement des temps de raction et de la rapidit",icon:"",color:"accent"},attention:{label:"Attention",description:"Amliore ta concentration, ton awareness et ton multitasking",icon:"",color:"secondary"},gaming:{label:"Gaming MOBA",description:"Exercices spcifiques aux mcaniques de jeu MOBA",icon:"",color:"info"},wellbeing:{label:"Bien-tre",description:"Exercices de respiration, relaxation et gestion du stress",icon:"",color:"success"}},Bm=()=>{const[t,r]=c.useState("all"),[s,a]=c.useState(""),n=Es.filter(l=>{var m;const o=t==="all"||l.category===t,d=s===""||l.title.toLowerCase().includes(s.toLowerCase())||l.description.toLowerCase().includes(s.toLowerCase())||((m=l.tags)==null?void 0:m.some(x=>x.toLowerCase().includes(s.toLowerCase())));return o&&d}),i=n.reduce((l,o)=>(l[o.category]||(l[o.category]=[]),l[o.category].push(o),l),{});return e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"max-w-7xl mx-auto mb-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:" Exercices Cognitifs"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Entrane ta mmoire, tes rflexes et tes comptences de jeu avec nos exercices scientifiquement conus pour les joueurs e-sport."})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-medium p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Rechercher un exercice...",value:s,onChange:l=>a(l.target.value),className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500"})}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:[e.jsx("button",{onClick:()=>r("all"),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors ${t==="all"?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Tous"}),Object.entries(Ms).map(([l,o])=>e.jsxs("button",{onClick:()=>r(l),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors ${t===l?"bg-primary-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[o.icon," ",o.label]},l))]})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-soft",children:[e.jsx("div",{className:"text-3xl font-bold text-primary-600 dark:text-primary-400 mb-1",children:Es.length}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Exercices"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-soft",children:[e.jsx("div",{className:"text-3xl font-bold text-secondary-600 dark:text-secondary-400 mb-1",children:"5"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Catgories"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-soft",children:[e.jsx("div",{className:"text-3xl font-bold text-success-600 dark:text-success-400 mb-1",children:"-"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Complts"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-soft",children:[e.jsx("div",{className:"text-3xl font-bold text-accent-600 dark:text-accent-500 mb-1",children:"-"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Meilleur score"})]})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[t==="all"?Object.entries(Ms).map(([l,o])=>{const d=i[l];return!d||d.length===0?null:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-3xl",children:o.icon}),o.label]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:o.description})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(m=>e.jsx(La,{exercise:m},m.id))})]},l)}):e.jsx("div",{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(l=>e.jsx(La,{exercise:l},l.id))})}),n.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"Aucun exercice trouv. Essayez une autre recherche ou catgorie."})})]})]})},La=({exercise:t})=>{const r=Ms[t.category];return e.jsxs(xe,{to:`/exercises/cognitive/${t.id}`,className:"group block bg-white dark:bg-gray-800 rounded-2xl shadow-medium hover:shadow-strong transition-all duration-300 overflow-hidden",children:[e.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-primary-500 to-primary-700 dark:from-primary-700 dark:to-primary-900 flex items-center justify-center",children:[e.jsx("span",{className:"text-7xl group-hover:scale-110 transition-transform duration-300",children:t.icon||""}),e.jsxs("div",{className:"absolute top-3 right-3 px-3 py-1 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-lg text-sm font-medium",children:[r.icon," ",r.label]}),e.jsx("div",{className:"absolute bottom-3 left-3 flex gap-1",children:t.difficulty.map(s=>e.jsx("span",{className:"px-2 py-1 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded text-xs font-medium",children:s==="EASY"?"":s==="MEDIUM"?"":""},s))})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:t.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:t.description}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:t.tags.slice(0,3).map(s=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs rounded-md",children:s},s))}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[" ~",t.estimatedDuration||3," min"]}),e.jsx("div",{className:"text-primary-600 dark:text-primary-400 font-medium group-hover:translate-x-1 transition-transform duration-300",children:"Jouer "})]})]})]})},Rs={variant:"slf",colors:{primary:"bg-primary-900",primaryHover:"hover:bg-primary-800",primaryLight:"bg-primary-500",primaryLightHover:"hover:bg-primary-600",accent:"bg-secondary-500",accentHover:"hover:bg-secondary-600",accentLight:"bg-accent-500",accentLightHover:"hover:bg-accent-600",background:"bg-gray-900",backgroundLight:"bg-gray-50",backgroundSecondary:"bg-gray-800 dark:bg-gray-800",backgroundSecondaryLight:"bg-gray-100 dark:bg-gray-800",card:"bg-white dark:bg-gray-800",cardHover:"hover:bg-gray-50 dark:hover:bg-gray-700",cardBorder:"border-gray-200 dark:border-gray-700",text:"text-gray-900 dark:text-white",textSecondary:"text-gray-600 dark:text-gray-300",textMuted:"text-gray-500 dark:text-gray-400",textOnPrimary:"text-white",textOnAccent:"text-gray-900",border:"border-gray-300 dark:border-gray-700",borderLight:"border-gray-200 dark:border-gray-800",borderStrong:"border-gray-400 dark:border-gray-600",success:"bg-success-500",successHover:"hover:bg-success-600",successText:"text-success-700 dark:text-success-400",warning:"bg-accent-500",warningHover:"hover:bg-accent-600",warningText:"text-accent-700 dark:text-accent-400",error:"bg-danger-500",errorHover:"hover:bg-danger-600",errorText:"text-danger-700 dark:text-danger-400",info:"bg-info-600",infoHover:"hover:bg-info-700",infoText:"text-info-700 dark:text-info-400",interactive:"bg-primary-600",interactiveHover:"hover:bg-primary-700",interactiveActive:"active:bg-primary-800",interactiveDisabled:"bg-gray-300 dark:bg-gray-700 cursor-not-allowed opacity-50",focusRing:"focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900",overlay:"bg-gray-900/50",overlayLight:"bg-gray-900/30",overlayStrong:"bg-gray-900/75"},borderRadius:{sm:"rounded-lg",md:"rounded-xl",lg:"rounded-2xl",xl:"rounded-4xl",full:"rounded-full"},shadows:{sm:"shadow-soft",md:"shadow-medium",lg:"shadow-strong",xl:"shadow-strong",none:"shadow-none"},fontFamily:"font-sans",fontSize:{xs:"text-xs",sm:"text-sm",base:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl"},spacing:{xs:"p-2",sm:"p-3",md:"p-4",lg:"p-6",xl:"p-8"},transition:{fast:"transition-all duration-150",normal:"transition-all duration-300",slow:"transition-all duration-500"},animation:{fadeIn:"animate-fade-in",slideUp:"animate-slide-up",slideDown:"animate-slide-down",pulse:"animate-pulse-slow"}};({...Rs,colors:{...Rs.colors}});const Gm=()=>{const{exerciseId:t}=or(),r=tt(),s=t?zm(t):void 0,[a,n]=c.useState("MEDIUM"),[i,l]=c.useState(!1);if(!s)return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:" Exercice introuvable"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"L'exercice demand n'existe pas."}),e.jsx("button",{onClick:()=>r("/exercises/cognitive"),className:"px-6 py-3 bg-primary-600 text-white rounded-xl hover:bg-primary-700 transition-colors",children:" Retour aux exercices"})]})});const o=async p=>{console.log("Exercise completed:",p),l(!1),alert(`Exercice termin! Score: ${p.score}`)},d=()=>{l(!1)},m=()=>{l(!0)},x={...s.defaultConfig,difficulty:a},h=s.component;return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:i?e.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-900",children:e.jsx("div",{className:"w-full h-full max-w-7xl mx-auto p-4",children:e.jsx(h,{config:x,theme:Rs,onComplete:o,onExit:d})})}):e.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx("button",{onClick:()=>r("/exercises/cognitive"),className:"mb-6 text-gray-600 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 flex items-center gap-2 transition-colors",children:" Retour aux exercices"}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-medium p-8 mb-6",children:[e.jsxs("div",{className:"flex items-start gap-6 mb-6",children:[e.jsx("div",{className:"text-6xl",children:s.icon||""}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:s.title}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-4",children:s.description}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map(p=>e.jsx("span",{className:"px-3 py-1 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 text-sm rounded-lg",children:p},p))})]})]}),s.difficulty.length>1&&e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Slectionne la difficult:"}),e.jsx("div",{className:"flex gap-3",children:s.difficulty.map(p=>e.jsxs("button",{onClick:()=>n(p),className:`flex-1 px-4 py-3 rounded-xl font-medium transition-all ${a===p?"bg-primary-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[p==="EASY"&&" Facile",p==="MEDIUM"&&" Moyen",p==="HARD"&&" Difficile"]},p))})]}),e.jsx("button",{onClick:m,className:"w-full py-4 bg-primary-600 hover:bg-primary-700 text-white text-lg font-bold rounded-xl transition-colors shadow-medium hover:shadow-strong",children:" Commencer l'exercice"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-soft",children:[e.jsx("div",{className:"text-2xl mb-2",children:""}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Dure estime"}),e.jsxs("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["~",s.estimatedDuration," min"]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-soft",children:[e.jsx("div",{className:"text-2xl mb-2",children:""}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Catgorie"}),e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white capitalize",children:s.category})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-4 shadow-soft",children:[e.jsx("div",{className:"text-2xl mb-2",children:""}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Meilleur score"}),e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"-"})]})]})]})})};function Ie({children:t,allowedRoles:r}){const{isAuthenticated:s,user:a}=ze(),n=Kn();return s?r&&a&&!a.is_super_admin&&!r.includes(a.role)?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Accs refus"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Vous n'avez pas les permissions ncessaires pour accder  cette page."}),e.jsx("a",{href:"/dashboard",className:"text-primary-600 hover:text-primary-700 dark:text-primary-400",children:"Retour au dashboard"})]})}):e.jsx(e.Fragment,{children:t}):e.jsx(Ia,{to:"/login",state:{from:n},replace:!0})}const Wm=`CONTRAT MORAL DES JOUEURS  QUIPE SLF (SALADE DE FRUITS)

 Chaque joueur apporte sa propre saveur  la Salade de Fruits : ensemble, nous visons l'excellence internationale ! 




PRAMBULE  L'ESPRIT SLF

L'quipe SLF incarne une vision holistique de l'esport : performance, bien-tre, respect et croissance collective.

Ce contrat moral dfinit notre cadre de collaboration, en respectant les valeurs humaines, l'inclusion des neurodivergents et l'ambition professionnelle.




1. ENGAGEMENT ENVERS L'QUIPE ET SES OBJECTIFS

Chaque joueur place l'intrt collectif au cur de son engagement, avec un taux de participation minimum de 80% aux entranements, scrims et runions. Toute absence doit tre signale au moins une heure  l'avance sur Discord.

Rejoindre la SLF signifie choisir l'excellence collective. Un engagement infrieur  80% de participation peut entraner une rvision du statut au sein de l'quipe aprs accompagnement et dialogue.

Avant toute sanction, un entretien individuel sera organis pour comprendre les difficults et proposer des solutions adaptes (plan de progression personnel, amnagements, accompagnement).




2. COMMUNICATION ET ESPRIT D'QUIPE

La communication reste claire, respectueuse et constructive. Les changes sur Discord privilgient la progression collective et la bienveillance.

Chaque membre s'exprime de manire inclusive, en vitant la vulgarit et les abrviations confuses. Les discussions restent centres sur l'quipe. Les conflits sont rsolus par le dialogue et la mdiation.

La SLF respecte les particularits neurodivergentes (TDAH, HPI, hypersensibilit, etc.) et encourage l'adaptation des mthodes de communication selon les besoins individuels.




3. DISCIPLINE ET RESPECT DE L'ENTRANEMENT

PONCTUALIT : Arrive 5 minutes avant chaque session obligatoire.

Le respect intgral du programme d'entranement individuel et collectif est obligatoire :

   Suivi quotidien des exercices via la Plateforme SLF (dashboard joueur, statistiques de progression)
   Captures d'cran des sessions compltes postes sur Discord (#daily-training)
   En cas de difficults rptes, un plan de soutien personnalis sera mis en place avant toute action disciplinaire

Les instructions du staff sont suivies dans un esprit de collaboration. Les questionnements constructifs sont encourags ; l'opposition systmatique ne l'est pas.




4. BIEN-TRE HOLISTIQUE ET QUILIBRE

La SLF priorise l'quilibre vie professionnelle/vie personnelle, le sommeil, l'alimentation saine et la gestion du stress. Chaque joueur prend soin de sa sant mentale et physique.

   Pauses obligatoires : 5-10 minutes toutes les heures d'entranement
   Dconnexion quotidienne : minimum 1 heure sans crans (auto-rapporte dans le journal personnel)
   Sommeil : minimum 6-8 heures par nuit (suivi via journal de la plateforme)
   Alimentation quilibre : hydratation, fruits, lgumes, protines
   Demander de l'aide si stress ou confront  des difficults personnelles

Le staff (coach, manager) est disponible pour accompagner chaque joueur dans la gestion de son bien-tre, en offrant un soutien sans jugement.




5. CONFIDENTIALIT ET PROPRIT INTELLECTUELLE

Les stratgies, mthodes et contenus SLF restent confidentiels pendant et aprs l'implication. L'utilisation de la marque SLF ncessite une autorisation.

Les joueurs s'engagent  protger les informations sensibles de l'quipe. L'utilisation du logo, du nom ou de l'image SLF pour des projets personnels doit tre approuve par la direction.

   Streams personnels : libres, mention SLF apprcie mais non obligatoire
   Rseaux sociaux : reprsentation positive encourage
   Merchandising : approbation obligatoire




6. DROITS  L'IMAGE ET RESPECT

Les joueurs autorisent l'utilisation de leur image pour la promotion SLF en respectant leur dignit. Ils peuvent refuser des utilisations spcifiques par demande crite.

Les contenus publis respectent la vie prive et les valeurs. Les joueurs conservent le droit de revoir et d'exiger la suppression de l'utilisation de leur image.




7. DROITS ET SOUTIEN DES JOUEURS

Les joueurs bnficient de :

   Coaching personnalis et collectif via la plateforme
   Accs exclusif  la Plateforme SLF (exercices cognitifs, mini-jeux, suivi progression)
   Formation continue : technique, mentale, communication
   Soutien au bien-tre et mdiation des conflits
   Transparence financire totale (partage des prix 70/30)




8. GESTION DES CONFLITS ET SANCTIONS PROGRESSIVES

PROCESSUS DE RSOLUTION :

  1. Dialogue direct entre les personnes concernes
  2. Mdiation du staff si ncessaire
  3. Plan de soutien personnalis
  4. Sanctions en dernier recours : avertissement  suspension temporaire  exclusion

PRINCIPE FONDAMENTAL : Chaque situation est unique ; chaque joueur mrite d'tre entendu et soutenu avant toute sanction.




9. PARTAGE DES PRIX  TRANSPARENCE TOTALE

RPARTITION :

   70% aux joueurs (rpartis quitablement entre les membres actifs au moment des gains)
   30%  la SLF (organisation, coaching, logistique, dveloppement de la plateforme)

DTAILS :

   Paiements dans un dlai maximum de 30 jours aprs rception
   Relevs dtaills disponibles sur demande
   Transparence comptable totale

DFINITION DU MEMBRE ACTIF : Joueur prsent et engag au moment de la comptition gnratrice de revenus, indpendamment des changements ultrieurs de composition.




10. CE QUE REPRSENTE LA SLF

NOUS SOMMES :

   Une quipe d'lite ambitieuse et bienveillante
   Un collectif respectueux des individualits
   Un environnement d'apprentissage et de croissance
   Une famille esport inclusive et professionnelle

NOUS NE SOMMES PAS :

   Un groupe occasionnel sans ambition
   Un environnement toxique ou individualiste
   Une structure rigide sans coute
   Un espace de jugement ou d'exclusion




11. UTILISATION DE LA PLATEFORME SLF

ACCS ET CONNEXION :

   Chaque joueur reoit des identifiants personnels pour accder  la plateforme
   Premire connexion : acceptation de ce contrat moral obligatoire
   Accs dashboard joueur personnalis avec statistiques de progression

FONCTIONNALITS DISPONIBLES :

 DASHBOARD JOUEUR
  Suivi de ta progression en temps rel, statistiques dtailles, historique des sessions, objectifs personnels

 EXERCICES COGNITIFS (5 catgories)
   Rflexes : temps de raction, rapidit de dcision
   Vision : vision priphrique, tracking d'objets multiples
   Mmoire : rtention, rappel, squences
   Attention : concentration, focus, vigilance
   Coordination : multi-tches, synchronisation

 MINI-JEUX INTGRS
   Multi-Task Test : gestion de tches simultanes
   Peripheral Vision Trainer : entranement vision priphrique
   Exercices personnaliss crs par les coachs

 CALENDRIER & SESSIONS
  Planning d'quipe, sessions programmes, rappels automatiques

 RAPPORTS & ANALYTICS
  Rapports hebdomadaires, analyses dtailles, comparaison des performances

 JOURNAL PERSONNEL
  Notes quotidiennes, suivi sommeil/nutrition/bien-tre, auto-rflexion

RESPECT DE LA CONFIDENTIALIT :

   Ne pas partager les accs  la plateforme avec des personnes extrieures
   Respecter la confidentialit des donnes personnelles des autres joueurs
   Ne pas divulguer les stratgies d'quipe en dehors du cercle autoris

UTILISATION RESPONSABLE :

   Utiliser la plateforme uniquement  des fins d'entranement et de dveloppement
   Complter rgulirement les exercices assigns par le coach
   Donner du feedback sur les outils et fonctionnalits proposs

SCURIT DES COMPTES :

   Protger son mot de passe et ne jamais le partager
   Signaler toute activit suspecte sur son compte
   Dconnexion aprs chaque session sur appareil partag




12. PROGRAMME D'ENTRANEMENT

ROUTINE QUOTIDIENNE OBLIGATOIRE (1,5  2h) :

DVELOPPEMENT PERSONNEL (45-65 min) :
   Respiration et Mditation : 10-15 min (module Bien-tre)
   Auto-suggestion : 5 min (journal personnel)
   Activit physique : 20-30 min (ressources vido)
   Exercices cognitifs : 20 min (section Exercices)
   Pratique de l'anglais : 5 min minimum

ENTRANEMENT GAMING (40-60 min) :
   Coordination : 10-15 min (Multi-Task Test, Peripheral Vision Trainer)
   Stratgie : 10-15 min optionnel (checs, Go, puzzles)
   Simulations HOK : 30 min minimum (combos, synergies, optimisation)
   Revue de jeu : 1-2 matchs analyss

QUILIBRE ET RCUPRATION :
   Nutrition quilibre (journal personnel)
   Pauses : 5-10 min/heure (rappels plateforme)
   Dconnexion : 1h/jour sans cran
   Sommeil : 6-8h/nuit

ROUTINE HEBDOMADAIRE :
   Analyse 2 matchs pro minimum
   Runions d'quipe (calendrier plateforme)
   Partage progression sur Discord
   Veille stratgique (actualits HOK, mta)




13. VOLUTION ET ADAPTATION

Ce contrat volue avec l'quipe. Toute modification sera discute collectivement et valide par la signature de tous les membres.

L'amlioration continue de la Plateforme SLF entranera des mises  jour de ce contrat, en maintenant l'esprit et les valeurs SLF.




ACCEPTATION DU CONTRAT

En acceptant ce contrat moral, je m'engage  :

   Respecter tous les principes noncs dans ce document
   Contribuer positivement  La Salade de Fruits E-Sport
   Faire preuve de bonne foi et de bienveillance envers tous les membres
   Communiquer rapidement toute difficult ou situation problmatique
   Utiliser la Plateforme SLF de manire responsable et rgulire
   Suivre le programme d'entranement quotidien et hebdomadaire
   Reprsenter l'quipe SLF avec dignit en comptition et en public

Je comprends que le non-respect rpt et grave de ces principes peut entraner des sanctions, allant de l'avertissement  l'exclusion de l'quipe, aprs discussion avec le coach et le manager.

Je reconnais galement que l'quipe s'engage  :

   Soutenir ma progression avec des outils professionnels
   Respecter mes droits et ma personnalit
   Maintenir un environnement bienveillant et inclusif
   Assurer la transparence et l'quit dans tous les domaines
   M'accompagner en cas de difficults, avant toute sanction




 Le succs est comme une salade de fruits : chaque saveur compte. 

 Jay, The Ermite  Matre Shinkofa


LA SALADE DE FRUITS E-SPORT
Cultivons l'excellence, rcoltons les victoires 

Version 2.0  Dcembre 2025
`;function Vm({isOpen:t,onAccept:r,token:s}){const[a,n]=c.useState(!1),[i,l]=c.useState(!1),[o,d]=c.useState(!1),[m,x]=c.useState(null),h=c.useRef(null),p=()=>{if(h.current){const{scrollTop:b,scrollHeight:j,clientHeight:R}=h.current,k=b+R>=j-10;n(k)}};c.useEffect(()=>{t&&(n(!1),l(!1),x(null))},[t]);const g=async()=>{d(!0),x(null);try{const b=await ae.post("/auth/accept-moral-contract");console.log("Contract accepted:",b.data),r()}catch(b){console.error("Error accepting contract:",b),x("Une erreur est survenue. Veuillez ressayer.")}finally{d(!1)}};if(!t)return null;const u=a&&i;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 animate-fade-in"}),e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-strong max-w-4xl w-full animate-slide-up",role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:[e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{id:"modal-title",className:"text-3xl font-bold text-primary-900 dark:text-white mb-2",children:"Contrat Moral"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"La Salade de Fruits E-Sport"})]})}),e.jsxs("div",{ref:h,onScroll:p,className:"px-6 py-6 max-h-[60vh] overflow-y-auto prose prose-sm dark:prose-invert max-w-none",children:[e.jsx("div",{className:"whitespace-pre-wrap text-gray-700 dark:text-gray-300 leading-relaxed",children:Wm}),!a&&e.jsx("div",{className:"sticky bottom-0 left-0 right-0 bg-gradient-to-t from-white dark:from-gray-800 pt-8 text-center",children:e.jsx("p",{className:"text-primary-600 dark:text-primary-400 font-semibold animate-pulse",children:" Continue de lire jusqu'en bas "})})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 p-6",children:[m&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-400 text-sm",children:m}),e.jsx("div",{className:"mb-6",children:e.jsxs("label",{className:"flex items-start cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:i,onChange:b=>l(b.target.checked),disabled:!a,className:"mt-1 w-5 h-5 rounded border-gray-300 text-primary-600 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed"}),e.jsx("span",{className:"ml-3 text-gray-700 dark:text-gray-300",children:"J'ai lu et je comprends le contrat moral de La Salade de Fruits E-Sport. Je m'engage  respecter les principes noncs ci-dessus."})]})}),e.jsx(G,{variant:"primary",fullWidth:!0,size:"lg",onClick:g,disabled:!u||o,isLoading:o,children:o?"Acceptation en cours...":"Accepter le contrat moral"}),!a&&e.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400 mt-4",children:"Tu dois lire le contrat en entier avant de pouvoir l'accepter"})]})]})})})]})}function Qm({children:t}){const{user:r,isAuthenticated:s,fetchCurrentUser:a}=ze(),[n,i]=c.useState(!1);c.useEffect(()=>{s&&r&&(r.role===he.JOUEUR&&!r.moral_contract_accepted?i(!0):i(!1))},[s,r]);const l=async()=>{await a(),i(!1)},o=localStorage.getItem("access_token");return e.jsxs(e.Fragment,{children:[t,n&&o&&e.jsx(Vm,{isOpen:n,onAccept:l,token:o})]})}const Ym=new Ti({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:5*60*1e3}}});function Jm(){const{initialize:t}=ze();return c.useEffect(()=>{t()},[t]),e.jsx(Li,{client:Ym,children:e.jsx(Qm,{children:e.jsx(Zn,{children:e.jsxs(ei,{children:[e.jsx(De,{path:"/",element:e.jsx(Ac,{})}),e.jsx(De,{path:"/login",element:e.jsx(Oc,{})}),e.jsx(De,{path:"/forgot-password",element:e.jsx($c,{})}),e.jsx(De,{path:"/reset-password/:token",element:e.jsx(Lc,{})}),e.jsx(De,{path:"/register",element:e.jsx(Ia,{to:"/",replace:!0})}),e.jsx(De,{path:"/dashboard",element:e.jsx(Ie,{children:e.jsx(zc,{})})}),e.jsx(De,{path:"/exercises/cognitive/:exerciseId",element:e.jsx(Ie,{children:e.jsx(Gm,{})})}),e.jsx(De,{path:"/exercises/cognitive",element:e.jsx(Ie,{children:e.jsx(Bm,{})})}),e.jsx(De,{path:"/exercises/:id",element:e.jsx(Ie,{children:e.jsx(eu,{})})}),e.jsx(De,{path:"/exercises",element:e.jsx(Ie,{children:e.jsx(Wc,{})})}),e.jsx(De,{path:"/games/peripheral-vision",element:e.jsx(Ie,{children:e.jsx(sm,{})})}),e.jsx(De,{path:"/games/multi-task",element:e.jsx(Ie,{children:e.jsx(am,{})})}),e.jsx(De,{path:"/games/reaction-time/:id",element:e.jsx(Ie,{children:e.jsx(nm,{})})}),e.jsx(De,{path:"/games/memory/:exerciseId",element:e.jsx(Ie,{children:e.jsx(xm,{})})}),e.jsx(De,{path:"/calendar",element:e.jsx(Ie,{children:e.jsx(Ou,{})})}),e.jsx(De,{path:"/coaching",element:e.jsx(Ie,{children:e.jsx(Ju,{})})}),e.jsx(De,{path:"/profile",element:e.jsx(Ie,{children:e.jsx(Xu,{})})}),e.jsx(De,{path:"/team",element:e.jsx(Ie,{children:e.jsx(Ku,{})})}),e.jsx(De,{path:"/users",element:e.jsx(Ie,{children:e.jsx(rm,{})})}),e.jsx(De,{path:"/settings",element:e.jsx(Ie,{children:e.jsx(Zu,{})})}),e.jsx(De,{path:"/reports",element:e.jsx(Ie,{children:e.jsx(em,{})})}),e.jsx(De,{path:"/journal",element:e.jsx(Ie,{children:e.jsx(Iu,{})})}),e.jsx(De,{path:"/goals",element:e.jsx(Ie,{children:e.jsx(qu,{})})}),e.jsx(De,{path:"/media",element:e.jsx(Ie,{children:e.jsx(Hu,{})})}),e.jsx(De,{path:"/analytics",element:e.jsx(Ie,{children:e.jsx(zu,{})})}),e.jsx(De,{path:"*",element:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-6xl font-bold text-gray-900 dark:text-white mb-4",children:"404"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-8",children:"Page non trouve"}),e.jsx("a",{href:"/",className:"text-primary-600 hover:text-primary-700 dark:text-primary-400",children:"Retour  l'accueil"})]})})})]})})})})}xs.createRoot(document.getElementById("root")).render(e.jsx(Pe.StrictMode,{children:e.jsx(Jm,{})}));
//# sourceMappingURL=index-Cot5AQoF.js.map
